(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function Ng(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var uc={exports:{}},Fs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function t1(){if(K0)return Fs;K0=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(r,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:a,type:r,key:f,ref:c!==void 0?c:null,props:d}}return Fs.Fragment=i,Fs.jsx=l,Fs.jsxs=l,Fs}var Q0;function n1(){return Q0||(Q0=1,uc.exports=t1()),uc.exports}var y=n1(),cc={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function a1(){if(Z0)return pe;Z0=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function M(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,B={};function H(A,L,F){this.props=A,this.context=L,this.refs=B,this.updater=F||z}H.prototype.isReactComponent={},H.prototype.setState=function(A,L){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,L,"setState")},H.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function Q(){}Q.prototype=H.prototype;function X(A,L,F){this.props=A,this.context=L,this.refs=B,this.updater=F||z}var k=X.prototype=new Q;k.constructor=X,Y(k,H.prototype),k.isPureReactComponent=!0;var q=Array.isArray;function ne(){}var Z={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function oe(A,L,F){var W=F.ref;return{$$typeof:a,type:A,key:L,ref:W!==void 0?W:null,props:F}}function ie(A,L){return oe(A.type,L,A.props)}function we(A){return typeof A=="object"&&A!==null&&A.$$typeof===a}function Ae(A){var L={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(F){return L[F]})}var ft=/\/+/g;function de(A,L){return typeof A=="object"&&A!==null&&A.key!=null?Ae(""+A.key):L.toString(36)}function K(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ne,ne):(A.status="pending",A.then(function(L){A.status==="pending"&&(A.status="fulfilled",A.value=L)},function(L){A.status==="pending"&&(A.status="rejected",A.reason=L)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function N(A,L,F,W,le){var he=typeof A;(he==="undefined"||he==="boolean")&&(A=null);var me=!1;if(A===null)me=!0;else switch(he){case"bigint":case"string":case"number":me=!0;break;case"object":switch(A.$$typeof){case a:case i:me=!0;break;case v:return me=A._init,N(me(A._payload),L,F,W,le)}}if(me)return le=le(A),me=W===""?"."+de(A,0):W,q(le)?(F="",me!=null&&(F=me.replace(ft,"$&/")+"/"),N(le,L,F,"",function(xn){return xn})):le!=null&&(we(le)&&(le=ie(le,F+(le.key==null||A&&A.key===le.key?"":(""+le.key).replace(ft,"$&/")+"/")+me)),L.push(le)),1;me=0;var Ke=W===""?".":W+":";if(q(A))for(var He=0;He<A.length;He++)W=A[He],he=Ke+de(W,He),me+=N(W,L,F,he,le);else if(He=M(A),typeof He=="function")for(A=He.call(A),He=0;!(W=A.next()).done;)W=W.value,he=Ke+de(W,He++),me+=N(W,L,F,he,le);else if(he==="object"){if(typeof A.then=="function")return N(K(A),L,F,W,le);throw L=String(A),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return me}function V(A,L,F){if(A==null)return A;var W=[],le=0;return N(A,W,"","",function(he){return L.call(F,he,le++)}),W}function $(A){if(A._status===-1){var L=A._result;L=L(),L.then(function(F){(A._status===0||A._status===-1)&&(A._status=1,A._result=F)},function(F){(A._status===0||A._status===-1)&&(A._status=2,A._result=F)}),A._status===-1&&(A._status=0,A._result=L)}if(A._status===1)return A._result.default;throw A._result}var ce=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},xe={map:V,forEach:function(A,L,F){V(A,function(){L.apply(this,arguments)},F)},count:function(A){var L=0;return V(A,function(){L++}),L},toArray:function(A){return V(A,function(L){return L})||[]},only:function(A){if(!we(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return pe.Activity=b,pe.Children=xe,pe.Component=H,pe.Fragment=l,pe.Profiler=c,pe.PureComponent=X,pe.StrictMode=r,pe.Suspense=g,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,pe.__COMPILER_RUNTIME={__proto__:null,c:function(A){return Z.H.useMemoCache(A)}},pe.cache=function(A){return function(){return A.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(A,L,F){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var W=Y({},A.props),le=A.key;if(L!=null)for(he in L.key!==void 0&&(le=""+L.key),L)!I.call(L,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&L.ref===void 0||(W[he]=L[he]);var he=arguments.length-2;if(he===1)W.children=F;else if(1<he){for(var me=Array(he),Ke=0;Ke<he;Ke++)me[Ke]=arguments[Ke+2];W.children=me}return oe(A.type,le,W)},pe.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},pe.createElement=function(A,L,F){var W,le={},he=null;if(L!=null)for(W in L.key!==void 0&&(he=""+L.key),L)I.call(L,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(le[W]=L[W]);var me=arguments.length-2;if(me===1)le.children=F;else if(1<me){for(var Ke=Array(me),He=0;He<me;He++)Ke[He]=arguments[He+2];le.children=Ke}if(A&&A.defaultProps)for(W in me=A.defaultProps,me)le[W]===void 0&&(le[W]=me[W]);return oe(A,he,le)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(A){return{$$typeof:m,render:A}},pe.isValidElement=we,pe.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:$}},pe.memo=function(A,L){return{$$typeof:p,type:A,compare:L===void 0?null:L}},pe.startTransition=function(A){var L=Z.T,F={};Z.T=F;try{var W=A(),le=Z.S;le!==null&&le(F,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ne,ce)}catch(he){ce(he)}finally{L!==null&&F.types!==null&&(L.types=F.types),Z.T=L}},pe.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},pe.use=function(A){return Z.H.use(A)},pe.useActionState=function(A,L,F){return Z.H.useActionState(A,L,F)},pe.useCallback=function(A,L){return Z.H.useCallback(A,L)},pe.useContext=function(A){return Z.H.useContext(A)},pe.useDebugValue=function(){},pe.useDeferredValue=function(A,L){return Z.H.useDeferredValue(A,L)},pe.useEffect=function(A,L){return Z.H.useEffect(A,L)},pe.useEffectEvent=function(A){return Z.H.useEffectEvent(A)},pe.useId=function(){return Z.H.useId()},pe.useImperativeHandle=function(A,L,F){return Z.H.useImperativeHandle(A,L,F)},pe.useInsertionEffect=function(A,L){return Z.H.useInsertionEffect(A,L)},pe.useLayoutEffect=function(A,L){return Z.H.useLayoutEffect(A,L)},pe.useMemo=function(A,L){return Z.H.useMemo(A,L)},pe.useOptimistic=function(A,L){return Z.H.useOptimistic(A,L)},pe.useReducer=function(A,L,F){return Z.H.useReducer(A,L,F)},pe.useRef=function(A){return Z.H.useRef(A)},pe.useState=function(A){return Z.H.useState(A)},pe.useSyncExternalStore=function(A,L,F){return Z.H.useSyncExternalStore(A,L,F)},pe.useTransition=function(){return Z.H.useTransition()},pe.version="19.2.0",pe}var F0;function rf(){return F0||(F0=1,cc.exports=a1()),cc.exports}var C=rf();const i1=Ng(C);var fc={exports:{}},Js={},dc={exports:{}},hc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function s1(){return J0||(J0=1,(function(a){function i(N,V){var $=N.length;N.push(V);e:for(;0<$;){var ce=$-1>>>1,xe=N[ce];if(0<c(xe,V))N[ce]=V,N[$]=xe,$=ce;else break e}}function l(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var V=N[0],$=N.pop();if($!==V){N[0]=$;e:for(var ce=0,xe=N.length,A=xe>>>1;ce<A;){var L=2*(ce+1)-1,F=N[L],W=L+1,le=N[W];if(0>c(F,$))W<xe&&0>c(le,F)?(N[ce]=le,N[W]=$,ce=W):(N[ce]=F,N[L]=$,ce=L);else if(W<xe&&0>c(le,$))N[ce]=le,N[W]=$,ce=W;else break e}}return V}function c(N,V){var $=N.sortIndex-V.sortIndex;return $!==0?$:N.id-V.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var g=[],p=[],v=1,b=null,S=3,M=!1,z=!1,Y=!1,B=!1,H=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function k(N){for(var V=l(p);V!==null;){if(V.callback===null)r(p);else if(V.startTime<=N)r(p),V.sortIndex=V.expirationTime,i(g,V);else break;V=l(p)}}function q(N){if(Y=!1,k(N),!z)if(l(g)!==null)z=!0,ne||(ne=!0,Ae());else{var V=l(p);V!==null&&K(q,V.startTime-N)}}var ne=!1,Z=-1,I=5,oe=-1;function ie(){return B?!0:!(a.unstable_now()-oe<I)}function we(){if(B=!1,ne){var N=a.unstable_now();oe=N;var V=!0;try{e:{z=!1,Y&&(Y=!1,Q(Z),Z=-1),M=!0;var $=S;try{t:{for(k(N),b=l(g);b!==null&&!(b.expirationTime>N&&ie());){var ce=b.callback;if(typeof ce=="function"){b.callback=null,S=b.priorityLevel;var xe=ce(b.expirationTime<=N);if(N=a.unstable_now(),typeof xe=="function"){b.callback=xe,k(N),V=!0;break t}b===l(g)&&r(g),k(N)}else r(g);b=l(g)}if(b!==null)V=!0;else{var A=l(p);A!==null&&K(q,A.startTime-N),V=!1}}break e}finally{b=null,S=$,M=!1}V=void 0}}finally{V?Ae():ne=!1}}}var Ae;if(typeof X=="function")Ae=function(){X(we)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,de=ft.port2;ft.port1.onmessage=we,Ae=function(){de.postMessage(null)}}else Ae=function(){H(we,0)};function K(N,V){Z=H(function(){N(a.unstable_now())},V)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(N){N.callback=null},a.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<N?Math.floor(1e3/N):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(N){switch(S){case 1:case 2:case 3:var V=3;break;default:V=S}var $=S;S=V;try{return N()}finally{S=$}},a.unstable_requestPaint=function(){B=!0},a.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=S;S=N;try{return V()}finally{S=$}},a.unstable_scheduleCallback=function(N,V,$){var ce=a.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ce+$:ce):$=ce,N){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=$+xe,N={id:v++,callback:V,priorityLevel:N,startTime:$,expirationTime:xe,sortIndex:-1},$>ce?(N.sortIndex=$,i(p,N),l(g)===null&&N===l(p)&&(Y?(Q(Z),Z=-1):Y=!0,K(q,$-ce))):(N.sortIndex=xe,i(g,N),z||M||(z=!0,ne||(ne=!0,Ae()))),N},a.unstable_shouldYield=ie,a.unstable_wrapCallback=function(N){var V=S;return function(){var $=S;S=V;try{return N.apply(this,arguments)}finally{S=$}}}})(hc)),hc}var $0;function l1(){return $0||($0=1,dc.exports=s1()),dc.exports}var mc={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function r1(){if(P0)return At;P0=1;var a=rf();function i(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:p,implementation:v}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,At.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return d(g,p,null,v)},At.flushSync=function(g){var p=f.T,v=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=p,r.p=v,r.d.f()}},At.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},At.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},At.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:M}):v==="script"&&r.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},At.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},At.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin);r.d.L(g,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},At.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},At.requestFormReset=function(g){r.d.r(g)},At.unstable_batchedUpdates=function(g,p){return g(p)},At.useFormState=function(g,p,v){return f.H.useFormState(g,p,v)},At.useFormStatus=function(){return f.H.useHostTransitionStatus()},At.version="19.2.0",At}var I0;function o1(){if(I0)return mc.exports;I0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),mc.exports=r1(),mc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function u1(){if(W0)return Js;W0=1;var a=l1(),i=rf(),l=o1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return g(o),e;if(u===s)return g(o),t;u=u.sibling}throw Error(r(188))}if(n.return!==s.return)n=o,s=u;else{for(var h=!1,x=o.child;x;){if(x===n){h=!0,n=o,s=u;break}if(x===s){h=!0,s=o,n=u;break}x=x.sibling}if(!h){for(x=u.child;x;){if(x===n){h=!0,n=u,s=o;break}if(x===s){h=!0,s=u,n=o;break}x=x.sibling}if(!h)throw Error(r(189))}}if(n.alternate!==s)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),X=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=we&&e[we]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ft?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case H:return"Profiler";case B:return"StrictMode";case q:return"Suspense";case ne:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case X:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}var K=Array.isArray,N=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},ce=[],xe=-1;function A(e){return{current:e}}function L(e){0>xe||(e.current=ce[xe],ce[xe]=null,xe--)}function F(e,t){xe++,ce[xe]=e.current,e.current=t}var W=A(null),le=A(null),he=A(null),me=A(null);function Ke(e,t){switch(F(he,t),F(le,e),F(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?m0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=m0(t),e=p0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(W),F(W,e)}function He(){L(W),L(le),L(he)}function xn(e){e.memoizedState!==null&&F(me,e);var t=W.current,n=p0(t,e.type);t!==n&&(F(le,e),F(W,n))}function Hn(e){le.current===e&&(L(W),L(le)),me.current===e&&(L(me),Xs._currentValue=$)}var rn,Ia;function Xt(e){if(rn===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rn=t&&t[1]||"",Ia=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+e+Ia}var kn=!1;function Ca(e,t){if(!e||kn)return"";kn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(O){var j=O}Reflect.construct(e,[],G)}else{try{G.call()}catch(O){j=O}e.call(G.prototype)}}else{try{throw Error()}catch(O){j=O}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(O){if(O&&j&&typeof O.stack=="string")return[O.stack,j.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),h=u[0],x=u[1];if(h&&x){var T=h.split(`
`),w=x.split(`
`);for(o=s=0;s<T.length&&!T[s].includes("DetermineComponentFrameRoot");)s++;for(;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;if(s===T.length||o===w.length)for(s=T.length-1,o=w.length-1;1<=s&&0<=o&&T[s]!==w[o];)o--;for(;1<=s&&0<=o;s--,o--)if(T[s]!==w[o]){if(s!==1||o!==1)do if(s--,o--,0>o||T[s]!==w[o]){var R=`
`+T[s].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=s&&0<=o);break}}}finally{kn=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Xt(n):""}function ns(e,t){switch(e.tag){case 26:case 27:case 5:return Xt(e.type);case 16:return Xt("Lazy");case 13:return e.child!==t&&t!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return Ca(e.type,!1);case 11:return Ca(e.type.render,!1);case 1:return Ca(e.type,!0);case 31:return Xt("Activity");default:return""}}function Wa(e){try{var t="",n=null;do t+=ns(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Yn=Object.prototype.hasOwnProperty,qn=a.unstable_scheduleCallback,Xn=a.unstable_cancelCallback,ei=a.unstable_shouldYield,ti=a.unstable_requestPaint,dt=a.unstable_now,Kn=a.unstable_getCurrentPriorityLevel,Da=a.unstable_ImmediatePriority,Na=a.unstable_UserBlockingPriority,dn=a.unstable_NormalPriority,_a=a.unstable_LowPriority,_e=a.unstable_IdlePriority,et=a.log,J=a.unstable_setDisableYieldValue,P=null,ee=null;function ue(e){if(typeof et=="function"&&J(e),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(P,e)}catch{}}var ge=Math.clz32?Math.clz32:Qe,Ye=Math.log,ht=Math.LN2;function Qe(e){return e>>>=0,e===0?32:31-(Ye(e)/ht|0)|0}var be=256,Ze=262144,Ct=4194304;function Kt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~u,s!==0?o=Kt(s):(h&=x,h!==0?o=Kt(h):n||(n=x&~e,n!==0&&(o=Kt(n))))):(x=s&~u,x!==0?o=Kt(x):h!==0?o=Kt(h):n||(n=s&~e,n!==0&&(o=Kt(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function as(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Yv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jf(){var e=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),e}function $r(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function is(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qv(e,t,n,s,o,u){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,T=e.expirationTimes,w=e.hiddenUpdates;for(n=h&~n;0<n;){var R=31-ge(n),G=1<<R;x[R]=0,T[R]=-1;var j=w[R];if(j!==null)for(w[R]=null,R=0;R<j.length;R++){var O=j[R];O!==null&&(O.lane&=-536870913)}n&=~G}s!==0&&$f(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function $f(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ge(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function Pf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-ge(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}function If(e,t){var n=t&-t;return n=(n&42)!==0?1:Pr(n),(n&(e.suspendedLanes|t))!==0?0:n}function Pr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ir(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wf(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:U0(e.type))}function ed(e,t){var n=V.p;try{return V.p=e,t()}finally{V.p=n}}var Qn=Math.random().toString(36).slice(2),yt="__reactFiber$"+Qn,_t="__reactProps$"+Qn,ai="__reactContainer$"+Qn,Wr="__reactEvents$"+Qn,Xv="__reactListeners$"+Qn,Kv="__reactHandles$"+Qn,td="__reactResources$"+Qn,ss="__reactMarker$"+Qn;function eo(e){delete e[yt],delete e[_t],delete e[Wr],delete e[Xv],delete e[Kv]}function ii(e){var t=e[yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ai]||n[yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=T0(e);e!==null;){if(n=e[yt])return n;e=T0(e)}return t}e=n,n=e.parentNode}return null}function si(e){if(e=e[yt]||e[ai]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ls(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function li(e){var t=e[td];return t||(t=e[td]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[ss]=!0}var nd=new Set,ad={};function Ma(e,t){ri(e,t),ri(e+"Capture",t)}function ri(e,t){for(ad[e]=t,e=0;e<t.length;e++)nd.add(t[e])}var Qv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),id={},sd={};function Zv(e){return Yn.call(sd,e)?!0:Yn.call(id,e)?!1:Qv.test(e)?sd[e]=!0:(id[e]=!0,!1)}function ml(e,t,n){if(Zv(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function pl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function bn(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ld(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fv(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){n=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function to(e){if(!e._valueTracker){var t=ld(e)?"checked":"value";e._valueTracker=Fv(e,t,""+e[t])}}function rd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ld(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jv=/[\n"\\]/g;function Zt(e){return e.replace(Jv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function no(e,t,n,s,o,u,h,x){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Qt(t)):e.value!==""+Qt(t)&&(e.value=""+Qt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?ao(e,h,Qt(t)):n!=null?ao(e,h,Qt(n)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Qt(x):e.removeAttribute("name")}function od(e,t,n,s,o,u,h,x){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){to(e);return}n=n!=null?""+Qt(n):"",t=t!=null?""+Qt(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),to(e)}function ao(e,t,n){t==="number"&&gl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function oi(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Qt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ud(e,t,n){if(t!=null&&(t=""+Qt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Qt(n):""}function cd(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(r(92));if(K(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Qt(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),to(e)}function ui(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $v=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fd(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||$v.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function dd(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&n[o]!==s&&fd(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&fd(e,u,t[u])}function io(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Iv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yl(e){return Iv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Sn(){}var so=null;function lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ci=null,fi=null;function hd(e){var t=si(e);if(t&&(e=t.stateNode)){var n=e[_t]||null;e:switch(e=t.stateNode,t.type){case"input":if(no(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Zt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=s[_t]||null;if(!o)throw Error(r(90));no(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&rd(s)}break e;case"textarea":ud(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&oi(e,!!n.multiple,t,!1)}}}var ro=!1;function md(e,t,n){if(ro)return e(t,n);ro=!0;try{var s=e(t);return s}finally{if(ro=!1,(ci!==null||fi!==null)&&(ir(),ci&&(t=ci,e=fi,fi=ci=null,hd(t),e)))for(t=0;t<e.length;t++)hd(e[t])}}function rs(e,t){var n=e.stateNode;if(n===null)return null;var s=n[_t]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oo=!1;if(Tn)try{var os={};Object.defineProperty(os,"passive",{get:function(){oo=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{oo=!1}var Zn=null,uo=null,vl=null;function pd(){if(vl)return vl;var e,t=uo,n=t.length,s,o="value"in Zn?Zn.value:Zn.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var h=n-e;for(s=1;s<=h&&t[n-s]===o[u-s];s++);return vl=o.slice(e,1<s?1-s:void 0)}function xl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bl(){return!0}function gd(){return!1}function Mt(e){function t(n,s,o,u,h){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(u):u[x]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?bl:gd,this.isPropagationStopped=gd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),t}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Mt(wa),us=b({},wa,{view:0,detail:0}),Wv=Mt(us),co,fo,cs,Tl=b({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cs&&(cs&&e.type==="mousemove"?(co=e.screenX-cs.screenX,fo=e.screenY-cs.screenY):fo=co=0,cs=e),co)},movementY:function(e){return"movementY"in e?e.movementY:fo}}),yd=Mt(Tl),ex=b({},Tl,{dataTransfer:0}),tx=Mt(ex),nx=b({},us,{relatedTarget:0}),ho=Mt(nx),ax=b({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),ix=Mt(ax),sx=b({},wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lx=Mt(sx),rx=b({},wa,{data:0}),vd=Mt(rx),ox={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ux={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cx[e])?!!t[e]:!1}function mo(){return fx}var dx=b({},us,{key:function(e){if(e.key){var t=ox[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ux[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(e){return e.type==="keypress"?xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hx=Mt(dx),mx=b({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xd=Mt(mx),px=b({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),gx=Mt(px),yx=b({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),vx=Mt(yx),xx=b({},Tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bx=Mt(xx),Sx=b({},wa,{newState:0,oldState:0}),Tx=Mt(Sx),Ax=[9,13,27,32],po=Tn&&"CompositionEvent"in window,fs=null;Tn&&"documentMode"in document&&(fs=document.documentMode);var Ex=Tn&&"TextEvent"in window&&!fs,bd=Tn&&(!po||fs&&8<fs&&11>=fs),Sd=" ",Td=!1;function Ad(e,t){switch(e){case"keyup":return Ax.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var di=!1;function Cx(e,t){switch(e){case"compositionend":return Ed(t);case"keypress":return t.which!==32?null:(Td=!0,Sd);case"textInput":return e=t.data,e===Sd&&Td?null:e;default:return null}}function Dx(e,t){if(di)return e==="compositionend"||!po&&Ad(e,t)?(e=pd(),vl=uo=Zn=null,di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bd&&t.locale!=="ko"?null:t.data;default:return null}}var Nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nx[e.type]:t==="textarea"}function Dd(e,t,n,s){ci?fi?fi.push(s):fi=[s]:ci=s,t=fr(t,"onChange"),0<t.length&&(n=new Sl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ds=null,hs=null;function _x(e){o0(e,0)}function Al(e){var t=ls(e);if(rd(t))return e}function Nd(e,t){if(e==="change")return t}var _d=!1;if(Tn){var go;if(Tn){var yo="oninput"in document;if(!yo){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),yo=typeof Md.oninput=="function"}go=yo}else go=!1;_d=go&&(!document.documentMode||9<document.documentMode)}function wd(){ds&&(ds.detachEvent("onpropertychange",jd),hs=ds=null)}function jd(e){if(e.propertyName==="value"&&Al(hs)){var t=[];Dd(t,hs,e,lo(e)),md(_x,t)}}function Mx(e,t,n){e==="focusin"?(wd(),ds=t,hs=n,ds.attachEvent("onpropertychange",jd)):e==="focusout"&&wd()}function wx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(hs)}function jx(e,t){if(e==="click")return Al(t)}function Ox(e,t){if(e==="input"||e==="change")return Al(t)}function Rx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:Rx;function ms(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!Yn.call(t,o)||!Lt(e[o],t[o]))return!1}return!0}function Od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rd(e,t){var n=Od(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Od(n)}}function zd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=gl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gl(e.document)}return t}function vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zx=Tn&&"documentMode"in document&&11>=document.documentMode,hi=null,xo=null,ps=null,bo=!1;function Vd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bo||hi==null||hi!==gl(s)||(s=hi,"selectionStart"in s&&vo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ps&&ms(ps,s)||(ps=s,s=fr(xo,"onSelect"),0<s.length&&(t=new Sl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=hi)))}function ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mi={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},So={},Ld={};Tn&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Oa(e){if(So[e])return So[e];if(!mi[e])return e;var t=mi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ld)return So[e]=t[n];return e}var Ud=Oa("animationend"),Gd=Oa("animationiteration"),Hd=Oa("animationstart"),Bx=Oa("transitionrun"),Vx=Oa("transitionstart"),Lx=Oa("transitioncancel"),kd=Oa("transitionend"),Yd=new Map,To="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");To.push("scrollEnd");function on(e,t){Yd.set(e,t),Ma(t,[e])}var El=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],pi=0,Ao=0;function Cl(){for(var e=pi,t=Ao=pi=0;t<e;){var n=Ft[t];Ft[t++]=null;var s=Ft[t];Ft[t++]=null;var o=Ft[t];Ft[t++]=null;var u=Ft[t];if(Ft[t++]=null,s!==null&&o!==null){var h=s.pending;h===null?o.next=o:(o.next=h.next,h.next=o),s.pending=o}u!==0&&qd(n,o,u)}}function Dl(e,t,n,s){Ft[pi++]=e,Ft[pi++]=t,Ft[pi++]=n,Ft[pi++]=s,Ao|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Eo(e,t,n,s){return Dl(e,t,n,s),Nl(e)}function Ra(e,t){return Dl(e,null,null,t),Nl(e)}function qd(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,s=u.alternate,s!==null&&(s.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-ge(n),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=n|536870912),u):null}function Nl(e){if(50<Ls)throw Ls=0,Ru=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gi={};function Ux(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,s){return new Ux(e,t,n,s)}function Co(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Xd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _l(e,t,n,s,o,u){var h=0;if(s=e,typeof e=="function")Co(e)&&(h=1);else if(typeof e=="string")h=qb(e,n,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=Ut(31,n,t,o),e.elementType=oe,e.lanes=u,e;case Y:return za(n.children,o,u,t);case B:h=8,o|=24;break;case H:return e=Ut(12,n,t,o|2),e.elementType=H,e.lanes=u,e;case q:return e=Ut(13,n,t,o),e.elementType=q,e.lanes=u,e;case ne:return e=Ut(19,n,t,o),e.elementType=ne,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:h=10;break e;case Q:h=9;break e;case k:h=11;break e;case Z:h=14;break e;case I:h=16,s=null;break e}h=29,n=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=Ut(h,n,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function za(e,t,n,s){return e=Ut(7,e,s,t),e.lanes=n,e}function Do(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function Kd(e){var t=Ut(18,null,null,0);return t.stateNode=e,t}function No(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qd=new WeakMap;function Jt(e,t){if(typeof e=="object"&&e!==null){var n=Qd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Wa(t)},Qd.set(e,t),t)}return{value:e,source:t,stack:Wa(t)}}var yi=[],vi=0,Ml=null,gs=0,$t=[],Pt=0,Fn=null,hn=1,mn="";function En(e,t){yi[vi++]=gs,yi[vi++]=Ml,Ml=e,gs=t}function Zd(e,t,n){$t[Pt++]=hn,$t[Pt++]=mn,$t[Pt++]=Fn,Fn=e;var s=hn;e=mn;var o=32-ge(s)-1;s&=~(1<<o),n+=1;var u=32-ge(t)+o;if(30<u){var h=o-o%5;u=(s&(1<<h)-1).toString(32),s>>=h,o-=h,hn=1<<32-ge(t)+o|n<<o|s,mn=u+e}else hn=1<<u|n<<o|s,mn=e}function _o(e){e.return!==null&&(En(e,1),Zd(e,1,0))}function Mo(e){for(;e===Ml;)Ml=yi[--vi],yi[vi]=null,gs=yi[--vi],yi[vi]=null;for(;e===Fn;)Fn=$t[--Pt],$t[Pt]=null,mn=$t[--Pt],$t[Pt]=null,hn=$t[--Pt],$t[Pt]=null}function Fd(e,t){$t[Pt++]=hn,$t[Pt++]=mn,$t[Pt++]=Fn,hn=t.id,mn=t.overflow,Fn=e}var vt=null,qe=null,Me=!1,Jn=null,It=!1,wo=Error(r(519));function $n(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ys(Jt(t,e)),wo}function Jd(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[yt]=e,t[_t]=s,n){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(n=0;n<Gs.length;n++)Ce(Gs[n],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),od(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),cd(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||d0(t.textContent,n)?(s.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),s.onScroll!=null&&Ce("scroll",t),s.onScrollEnd!=null&&Ce("scrollend",t),s.onClick!=null&&(t.onclick=Sn),t=!0):t=!1,t||$n(e,!0)}function $d(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:vt=vt.return}}function xi(e){if(e!==vt)return!1;if(!Me)return $d(e),Me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Fu(e.type,e.memoizedProps)),n=!n),n&&qe&&$n(e),$d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));qe=S0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));qe=S0(e)}else t===27?(t=qe,ca(e.type)?(e=Wu,Wu=null,qe=e):qe=t):qe=vt?en(e.stateNode.nextSibling):null;return!0}function Ba(){qe=vt=null,Me=!1}function jo(){var e=Jn;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),Jn=null),e}function ys(e){Jn===null?Jn=[e]:Jn.push(e)}var Oo=A(null),Va=null,Cn=null;function Pn(e,t,n){F(Oo,t._currentValue),t._currentValue=n}function Dn(e){e._currentValue=Oo.current,L(Oo)}function Ro(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function zo(e,t,n,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var h=o.child;u=u.firstContext;e:for(;u!==null;){var x=u;u=o;for(var T=0;T<t.length;T++)if(x.context===t[T]){u.lanes|=n,x=u.alternate,x!==null&&(x.lanes|=n),Ro(u.return,n,e),s||(h=null);break e}u=x.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(r(341));h.lanes|=n,u=h.alternate,u!==null&&(u.lanes|=n),Ro(h,n,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function bi(e,t,n,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(r(387));if(h=h.memoizedProps,h!==null){var x=o.type;Lt(o.pendingProps.value,h.value)||(e!==null?e.push(x):e=[x])}}else if(o===me.current){if(h=o.alternate,h===null)throw Error(r(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Xs):e=[Xs])}o=o.return}e!==null&&zo(t,e,n,s),t.flags|=262144}function wl(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function La(e){Va=e,Cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xt(e){return Pd(Va,e)}function jl(e,t){return Va===null&&La(e),Pd(e,t)}function Pd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Cn===null){if(e===null)throw Error(r(308));Cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Cn=Cn.next=t;return n}var Gx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Hx=a.unstable_scheduleCallback,kx=a.unstable_NormalPriority,it={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bo(){return{controller:new Gx,data:new Map,refCount:0}}function vs(e){e.refCount--,e.refCount===0&&Hx(kx,function(){e.controller.abort()})}var xs=null,Vo=0,Si=0,Ti=null;function Yx(e,t){if(xs===null){var n=xs=[];Vo=0,Si=Gu(),Ti={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Vo++,t.then(Id,Id),t}function Id(){if(--Vo===0&&xs!==null){Ti!==null&&(Ti.status="fulfilled");var e=xs;xs=null,Si=0,Ti=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function qx(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),s}var Wd=N.S;N.S=function(e,t){Vm=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Yx(e,t),Wd!==null&&Wd(e,t)};var Ua=A(null);function Lo(){var e=Ua.current;return e!==null?e:ke.pooledCache}function Ol(e,t){t===null?F(Ua,Ua.current):F(Ua,t.pool)}function eh(){var e=Lo();return e===null?null:{parent:it._currentValue,pool:e}}var Ai=Error(r(460)),Uo=Error(r(474)),Rl=Error(r(542)),zl={then:function(){}};function th(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Sn,Sn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ih(e),e;default:if(typeof t.status=="string")t.then(Sn,Sn);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ih(e),e}throw Ha=t,Ai}}function Ga(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ha=n,Ai):n}}var Ha=null;function ah(){if(Ha===null)throw Error(r(459));var e=Ha;return Ha=null,e}function ih(e){if(e===Ai||e===Rl)throw Error(r(483))}var Ei=null,bs=0;function Bl(e){var t=bs;return bs+=1,Ei===null&&(Ei=[]),nh(Ei,e,t)}function Ss(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vl(e,t){throw t.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function sh(e){function t(D,E){if(e){var _=D.deletions;_===null?(D.deletions=[E],D.flags|=16):_.push(E)}}function n(D,E){if(!e)return null;for(;E!==null;)t(D,E),E=E.sibling;return null}function s(D){for(var E=new Map;D!==null;)D.key!==null?E.set(D.key,D):E.set(D.index,D),D=D.sibling;return E}function o(D,E){return D=An(D,E),D.index=0,D.sibling=null,D}function u(D,E,_){return D.index=_,e?(_=D.alternate,_!==null?(_=_.index,_<E?(D.flags|=67108866,E):_):(D.flags|=67108866,E)):(D.flags|=1048576,E)}function h(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function x(D,E,_,U){return E===null||E.tag!==6?(E=Do(_,D.mode,U),E.return=D,E):(E=o(E,_),E.return=D,E)}function T(D,E,_,U){var se=_.type;return se===Y?R(D,E,_.props.children,U,_.key):E!==null&&(E.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===I&&Ga(se)===E.type)?(E=o(E,_.props),Ss(E,_),E.return=D,E):(E=_l(_.type,_.key,_.props,null,D.mode,U),Ss(E,_),E.return=D,E)}function w(D,E,_,U){return E===null||E.tag!==4||E.stateNode.containerInfo!==_.containerInfo||E.stateNode.implementation!==_.implementation?(E=No(_,D.mode,U),E.return=D,E):(E=o(E,_.children||[]),E.return=D,E)}function R(D,E,_,U,se){return E===null||E.tag!==7?(E=za(_,D.mode,U,se),E.return=D,E):(E=o(E,_),E.return=D,E)}function G(D,E,_){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Do(""+E,D.mode,_),E.return=D,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case M:return _=_l(E.type,E.key,E.props,null,D.mode,_),Ss(_,E),_.return=D,_;case z:return E=No(E,D.mode,_),E.return=D,E;case I:return E=Ga(E),G(D,E,_)}if(K(E)||Ae(E))return E=za(E,D.mode,_,null),E.return=D,E;if(typeof E.then=="function")return G(D,Bl(E),_);if(E.$$typeof===X)return G(D,jl(D,E),_);Vl(D,E)}return null}function j(D,E,_,U){var se=E!==null?E.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return se!==null?null:x(D,E,""+_,U);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case M:return _.key===se?T(D,E,_,U):null;case z:return _.key===se?w(D,E,_,U):null;case I:return _=Ga(_),j(D,E,_,U)}if(K(_)||Ae(_))return se!==null?null:R(D,E,_,U,null);if(typeof _.then=="function")return j(D,E,Bl(_),U);if(_.$$typeof===X)return j(D,E,jl(D,_),U);Vl(D,_)}return null}function O(D,E,_,U,se){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return D=D.get(_)||null,x(E,D,""+U,se);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case M:return D=D.get(U.key===null?_:U.key)||null,T(E,D,U,se);case z:return D=D.get(U.key===null?_:U.key)||null,w(E,D,U,se);case I:return U=Ga(U),O(D,E,_,U,se)}if(K(U)||Ae(U))return D=D.get(_)||null,R(E,D,U,se,null);if(typeof U.then=="function")return O(D,E,_,Bl(U),se);if(U.$$typeof===X)return O(D,E,_,jl(E,U),se);Vl(E,U)}return null}function te(D,E,_,U){for(var se=null,je=null,ae=E,ve=E=0,Ne=null;ae!==null&&ve<_.length;ve++){ae.index>ve?(Ne=ae,ae=null):Ne=ae.sibling;var Oe=j(D,ae,_[ve],U);if(Oe===null){ae===null&&(ae=Ne);break}e&&ae&&Oe.alternate===null&&t(D,ae),E=u(Oe,E,ve),je===null?se=Oe:je.sibling=Oe,je=Oe,ae=Ne}if(ve===_.length)return n(D,ae),Me&&En(D,ve),se;if(ae===null){for(;ve<_.length;ve++)ae=G(D,_[ve],U),ae!==null&&(E=u(ae,E,ve),je===null?se=ae:je.sibling=ae,je=ae);return Me&&En(D,ve),se}for(ae=s(ae);ve<_.length;ve++)Ne=O(ae,D,ve,_[ve],U),Ne!==null&&(e&&Ne.alternate!==null&&ae.delete(Ne.key===null?ve:Ne.key),E=u(Ne,E,ve),je===null?se=Ne:je.sibling=Ne,je=Ne);return e&&ae.forEach(function(pa){return t(D,pa)}),Me&&En(D,ve),se}function re(D,E,_,U){if(_==null)throw Error(r(151));for(var se=null,je=null,ae=E,ve=E=0,Ne=null,Oe=_.next();ae!==null&&!Oe.done;ve++,Oe=_.next()){ae.index>ve?(Ne=ae,ae=null):Ne=ae.sibling;var pa=j(D,ae,Oe.value,U);if(pa===null){ae===null&&(ae=Ne);break}e&&ae&&pa.alternate===null&&t(D,ae),E=u(pa,E,ve),je===null?se=pa:je.sibling=pa,je=pa,ae=Ne}if(Oe.done)return n(D,ae),Me&&En(D,ve),se;if(ae===null){for(;!Oe.done;ve++,Oe=_.next())Oe=G(D,Oe.value,U),Oe!==null&&(E=u(Oe,E,ve),je===null?se=Oe:je.sibling=Oe,je=Oe);return Me&&En(D,ve),se}for(ae=s(ae);!Oe.done;ve++,Oe=_.next())Oe=O(ae,D,ve,Oe.value,U),Oe!==null&&(e&&Oe.alternate!==null&&ae.delete(Oe.key===null?ve:Oe.key),E=u(Oe,E,ve),je===null?se=Oe:je.sibling=Oe,je=Oe);return e&&ae.forEach(function(e1){return t(D,e1)}),Me&&En(D,ve),se}function Ge(D,E,_,U){if(typeof _=="object"&&_!==null&&_.type===Y&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case M:e:{for(var se=_.key;E!==null;){if(E.key===se){if(se=_.type,se===Y){if(E.tag===7){n(D,E.sibling),U=o(E,_.props.children),U.return=D,D=U;break e}}else if(E.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===I&&Ga(se)===E.type){n(D,E.sibling),U=o(E,_.props),Ss(U,_),U.return=D,D=U;break e}n(D,E);break}else t(D,E);E=E.sibling}_.type===Y?(U=za(_.props.children,D.mode,U,_.key),U.return=D,D=U):(U=_l(_.type,_.key,_.props,null,D.mode,U),Ss(U,_),U.return=D,D=U)}return h(D);case z:e:{for(se=_.key;E!==null;){if(E.key===se)if(E.tag===4&&E.stateNode.containerInfo===_.containerInfo&&E.stateNode.implementation===_.implementation){n(D,E.sibling),U=o(E,_.children||[]),U.return=D,D=U;break e}else{n(D,E);break}else t(D,E);E=E.sibling}U=No(_,D.mode,U),U.return=D,D=U}return h(D);case I:return _=Ga(_),Ge(D,E,_,U)}if(K(_))return te(D,E,_,U);if(Ae(_)){if(se=Ae(_),typeof se!="function")throw Error(r(150));return _=se.call(_),re(D,E,_,U)}if(typeof _.then=="function")return Ge(D,E,Bl(_),U);if(_.$$typeof===X)return Ge(D,E,jl(D,_),U);Vl(D,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,E!==null&&E.tag===6?(n(D,E.sibling),U=o(E,_),U.return=D,D=U):(n(D,E),U=Do(_,D.mode,U),U.return=D,D=U),h(D)):n(D,E)}return function(D,E,_,U){try{bs=0;var se=Ge(D,E,_,U);return Ei=null,se}catch(ae){if(ae===Ai||ae===Rl)throw ae;var je=Ut(29,ae,null,D.mode);return je.lanes=U,je.return=D,je}finally{}}}var ka=sh(!0),lh=sh(!1),In=!1;function Go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ho(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ea(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ze&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Nl(e),qd(e,null,n),t}return Dl(e,s,t,n),Nl(e)}function Ts(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Pf(e,n)}}function ko(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=h:u=u.next=h,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Yo=!1;function As(){if(Yo){var e=Ti;if(e!==null)throw e}}function Es(e,t,n,s){Yo=!1;var o=e.updateQueue;In=!1;var u=o.firstBaseUpdate,h=o.lastBaseUpdate,x=o.shared.pending;if(x!==null){o.shared.pending=null;var T=x,w=T.next;T.next=null,h===null?u=w:h.next=w,h=T;var R=e.alternate;R!==null&&(R=R.updateQueue,x=R.lastBaseUpdate,x!==h&&(x===null?R.firstBaseUpdate=w:x.next=w,R.lastBaseUpdate=T))}if(u!==null){var G=o.baseState;h=0,R=w=T=null,x=u;do{var j=x.lane&-536870913,O=j!==x.lane;if(O?(De&j)===j:(s&j)===j){j!==0&&j===Si&&(Yo=!0),R!==null&&(R=R.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var te=e,re=x;j=t;var Ge=n;switch(re.tag){case 1:if(te=re.payload,typeof te=="function"){G=te.call(Ge,G,j);break e}G=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=re.payload,j=typeof te=="function"?te.call(Ge,G,j):te,j==null)break e;G=b({},G,j);break e;case 2:In=!0}}j=x.callback,j!==null&&(e.flags|=64,O&&(e.flags|=8192),O=o.callbacks,O===null?o.callbacks=[j]:O.push(j))}else O={lane:j,tag:x.tag,payload:x.payload,callback:x.callback,next:null},R===null?(w=R=O,T=G):R=R.next=O,h|=j;if(x=x.next,x===null){if(x=o.shared.pending,x===null)break;O=x,x=O.next,O.next=null,o.lastBaseUpdate=O,o.shared.pending=null}}while(!0);R===null&&(T=G),o.baseState=T,o.firstBaseUpdate=w,o.lastBaseUpdate=R,u===null&&(o.shared.lanes=0),sa|=h,e.lanes=h,e.memoizedState=G}}function rh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function oh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)rh(n[e],t)}var Ci=A(null),Ll=A(0);function uh(e,t){e=Bn,F(Ll,e),F(Ci,t),Bn=e|t.baseLanes}function qo(){F(Ll,Bn),F(Ci,Ci.current)}function Xo(){Bn=Ll.current,L(Ci),L(Ll)}var Gt=A(null),Wt=null;function ta(e){var t=e.alternate;F(tt,tt.current&1),F(Gt,e),Wt===null&&(t===null||Ci.current!==null||t.memoizedState!==null)&&(Wt=e)}function Ko(e){F(tt,tt.current),F(Gt,e),Wt===null&&(Wt=e)}function ch(e){e.tag===22?(F(tt,tt.current),F(Gt,e),Wt===null&&(Wt=e)):na()}function na(){F(tt,tt.current),F(Gt,Gt.current)}function Ht(e){L(Gt),Wt===e&&(Wt=null),L(tt)}var tt=A(0);function Ul(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Pu(n)||Iu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nn=0,ye=null,Le=null,st=null,Gl=!1,Di=!1,Ya=!1,Hl=0,Cs=0,Ni=null,Xx=0;function Pe(){throw Error(r(321))}function Qo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lt(e[n],t[n]))return!1;return!0}function Zo(e,t,n,s,o,u){return Nn=u,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?Zh:ou,Ya=!1,u=n(s,o),Ya=!1,Di&&(u=dh(t,n,s,o)),fh(e),u}function fh(e){N.H=_s;var t=Le!==null&&Le.next!==null;if(Nn=0,st=Le=ye=null,Gl=!1,Cs=0,Ni=null,t)throw Error(r(300));e===null||lt||(e=e.dependencies,e!==null&&wl(e)&&(lt=!0))}function dh(e,t,n,s){ye=e;var o=0;do{if(Di&&(Ni=null),Cs=0,Di=!1,25<=o)throw Error(r(301));if(o+=1,st=Le=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}N.H=Fh,u=t(n,s)}while(Di);return u}function Kx(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?Ds(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(ye.flags|=1024),t}function Fo(){var e=Hl!==0;return Hl=0,e}function Jo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function $o(e){if(Gl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gl=!1}Nn=0,st=Le=ye=null,Di=!1,Cs=Hl=0,Ni=null}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?ye.memoizedState=st=e:st=st.next=e,st}function nt(){if(Le===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=st===null?ye.memoizedState:st.next;if(t!==null)st=t,Le=e;else{if(e===null)throw ye.alternate===null?Error(r(467)):Error(r(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},st===null?ye.memoizedState=st=e:st=st.next=e}return st}function kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ds(e){var t=Cs;return Cs+=1,Ni===null&&(Ni=[]),e=nh(Ni,e,t),t=ye,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?Zh:ou),e}function Yl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ds(e);if(e.$$typeof===X)return xt(e)}throw Error(r(438,String(e)))}function Po(e){var t=null,n=ye.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=kl(),ye.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=ie;return t.index++,n}function _n(e,t){return typeof t=="function"?t(e):t}function ql(e){var t=nt();return Io(t,Le,e)}function Io(e,t,n){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var h=o.next;o.next=u.next,u.next=h}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var x=h=null,T=null,w=t,R=!1;do{var G=w.lane&-536870913;if(G!==w.lane?(De&G)===G:(Nn&G)===G){var j=w.revertLane;if(j===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),G===Si&&(R=!0);else if((Nn&j)===j){w=w.next,j===Si&&(R=!0);continue}else G={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},T===null?(x=T=G,h=u):T=T.next=G,ye.lanes|=j,sa|=j;G=w.action,Ya&&n(u,G),u=w.hasEagerState?w.eagerState:n(u,G)}else j={lane:G,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},T===null?(x=T=j,h=u):T=T.next=j,ye.lanes|=G,sa|=G;w=w.next}while(w!==null&&w!==t);if(T===null?h=u:T.next=x,!Lt(u,e.memoizedState)&&(lt=!0,R&&(n=Ti,n!==null)))throw n;e.memoizedState=u,e.baseState=h,e.baseQueue=T,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Wo(e){var t=nt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var h=o=o.next;do u=e(u,h.action),h=h.next;while(h!==o);Lt(u,t.memoizedState)||(lt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function hh(e,t,n){var s=ye,o=nt(),u=Me;if(u){if(n===void 0)throw Error(r(407));n=n()}else n=t();var h=!Lt((Le||o).memoizedState,n);if(h&&(o.memoizedState=n,lt=!0),o=o.queue,nu(gh.bind(null,s,o,e),[e]),o.getSnapshot!==t||h||st!==null&&st.memoizedState.tag&1){if(s.flags|=2048,_i(9,{destroy:void 0},ph.bind(null,s,o,n,t),null),ke===null)throw Error(r(349));u||(Nn&127)!==0||mh(s,t,n)}return n}function mh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t=kl(),ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ph(e,t,n,s){t.value=n,t.getSnapshot=s,yh(t)&&vh(e)}function gh(e,t,n){return n(function(){yh(t)&&vh(e)})}function yh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lt(e,n)}catch{return!0}}function vh(e){var t=Ra(e,2);t!==null&&zt(t,e,2)}function eu(e){var t=Dt();if(typeof e=="function"){var n=e;if(e=n(),Ya){ue(!0);try{n()}finally{ue(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},t}function xh(e,t,n,s){return e.baseState=n,Io(e,Le,typeof s=="function"?s:_n)}function Qx(e,t,n,s,o){if(Ql(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};N.T!==null?n(!0):u.isTransition=!1,s(u),n=t.pending,n===null?(u.next=t.pending=u,bh(t,u)):(u.next=n.next,t.pending=n.next=u)}}function bh(e,t){var n=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=N.T,h={};N.T=h;try{var x=n(o,s),T=N.S;T!==null&&T(h,x),Sh(e,t,x)}catch(w){tu(e,t,w)}finally{u!==null&&h.types!==null&&(u.types=h.types),N.T=u}}else try{u=n(o,s),Sh(e,t,u)}catch(w){tu(e,t,w)}}function Sh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Th(e,t,s)},function(s){return tu(e,t,s)}):Th(e,t,n)}function Th(e,t,n){t.status="fulfilled",t.value=n,Ah(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,bh(e,n)))}function tu(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Ah(t),t=t.next;while(t!==s)}e.action=null}function Ah(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Eh(e,t){return t}function Ch(e,t){if(Me){var n=ke.formState;if(n!==null){e:{var s=ye;if(Me){if(qe){t:{for(var o=qe,u=It;o.nodeType!==8;){if(!u){o=null;break t}if(o=en(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){qe=en(o.nextSibling),s=o.data==="F!";break e}}$n(s)}s=!1}s&&(t=n[0])}}return n=Dt(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:t},n.queue=s,n=Xh.bind(null,ye,s),s.dispatch=n,s=eu(!1),u=ru.bind(null,ye,!1,s.queue),s=Dt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,n=Qx.bind(null,ye,o,u,n),o.dispatch=n,s.memoizedState=e,[t,n,!1]}function Dh(e){var t=nt();return Nh(t,Le,e)}function Nh(e,t,n){if(t=Io(e,t,Eh)[0],e=ql(_n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ds(t)}catch(h){throw h===Ai?Rl:h}else s=t;t=nt();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(ye.flags|=2048,_i(9,{destroy:void 0},Zx.bind(null,o,n),null)),[s,u,e]}function Zx(e,t){e.action=t}function _h(e){var t=nt(),n=Le;if(n!==null)return Nh(t,n,e);nt(),t=t.memoizedState,n=nt();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function _i(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=ye.updateQueue,t===null&&(t=kl(),ye.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Mh(){return nt().memoizedState}function Xl(e,t,n,s){var o=Dt();ye.flags|=e,o.memoizedState=_i(1|t,{destroy:void 0},n,s===void 0?null:s)}function Kl(e,t,n,s){var o=nt();s=s===void 0?null:s;var u=o.memoizedState.inst;Le!==null&&s!==null&&Qo(s,Le.memoizedState.deps)?o.memoizedState=_i(t,u,n,s):(ye.flags|=e,o.memoizedState=_i(1|t,u,n,s))}function wh(e,t){Xl(8390656,8,e,t)}function nu(e,t){Kl(2048,8,e,t)}function Fx(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=kl(),ye.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function jh(e){var t=nt().memoizedState;return Fx({ref:t,nextImpl:e}),function(){if((ze&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Oh(e,t){return Kl(4,2,e,t)}function Rh(e,t){return Kl(4,4,e,t)}function zh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bh(e,t,n){n=n!=null?n.concat([e]):null,Kl(4,4,zh.bind(null,t,e),n)}function au(){}function Vh(e,t){var n=nt();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Qo(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Lh(e,t){var n=nt();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Qo(t,s[1]))return s[0];if(s=e(),Ya){ue(!0);try{e()}finally{ue(!1)}}return n.memoizedState=[s,t],s}function iu(e,t,n){return n===void 0||(Nn&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Um(),ye.lanes|=e,sa|=e,n)}function Uh(e,t,n,s){return Lt(n,t)?n:Ci.current!==null?(e=iu(e,n,s),Lt(e,t)||(lt=!0),e):(Nn&42)===0||(Nn&1073741824)!==0&&(De&261930)===0?(lt=!0,e.memoizedState=n):(e=Um(),ye.lanes|=e,sa|=e,t)}function Gh(e,t,n,s,o){var u=V.p;V.p=u!==0&&8>u?u:8;var h=N.T,x={};N.T=x,ru(e,!1,t,n);try{var T=o(),w=N.S;if(w!==null&&w(x,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var R=qx(T,s);Ns(e,t,R,qt(e))}else Ns(e,t,s,qt(e))}catch(G){Ns(e,t,{then:function(){},status:"rejected",reason:G},qt())}finally{V.p=u,h!==null&&x.types!==null&&(h.types=x.types),N.T=h}}function Jx(){}function su(e,t,n,s){if(e.tag!==5)throw Error(r(476));var o=Hh(e).queue;Gh(e,o,t,$,n===null?Jx:function(){return kh(e),n(s)})}function Hh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:$},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function kh(e){var t=Hh(e);t.next===null&&(t=e.alternate.memoizedState),Ns(e,t.next.queue,{},qt())}function lu(){return xt(Xs)}function Yh(){return nt().memoizedState}function qh(){return nt().memoizedState}function $x(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=qt();e=Wn(n);var s=ea(t,e,n);s!==null&&(zt(s,t,n),Ts(s,t,n)),t={cache:Bo()},e.payload=t;return}t=t.return}}function Px(e,t,n){var s=qt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ql(e)?Kh(t,n):(n=Eo(e,t,n,s),n!==null&&(zt(n,e,s),Qh(n,t,s)))}function Xh(e,t,n){var s=qt();Ns(e,t,n,s)}function Ns(e,t,n,s){var o={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ql(e))Kh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,x=u(h,n);if(o.hasEagerState=!0,o.eagerState=x,Lt(x,h))return Dl(e,t,o,0),ke===null&&Cl(),!1}catch{}finally{}if(n=Eo(e,t,o,s),n!==null)return zt(n,e,s),Qh(n,t,s),!0}return!1}function ru(e,t,n,s){if(s={lane:2,revertLane:Gu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ql(e)){if(t)throw Error(r(479))}else t=Eo(e,n,s,2),t!==null&&zt(t,e,2)}function Ql(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Kh(e,t){Di=Gl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qh(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Pf(e,n)}}var _s={readContext:xt,use:Yl,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};_s.useEffectEvent=Pe;var Zh={readContext:xt,use:Yl,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:wh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Xl(4194308,4,zh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xl(4194308,4,e,t)},useInsertionEffect:function(e,t){Xl(4,2,e,t)},useMemo:function(e,t){var n=Dt();t=t===void 0?null:t;var s=e();if(Ya){ue(!0);try{e()}finally{ue(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=Dt();if(n!==void 0){var o=n(t);if(Ya){ue(!0);try{n(t)}finally{ue(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Px.bind(null,ye,e),[s.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:function(e){e=eu(e);var t=e.queue,n=Xh.bind(null,ye,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:au,useDeferredValue:function(e,t){var n=Dt();return iu(n,e,t)},useTransition:function(){var e=eu(!1);return e=Gh.bind(null,ye,e.queue,!0,!1),Dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=ye,o=Dt();if(Me){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),ke===null)throw Error(r(349));(De&127)!==0||mh(s,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,wh(gh.bind(null,s,u,e),[e]),s.flags|=2048,_i(9,{destroy:void 0},ph.bind(null,s,u,n,t),null),n},useId:function(){var e=Dt(),t=ke.identifierPrefix;if(Me){var n=mn,s=hn;n=(s&~(1<<32-ge(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Hl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Xx++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:lu,useFormState:Ch,useActionState:Ch,useOptimistic:function(e){var t=Dt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ru.bind(null,ye,!0,n),n.dispatch=t,[e,t]},useMemoCache:Po,useCacheRefresh:function(){return Dt().memoizedState=$x.bind(null,ye)},useEffectEvent:function(e){var t=Dt(),n={impl:e};return t.memoizedState=n,function(){if((ze&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},ou={readContext:xt,use:Yl,useCallback:Vh,useContext:xt,useEffect:nu,useImperativeHandle:Bh,useInsertionEffect:Oh,useLayoutEffect:Rh,useMemo:Lh,useReducer:ql,useRef:Mh,useState:function(){return ql(_n)},useDebugValue:au,useDeferredValue:function(e,t){var n=nt();return Uh(n,Le.memoizedState,e,t)},useTransition:function(){var e=ql(_n)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Ds(e),t]},useSyncExternalStore:hh,useId:Yh,useHostTransitionStatus:lu,useFormState:Dh,useActionState:Dh,useOptimistic:function(e,t){var n=nt();return xh(n,Le,e,t)},useMemoCache:Po,useCacheRefresh:qh};ou.useEffectEvent=jh;var Fh={readContext:xt,use:Yl,useCallback:Vh,useContext:xt,useEffect:nu,useImperativeHandle:Bh,useInsertionEffect:Oh,useLayoutEffect:Rh,useMemo:Lh,useReducer:Wo,useRef:Mh,useState:function(){return Wo(_n)},useDebugValue:au,useDeferredValue:function(e,t){var n=nt();return Le===null?iu(n,e,t):Uh(n,Le.memoizedState,e,t)},useTransition:function(){var e=Wo(_n)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Ds(e),t]},useSyncExternalStore:hh,useId:Yh,useHostTransitionStatus:lu,useFormState:_h,useActionState:_h,useOptimistic:function(e,t){var n=nt();return Le!==null?xh(n,Le,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Po,useCacheRefresh:qh};Fh.useEffectEvent=jh;function uu(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cu={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=qt(),o=Wn(s);o.payload=t,n!=null&&(o.callback=n),t=ea(e,o,s),t!==null&&(zt(t,e,s),Ts(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=qt(),o=Wn(s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ea(e,o,s),t!==null&&(zt(t,e,s),Ts(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qt(),s=Wn(n);s.tag=2,t!=null&&(s.callback=t),t=ea(e,s,n),t!==null&&(zt(t,e,n),Ts(t,e,n))}};function Jh(e,t,n,s,o,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,h):t.prototype&&t.prototype.isPureReactComponent?!ms(n,s)||!ms(o,u):!0}function $h(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&cu.enqueueReplaceState(t,t.state,null)}function qa(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Ph(e){El(e)}function Ih(e){console.error(e)}function Wh(e){El(e)}function Zl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function em(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function fu(e,t,n){return n=Wn(n),n.tag=3,n.payload={element:null},n.callback=function(){Zl(e,t)},n}function tm(e){return e=Wn(e),e.tag=3,e}function nm(e,t,n,s){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){em(t,n,s)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){em(t,n,s),typeof o!="function"&&(la===null?la=new Set([this]):la.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function Ix(e,t,n,s,o){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&bi(t,n,o,!0),n=Gt.current,n!==null){switch(n.tag){case 31:case 13:return Wt===null?sr():n.alternate===null&&Ie===0&&(Ie=3),n.flags&=-257,n.flags|=65536,n.lanes=o,s===zl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Vu(e,s,o)),!1;case 22:return n.flags|=65536,s===zl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Vu(e,s,o)),!1}throw Error(r(435,n.tag))}return Vu(e,s,o),sr(),!1}if(Me)return t=Gt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==wo&&(e=Error(r(422),{cause:s}),ys(Jt(e,n)))):(s!==wo&&(t=Error(r(423),{cause:s}),ys(Jt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Jt(s,n),o=fu(e.stateNode,s,o),ko(e,o),Ie!==4&&(Ie=2)),!1;var u=Error(r(520),{cause:s});if(u=Jt(u,n),Vs===null?Vs=[u]:Vs.push(u),Ie!==4&&(Ie=2),t===null)return!0;s=Jt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=fu(n.stateNode,s,e),ko(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(la===null||!la.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=tm(o),nm(o,e,n,s),ko(n,o),!1}n=n.return}while(n!==null);return!1}var du=Error(r(461)),lt=!1;function bt(e,t,n,s){t.child=e===null?lh(t,null,n,s):ka(t,e.child,n,s)}function am(e,t,n,s,o){n=n.render;var u=t.ref;if("ref"in s){var h={};for(var x in s)x!=="ref"&&(h[x]=s[x])}else h=s;return La(t),s=Zo(e,t,n,h,u,o),x=Fo(),e!==null&&!lt?(Jo(e,t,o),Mn(e,t,o)):(Me&&x&&_o(t),t.flags|=1,bt(e,t,s,o),t.child)}function im(e,t,n,s,o){if(e===null){var u=n.type;return typeof u=="function"&&!Co(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,sm(e,t,u,s,o)):(e=_l(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!bu(e,o)){var h=u.memoizedProps;if(n=n.compare,n=n!==null?n:ms,n(h,s)&&e.ref===t.ref)return Mn(e,t,o)}return t.flags|=1,e=An(u,s),e.ref=t.ref,e.return=t,t.child=e}function sm(e,t,n,s,o){if(e!==null){var u=e.memoizedProps;if(ms(u,s)&&e.ref===t.ref)if(lt=!1,t.pendingProps=s=u,bu(e,o))(e.flags&131072)!==0&&(lt=!0);else return t.lanes=e.lanes,Mn(e,t,o)}return hu(e,t,n,s,o)}function lm(e,t,n,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return rm(e,t,u,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ol(t,u!==null?u.cachePool:null),u!==null?uh(t,u):qo(),ch(t);else return s=t.lanes=536870912,rm(e,t,u!==null?u.baseLanes|n:n,n,s)}else u!==null?(Ol(t,u.cachePool),uh(t,u),na(),t.memoizedState=null):(e!==null&&Ol(t,null),qo(),na());return bt(e,t,o,n),t.child}function Ms(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function rm(e,t,n,s,o){var u=Lo();return u=u===null?null:{parent:it._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&Ol(t,null),qo(),ch(t),e!==null&&bi(e,t,s,!0),t.childLanes=o,null}function Fl(e,t){return t=$l({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function om(e,t,n){return ka(t,e.child,null,n),e=Fl(t,t.pendingProps),e.flags|=2,Ht(t),t.memoizedState=null,e}function Wx(e,t,n){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Me){if(s.mode==="hidden")return e=Fl(t,s),t.lanes=536870912,Ms(null,e);if(Ko(t),(e=qe)?(e=b0(e,It),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Fn!==null?{id:hn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},n=Kd(e),n.return=t,t.child=n,vt=t,qe=null)):e=null,e===null)throw $n(t);return t.lanes=536870912,null}return Fl(t,s)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(Ko(t),o)if(t.flags&256)t.flags&=-257,t=om(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(lt||bi(e,t,n,!1),o=(n&e.childLanes)!==0,lt||o){if(s=ke,s!==null&&(h=If(s,n),h!==0&&h!==u.retryLane))throw u.retryLane=h,Ra(e,h),zt(s,e,h),du;sr(),t=om(e,t,n)}else e=u.treeContext,qe=en(h.nextSibling),vt=t,Me=!0,Jn=null,It=!1,e!==null&&Fd(t,e),t=Fl(t,s),t.flags|=4096;return t}return e=An(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Jl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function hu(e,t,n,s,o){return La(t),n=Zo(e,t,n,s,void 0,o),s=Fo(),e!==null&&!lt?(Jo(e,t,o),Mn(e,t,o)):(Me&&s&&_o(t),t.flags|=1,bt(e,t,n,o),t.child)}function um(e,t,n,s,o,u){return La(t),t.updateQueue=null,n=dh(t,s,n,o),fh(e),s=Fo(),e!==null&&!lt?(Jo(e,t,u),Mn(e,t,u)):(Me&&s&&_o(t),t.flags|=1,bt(e,t,n,u),t.child)}function cm(e,t,n,s,o){if(La(t),t.stateNode===null){var u=gi,h=n.contextType;typeof h=="object"&&h!==null&&(u=xt(h)),u=new n(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=cu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},Go(t),h=n.contextType,u.context=typeof h=="object"&&h!==null?xt(h):gi,u.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(uu(t,n,h,s),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&cu.enqueueReplaceState(u,u.state,null),Es(t,s,u,o),As(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var x=t.memoizedProps,T=qa(n,x);u.props=T;var w=u.context,R=n.contextType;h=gi,typeof R=="object"&&R!==null&&(h=xt(R));var G=n.getDerivedStateFromProps;R=typeof G=="function"||typeof u.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,R||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x||w!==h)&&$h(t,u,s,h),In=!1;var j=t.memoizedState;u.state=j,Es(t,s,u,o),As(),w=t.memoizedState,x||j!==w||In?(typeof G=="function"&&(uu(t,n,G,s),w=t.memoizedState),(T=In||Jh(t,n,T,s,j,w,h))?(R||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=w),u.props=s,u.state=w,u.context=h,s=T):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,Ho(e,t),h=t.memoizedProps,R=qa(n,h),u.props=R,G=t.pendingProps,j=u.context,w=n.contextType,T=gi,typeof w=="object"&&w!==null&&(T=xt(w)),x=n.getDerivedStateFromProps,(w=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==G||j!==T)&&$h(t,u,s,T),In=!1,j=t.memoizedState,u.state=j,Es(t,s,u,o),As();var O=t.memoizedState;h!==G||j!==O||In||e!==null&&e.dependencies!==null&&wl(e.dependencies)?(typeof x=="function"&&(uu(t,n,x,s),O=t.memoizedState),(R=In||Jh(t,n,R,s,j,O,T)||e!==null&&e.dependencies!==null&&wl(e.dependencies))?(w||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,O,T),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,O,T)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=O),u.props=s,u.state=O,u.context=T,s=R):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,Jl(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=ka(t,e.child,null,o),t.child=ka(t,null,n,o)):bt(e,t,n,o),t.memoizedState=u.state,e=t.child):e=Mn(e,t,o),e}function fm(e,t,n,s){return Ba(),t.flags|=256,bt(e,t,n,s),t.child}var mu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pu(e){return{baseLanes:e,cachePool:eh()}}function gu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Yt),e}function dm(e,t,n){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(o?ta(t):na(),(e=qe)?(e=b0(e,It),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Fn!==null?{id:hn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},n=Kd(e),n.return=t,t.child=n,vt=t,qe=null)):e=null,e===null)throw $n(t);return Iu(e)?t.lanes=32:t.lanes=536870912,null}var x=s.children;return s=s.fallback,o?(na(),o=t.mode,x=$l({mode:"hidden",children:x},o),s=za(s,o,n,null),x.return=t,s.return=t,x.sibling=s,t.child=x,s=t.child,s.memoizedState=pu(n),s.childLanes=gu(e,h,n),t.memoizedState=mu,Ms(null,s)):(ta(t),yu(t,x))}var T=e.memoizedState;if(T!==null&&(x=T.dehydrated,x!==null)){if(u)t.flags&256?(ta(t),t.flags&=-257,t=vu(e,t,n)):t.memoizedState!==null?(na(),t.child=e.child,t.flags|=128,t=null):(na(),x=s.fallback,o=t.mode,s=$l({mode:"visible",children:s.children},o),x=za(x,o,n,null),x.flags|=2,s.return=t,x.return=t,s.sibling=x,t.child=s,ka(t,e.child,null,n),s=t.child,s.memoizedState=pu(n),s.childLanes=gu(e,h,n),t.memoizedState=mu,t=Ms(null,s));else if(ta(t),Iu(x)){if(h=x.nextSibling&&x.nextSibling.dataset,h)var w=h.dgst;h=w,s=Error(r(419)),s.stack="",s.digest=h,ys({value:s,source:null,stack:null}),t=vu(e,t,n)}else if(lt||bi(e,t,n,!1),h=(n&e.childLanes)!==0,lt||h){if(h=ke,h!==null&&(s=If(h,n),s!==0&&s!==T.retryLane))throw T.retryLane=s,Ra(e,s),zt(h,e,s),du;Pu(x)||sr(),t=vu(e,t,n)}else Pu(x)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,qe=en(x.nextSibling),vt=t,Me=!0,Jn=null,It=!1,e!==null&&Fd(t,e),t=yu(t,s.children),t.flags|=4096);return t}return o?(na(),x=s.fallback,o=t.mode,T=e.child,w=T.sibling,s=An(T,{mode:"hidden",children:s.children}),s.subtreeFlags=T.subtreeFlags&65011712,w!==null?x=An(w,x):(x=za(x,o,n,null),x.flags|=2),x.return=t,s.return=t,s.sibling=x,t.child=s,Ms(null,s),s=t.child,x=e.child.memoizedState,x===null?x=pu(n):(o=x.cachePool,o!==null?(T=it._currentValue,o=o.parent!==T?{parent:T,pool:T}:o):o=eh(),x={baseLanes:x.baseLanes|n,cachePool:o}),s.memoizedState=x,s.childLanes=gu(e,h,n),t.memoizedState=mu,Ms(e.child,s)):(ta(t),n=e.child,e=n.sibling,n=An(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function yu(e,t){return t=$l({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $l(e,t){return e=Ut(22,e,null,t),e.lanes=0,e}function vu(e,t,n){return ka(t,e.child,null,n),e=yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hm(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ro(e.return,t,n)}function xu(e,t,n,s,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o,treeForkCount:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=n,h.tailMode=o,h.treeForkCount=u)}function mm(e,t,n){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var h=tt.current,x=(h&2)!==0;if(x?(h=h&1|2,t.flags|=128):h&=1,F(tt,h),bt(e,t,s,n),s=Me?gs:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hm(e,n,t);else if(e.tag===19)hm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ul(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),xu(t,!1,o,n,u,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ul(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}xu(t,!0,n,null,u,s);break;case"together":xu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sa|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(bi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=An(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=An(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wl(e)))}function eb(e,t,n){switch(t.tag){case 3:Ke(t,t.stateNode.containerInfo),Pn(t,it,e.memoizedState.cache),Ba();break;case 27:case 5:xn(t);break;case 4:Ke(t,t.stateNode.containerInfo);break;case 10:Pn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ko(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ta(t),t.flags|=128,null):(n&t.child.childLanes)!==0?dm(e,t,n):(ta(t),e=Mn(e,t,n),e!==null?e.sibling:null);ta(t);break;case 19:var o=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(bi(e,t,n,!1),s=(n&t.childLanes)!==0),o){if(s)return mm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),F(tt,tt.current),s)break;return null;case 22:return t.lanes=0,lm(e,t,n,t.pendingProps);case 24:Pn(t,it,e.memoizedState.cache)}return Mn(e,t,n)}function pm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)lt=!0;else{if(!bu(e,n)&&(t.flags&128)===0)return lt=!1,eb(e,t,n);lt=(e.flags&131072)!==0}else lt=!1,Me&&(t.flags&1048576)!==0&&Zd(t,gs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Ga(t.elementType),t.type=e,typeof e=="function")Co(e)?(s=qa(e,s),t.tag=1,t=cm(null,t,e,s,n)):(t.tag=0,t=hu(null,t,e,s,n));else{if(e!=null){var o=e.$$typeof;if(o===k){t.tag=11,t=am(null,t,e,s,n);break e}else if(o===Z){t.tag=14,t=im(null,t,e,s,n);break e}}throw t=de(e)||e,Error(r(306,t,""))}}return t;case 0:return hu(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,o=qa(s,t.pendingProps),cm(e,t,s,o,n);case 3:e:{if(Ke(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,Ho(e,t),Es(t,s,null,n);var h=t.memoizedState;if(s=h.cache,Pn(t,it,s),s!==u.cache&&zo(t,[it],n,!0),As(),s=h.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=fm(e,t,s,n);break e}else if(s!==o){o=Jt(Error(r(424)),t),ys(o),t=fm(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=en(e.firstChild),vt=t,Me=!0,Jn=null,It=!0,n=lh(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ba(),s===o){t=Mn(e,t,n);break e}bt(e,t,s,n)}t=t.child}return t;case 26:return Jl(e,t),e===null?(n=D0(t.type,null,t.pendingProps,null))?t.memoizedState=n:Me||(n=t.type,e=t.pendingProps,s=dr(he.current).createElement(n),s[yt]=t,s[_t]=e,St(s,n,e),mt(s),t.stateNode=s):t.memoizedState=D0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xn(t),e===null&&Me&&(s=t.stateNode=A0(t.type,t.pendingProps,he.current),vt=t,It=!0,o=qe,ca(t.type)?(Wu=o,qe=en(s.firstChild)):qe=o),bt(e,t,t.pendingProps.children,n),Jl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((o=s=qe)&&(s=wb(s,t.type,t.pendingProps,It),s!==null?(t.stateNode=s,vt=t,qe=en(s.firstChild),It=!1,o=!0):o=!1),o||$n(t)),xn(t),o=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,s=u.children,Fu(o,u)?s=null:h!==null&&Fu(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=Zo(e,t,Kx,null,null,n),Xs._currentValue=o),Jl(e,t),bt(e,t,s,n),t.child;case 6:return e===null&&Me&&((e=n=qe)&&(n=jb(n,t.pendingProps,It),n!==null?(t.stateNode=n,vt=t,qe=null,e=!0):e=!1),e||$n(t)),null;case 13:return dm(e,t,n);case 4:return Ke(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ka(t,null,s,n):bt(e,t,s,n),t.child;case 11:return am(e,t,t.type,t.pendingProps,n);case 7:return bt(e,t,t.pendingProps,n),t.child;case 8:return bt(e,t,t.pendingProps.children,n),t.child;case 12:return bt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Pn(t,t.type,s.value),bt(e,t,s.children,n),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,La(t),o=xt(o),s=s(o),t.flags|=1,bt(e,t,s,n),t.child;case 14:return im(e,t,t.type,t.pendingProps,n);case 15:return sm(e,t,t.type,t.pendingProps,n);case 19:return mm(e,t,n);case 31:return Wx(e,t,n);case 22:return lm(e,t,n,t.pendingProps);case 24:return La(t),s=xt(it),e===null?(o=Lo(),o===null&&(o=ke,u=Bo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:s,cache:o},Go(t),Pn(t,it,o)):((e.lanes&n)!==0&&(Ho(e,t),Es(t,null,null,n),As()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Pn(t,it,s)):(s=u.cache,Pn(t,it,s),s!==o.cache&&zo(t,[it],n,!0))),bt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function wn(e){e.flags|=4}function Su(e,t,n,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Ym())e.flags|=8192;else throw Ha=zl,Uo}else e.flags&=-16777217}function gm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!j0(t))if(Ym())e.flags|=8192;else throw Ha=zl,Uo}function Pl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Jf():536870912,e.lanes|=t,Oi|=t)}function ws(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function tb(e,t,n){var s=t.pendingProps;switch(Mo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Dn(it),He(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xi(t)?wn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jo())),Xe(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(wn(t),u!==null?(Xe(t),gm(t,u)):(Xe(t),Su(t,o,null,s,n))):u?u!==e.memoizedState?(wn(t),Xe(t),gm(t,u)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&wn(t),Xe(t),Su(t,o,e,s,n)),null;case 27:if(Hn(t),n=he.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&wn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}e=W.current,xi(t)?Jd(t):(e=A0(o,s,n),t.stateNode=e,wn(t))}return Xe(t),null;case 5:if(Hn(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&wn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}if(u=W.current,xi(t))Jd(t);else{var h=dr(he.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?h.createElement("select",{is:s.is}):h.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?h.createElement(o,{is:s.is}):h.createElement(o)}}u[yt]=t,u[_t]=s;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=u;e:switch(St(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&wn(t)}}return Xe(t),Su(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&wn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=he.current,xi(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,o=vt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[yt]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||d0(e.nodeValue,n)),e||$n(t,!0)}else e=dr(e).createTextNode(s),e[yt]=t,t.stateNode=e}return Xe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=xi(t),n!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[yt]=t}else Ba(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else n=jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ht(t),t):(Ht(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Xe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=xi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[yt]=t}else Ba(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else o=jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ht(t),t):(Ht(t),null)}return Ht(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Pl(t,t.updateQueue),Xe(t),null);case 4:return He(),e===null&&qu(t.stateNode.containerInfo),Xe(t),null;case 10:return Dn(t.type),Xe(t),null;case 19:if(L(tt),s=t.memoizedState,s===null)return Xe(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)ws(s,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ul(e),u!==null){for(t.flags|=128,ws(s,!1),e=u.updateQueue,t.updateQueue=e,Pl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Xd(n,e),n=n.sibling;return F(tt,tt.current&1|2),Me&&En(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&dt()>nr&&(t.flags|=128,o=!0,ws(s,!1),t.lanes=4194304)}else{if(!o)if(e=Ul(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Pl(t,e),ws(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Me)return Xe(t),null}else 2*dt()-s.renderingStartTime>nr&&n!==536870912&&(t.flags|=128,o=!0,ws(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=tt.current,F(tt,o?n&1|2:n&1),Me&&En(t,s.treeForkCount),e):(Xe(t),null);case 22:case 23:return Ht(t),Xo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),n=t.updateQueue,n!==null&&Pl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&L(Ua),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Dn(it),Xe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function nb(e,t){switch(Mo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dn(it),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Hn(t),null;case 31:if(t.memoizedState!==null){if(Ht(t),t.alternate===null)throw Error(r(340));Ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ht(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(tt),null;case 4:return He(),null;case 10:return Dn(t.type),null;case 22:case 23:return Ht(t),Xo(),e!==null&&L(Ua),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Dn(it),null;case 25:return null;default:return null}}function ym(e,t){switch(Mo(t),t.tag){case 3:Dn(it),He();break;case 26:case 27:case 5:Hn(t);break;case 4:He();break;case 31:t.memoizedState!==null&&Ht(t);break;case 13:Ht(t);break;case 19:L(tt);break;case 10:Dn(t.type);break;case 22:case 23:Ht(t),Xo(),e!==null&&L(Ua);break;case 24:Dn(it)}}function js(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var o=s.next;n=o;do{if((n.tag&e)===e){s=void 0;var u=n.create,h=n.inst;s=u(),h.destroy=s}n=n.next}while(n!==o)}}catch(x){Ve(t,t.return,x)}}function aa(e,t,n){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var h=s.inst,x=h.destroy;if(x!==void 0){h.destroy=void 0,o=t;var T=n,w=x;try{w()}catch(R){Ve(o,T,R)}}}s=s.next}while(s!==u)}}catch(R){Ve(t,t.return,R)}}function vm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{oh(t,n)}catch(s){Ve(e,e.return,s)}}}function xm(e,t,n){n.props=qa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ve(e,t,s)}}function Os(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(o){Ve(e,t,o)}}function pn(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(o){Ve(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Ve(e,t,o)}else n.current=null}function bm(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(o){Ve(e,e.return,o)}}function Tu(e,t,n){try{var s=e.stateNode;Eb(s,e.type,n,t),s[_t]=t}catch(o){Ve(e,e.return,o)}}function Sm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ca(e.type)||e.tag===4}function Au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sn));else if(s!==4&&(s===27&&ca(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Eu(e,t,n),e=e.sibling;e!==null;)Eu(e,t,n),e=e.sibling}function Il(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&ca(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Il(e,t,n),e=e.sibling;e!==null;)Il(e,t,n),e=e.sibling}function Tm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);St(t,s,n),t[yt]=e,t[_t]=n}catch(u){Ve(e,e.return,u)}}var jn=!1,rt=!1,Cu=!1,Am=typeof WeakSet=="function"?WeakSet:Set,pt=null;function ab(e,t){if(e=e.containerInfo,Qu=xr,e=Bd(e),vo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var h=0,x=-1,T=-1,w=0,R=0,G=e,j=null;t:for(;;){for(var O;G!==n||o!==0&&G.nodeType!==3||(x=h+o),G!==u||s!==0&&G.nodeType!==3||(T=h+s),G.nodeType===3&&(h+=G.nodeValue.length),(O=G.firstChild)!==null;)j=G,G=O;for(;;){if(G===e)break t;if(j===n&&++w===o&&(x=h),j===u&&++R===s&&(T=h),(O=G.nextSibling)!==null)break;G=j,j=G.parentNode}G=O}n=x===-1||T===-1?null:{start:x,end:T}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zu={focusedElem:e,selectionRange:n},xr=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,s=n.stateNode;try{var te=qa(n.type,o);e=s.getSnapshotBeforeUpdate(te,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(re){Ve(n,n.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)$u(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$u(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function Em(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Rn(e,n),s&4&&js(5,n);break;case 1:if(Rn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){Ve(n,n.return,h)}else{var o=qa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Ve(n,n.return,h)}}s&64&&vm(n),s&512&&Os(n,n.return);break;case 3:if(Rn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{oh(e,t)}catch(h){Ve(n,n.return,h)}}break;case 27:t===null&&s&4&&Tm(n);case 26:case 5:Rn(e,n),t===null&&s&4&&bm(n),s&512&&Os(n,n.return);break;case 12:Rn(e,n);break;case 31:Rn(e,n),s&4&&Nm(e,n);break;case 13:Rn(e,n),s&4&&_m(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=db.bind(null,n),Ob(e,n))));break;case 22:if(s=n.memoizedState!==null||jn,!s){t=t!==null&&t.memoizedState!==null||rt,o=jn;var u=rt;jn=s,(rt=t)&&!u?zn(e,n,(n.subtreeFlags&8772)!==0):Rn(e,n),jn=o,rt=u}break;case 30:break;default:Rn(e,n)}}function Cm(e){var t=e.alternate;t!==null&&(e.alternate=null,Cm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&eo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,wt=!1;function On(e,t,n){for(n=n.child;n!==null;)Dm(e,t,n),n=n.sibling}function Dm(e,t,n){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(P,n)}catch{}switch(n.tag){case 26:rt||pn(n,t),On(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:rt||pn(n,t);var s=Fe,o=wt;ca(n.type)&&(Fe=n.stateNode,wt=!1),On(e,t,n),ks(n.stateNode),Fe=s,wt=o;break;case 5:rt||pn(n,t);case 6:if(s=Fe,o=wt,Fe=null,On(e,t,n),Fe=s,wt=o,Fe!==null)if(wt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(n.stateNode)}catch(u){Ve(n,t,u)}else try{Fe.removeChild(n.stateNode)}catch(u){Ve(n,t,u)}break;case 18:Fe!==null&&(wt?(e=Fe,v0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Hi(e)):v0(Fe,n.stateNode));break;case 4:s=Fe,o=wt,Fe=n.stateNode.containerInfo,wt=!0,On(e,t,n),Fe=s,wt=o;break;case 0:case 11:case 14:case 15:aa(2,n,t),rt||aa(4,n,t),On(e,t,n);break;case 1:rt||(pn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&xm(n,t,s)),On(e,t,n);break;case 21:On(e,t,n);break;case 22:rt=(s=rt)||n.memoizedState!==null,On(e,t,n),rt=s;break;default:On(e,t,n)}}function Nm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Hi(e)}catch(n){Ve(t,t.return,n)}}}function _m(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hi(e)}catch(n){Ve(t,t.return,n)}}function ib(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Am),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Am),t;default:throw Error(r(435,e.tag))}}function Wl(e,t){var n=ib(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var o=hb.bind(null,e,s);s.then(o,o)}})}function jt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s],u=e,h=t,x=h;e:for(;x!==null;){switch(x.tag){case 27:if(ca(x.type)){Fe=x.stateNode,wt=!1;break e}break;case 5:Fe=x.stateNode,wt=!1;break e;case 3:case 4:Fe=x.stateNode.containerInfo,wt=!0;break e}x=x.return}if(Fe===null)throw Error(r(160));Dm(u,h,o),Fe=null,wt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Mm(t,e),t=t.sibling}var un=null;function Mm(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jt(t,e),Ot(e),s&4&&(aa(3,e,e.return),js(3,e),aa(5,e,e.return));break;case 1:jt(t,e),Ot(e),s&512&&(rt||n===null||pn(n,n.return)),s&64&&jn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var o=un;if(jt(t,e),Ot(e),s&512&&(rt||n===null||pn(n,n.return)),s&4){var u=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[ss]||u[yt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),St(u,s,n),u[yt]=e,mt(u),s=u;break e;case"link":var h=M0("link","href",o).get(s+(n.href||""));if(h){for(var x=0;x<h.length;x++)if(u=h[x],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(x,1);break t}}u=o.createElement(s),St(u,s,n),o.head.appendChild(u);break;case"meta":if(h=M0("meta","content",o).get(s+(n.content||""))){for(x=0;x<h.length;x++)if(u=h[x],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(x,1);break t}}u=o.createElement(s),St(u,s,n),o.head.appendChild(u);break;default:throw Error(r(468,s))}u[yt]=e,mt(u),s=u}e.stateNode=s}else w0(o,e.type,e.stateNode);else e.stateNode=_0(o,s,e.memoizedProps);else u!==s?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,s===null?w0(o,e.type,e.stateNode):_0(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Tu(e,e.memoizedProps,n.memoizedProps)}break;case 27:jt(t,e),Ot(e),s&512&&(rt||n===null||pn(n,n.return)),n!==null&&s&4&&Tu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jt(t,e),Ot(e),s&512&&(rt||n===null||pn(n,n.return)),e.flags&32){o=e.stateNode;try{ui(o,"")}catch(te){Ve(e,e.return,te)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Tu(e,o,n!==null?n.memoizedProps:o)),s&1024&&(Cu=!0);break;case 6:if(jt(t,e),Ot(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(te){Ve(e,e.return,te)}}break;case 3:if(pr=null,o=un,un=hr(t.containerInfo),jt(t,e),un=o,Ot(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Hi(t.containerInfo)}catch(te){Ve(e,e.return,te)}Cu&&(Cu=!1,wm(e));break;case 4:s=un,un=hr(e.stateNode.containerInfo),jt(t,e),Ot(e),un=s;break;case 12:jt(t,e),Ot(e);break;case 31:jt(t,e),Ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Wl(e,s)));break;case 13:jt(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(tr=dt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Wl(e,s)));break;case 22:o=e.memoizedState!==null;var T=n!==null&&n.memoizedState!==null,w=jn,R=rt;if(jn=w||o,rt=R||T,jt(t,e),rt=R,jn=w,Ot(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||T||jn||rt||Xa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){T=n=t;try{if(u=T.stateNode,o)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{x=T.stateNode;var G=T.memoizedProps.style,j=G!=null&&G.hasOwnProperty("display")?G.display:null;x.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(te){Ve(T,T.return,te)}}}else if(t.tag===6){if(n===null){T=t;try{T.stateNode.nodeValue=o?"":T.memoizedProps}catch(te){Ve(T,T.return,te)}}}else if(t.tag===18){if(n===null){T=t;try{var O=T.stateNode;o?x0(O,!0):x0(T.stateNode,!1)}catch(te){Ve(T,T.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Wl(e,n))));break;case 19:jt(t,e),Ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Wl(e,s)));break;case 30:break;case 21:break;default:jt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(Sm(s)){n=s;break}s=s.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var o=n.stateNode,u=Au(e);Il(e,u,o);break;case 5:var h=n.stateNode;n.flags&32&&(ui(h,""),n.flags&=-33);var x=Au(e);Il(e,x,h);break;case 3:case 4:var T=n.stateNode.containerInfo,w=Au(e);Eu(e,w,T);break;default:throw Error(r(161))}}catch(R){Ve(e,e.return,R)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Rn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Em(e,t.alternate,t),t=t.sibling}function Xa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:aa(4,t,t.return),Xa(t);break;case 1:pn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&xm(t,t.return,n),Xa(t);break;case 27:ks(t.stateNode);case 26:case 5:pn(t,t.return),Xa(t);break;case 22:t.memoizedState===null&&Xa(t);break;case 30:Xa(t);break;default:Xa(t)}e=e.sibling}}function zn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:zn(o,u,n),js(4,u);break;case 1:if(zn(o,u,n),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(w){Ve(s,s.return,w)}if(s=u,o=s.updateQueue,o!==null){var x=s.stateNode;try{var T=o.shared.hiddenCallbacks;if(T!==null)for(o.shared.hiddenCallbacks=null,o=0;o<T.length;o++)rh(T[o],x)}catch(w){Ve(s,s.return,w)}}n&&h&64&&vm(u),Os(u,u.return);break;case 27:Tm(u);case 26:case 5:zn(o,u,n),n&&s===null&&h&4&&bm(u),Os(u,u.return);break;case 12:zn(o,u,n);break;case 31:zn(o,u,n),n&&h&4&&Nm(o,u);break;case 13:zn(o,u,n),n&&h&4&&_m(o,u);break;case 22:u.memoizedState===null&&zn(o,u,n),Os(u,u.return);break;case 30:break;default:zn(o,u,n)}t=t.sibling}}function Du(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&vs(n))}function Nu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vs(e))}function cn(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jm(e,t,n,s),t=t.sibling}function jm(e,t,n,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:cn(e,t,n,s),o&2048&&js(9,t);break;case 1:cn(e,t,n,s);break;case 3:cn(e,t,n,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vs(e)));break;case 12:if(o&2048){cn(e,t,n,s),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,x=u.onPostCommit;typeof x=="function"&&x(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Ve(t,t.return,T)}}else cn(e,t,n,s);break;case 31:cn(e,t,n,s);break;case 13:cn(e,t,n,s);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?cn(e,t,n,s):Rs(e,t):u._visibility&2?cn(e,t,n,s):(u._visibility|=2,Mi(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Du(h,t);break;case 24:cn(e,t,n,s),o&2048&&Nu(t.alternate,t);break;default:cn(e,t,n,s)}}function Mi(e,t,n,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,h=t,x=n,T=s,w=h.flags;switch(h.tag){case 0:case 11:case 15:Mi(u,h,x,T,o),js(8,h);break;case 23:break;case 22:var R=h.stateNode;h.memoizedState!==null?R._visibility&2?Mi(u,h,x,T,o):Rs(u,h):(R._visibility|=2,Mi(u,h,x,T,o)),o&&w&2048&&Du(h.alternate,h);break;case 24:Mi(u,h,x,T,o),o&&w&2048&&Nu(h.alternate,h);break;default:Mi(u,h,x,T,o)}t=t.sibling}}function Rs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,o=s.flags;switch(s.tag){case 22:Rs(n,s),o&2048&&Du(s.alternate,s);break;case 24:Rs(n,s),o&2048&&Nu(s.alternate,s);break;default:Rs(n,s)}t=t.sibling}}var zs=8192;function wi(e,t,n){if(e.subtreeFlags&zs)for(e=e.child;e!==null;)Om(e,t,n),e=e.sibling}function Om(e,t,n){switch(e.tag){case 26:wi(e,t,n),e.flags&zs&&e.memoizedState!==null&&Xb(n,un,e.memoizedState,e.memoizedProps);break;case 5:wi(e,t,n);break;case 3:case 4:var s=un;un=hr(e.stateNode.containerInfo),wi(e,t,n),un=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=zs,zs=16777216,wi(e,t,n),zs=s):wi(e,t,n));break;default:wi(e,t,n)}}function Rm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];pt=s,Bm(s,e)}Rm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zm(e),e=e.sibling}function zm(e){switch(e.tag){case 0:case 11:case 15:Bs(e),e.flags&2048&&aa(9,e,e.return);break;case 3:Bs(e);break;case 12:Bs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,er(e)):Bs(e);break;default:Bs(e)}}function er(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];pt=s,Bm(s,e)}Rm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:aa(8,t,t.return),er(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,er(t));break;default:er(t)}e=e.sibling}}function Bm(e,t){for(;pt!==null;){var n=pt;switch(n.tag){case 0:case 11:case 15:aa(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:vs(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,pt=s;else e:for(n=e;pt!==null;){s=pt;var o=s.sibling,u=s.return;if(Cm(s),s===n){pt=null;break e}if(o!==null){o.return=u,pt=o;break e}pt=u}}}var sb={getCacheForType:function(e){var t=xt(it),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return xt(it).controller.signal}},lb=typeof WeakMap=="function"?WeakMap:Map,ze=0,ke=null,Ee=null,De=0,Be=0,kt=null,ia=!1,ji=!1,_u=!1,Bn=0,Ie=0,sa=0,Ka=0,Mu=0,Yt=0,Oi=0,Vs=null,Rt=null,wu=!1,tr=0,Vm=0,nr=1/0,ar=null,la=null,ut=0,ra=null,Ri=null,Vn=0,ju=0,Ou=null,Lm=null,Ls=0,Ru=null;function qt(){return(ze&2)!==0&&De!==0?De&-De:N.T!==null?Gu():Wf()}function Um(){if(Yt===0)if((De&536870912)===0||Me){var e=Ze;Ze<<=1,(Ze&3932160)===0&&(Ze=262144),Yt=e}else Yt=536870912;return e=Gt.current,e!==null&&(e.flags|=32),Yt}function zt(e,t,n){(e===ke&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(zi(e,0),oa(e,De,Yt,!1)),is(e,n),((ze&2)===0||e!==ke)&&(e===ke&&((ze&2)===0&&(Ka|=n),Ie===4&&oa(e,De,Yt,!1)),gn(e))}function Gm(e,t,n){if((ze&6)!==0)throw Error(r(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||as(e,t),o=s?ub(e,t):Bu(e,t,!0),u=s;do{if(o===0){ji&&!s&&oa(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!rb(n)){o=Bu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var x=e;o=Vs;var T=x.current.memoizedState.isDehydrated;if(T&&(zi(x,h).flags|=256),h=Bu(x,h,!1),h!==2){if(_u&&!T){x.errorRecoveryDisabledLanes|=u,Ka|=u,o=4;break e}u=Rt,Rt=o,u!==null&&(Rt===null?Rt=u:Rt.push.apply(Rt,u))}o=h}if(u=!1,o!==2)continue}}if(o===1){zi(e,0),oa(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:oa(s,t,Yt,!ia);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=tr+300-dt(),10<o)){if(oa(s,t,Yt,!ia),ni(s,0,!0)!==0)break e;Vn=t,s.timeoutHandle=g0(Hm.bind(null,s,n,Rt,ar,wu,t,Yt,Ka,Oi,ia,u,"Throttled",-0,0),o);break e}Hm(s,n,Rt,ar,wu,t,Yt,Ka,Oi,ia,u,null,-0,0)}}break}while(!0);gn(e)}function Hm(e,t,n,s,o,u,h,x,T,w,R,G,j,O){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sn},Om(t,u,G);var te=(u&62914560)===u?tr-dt():(u&4194048)===u?Vm-dt():0;if(te=Kb(G,te),te!==null){Vn=u,e.cancelPendingCommit=te(Fm.bind(null,e,t,u,n,s,o,h,x,T,R,G,null,j,O)),oa(e,u,h,!w);return}}Fm(e,t,u,n,s,o,h,x,T)}function rb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var o=n[s],u=o.getSnapshot;o=o.value;try{if(!Lt(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oa(e,t,n,s){t&=~Mu,t&=~Ka,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-ge(o),h=1<<u;s[u]=-1,o&=~h}n!==0&&$f(e,n,t)}function ir(){return(ze&6)===0?(Us(0),!1):!0}function zu(){if(Ee!==null){if(Be===0)var e=Ee.return;else e=Ee,Cn=Va=null,$o(e),Ei=null,bs=0,e=Ee;for(;e!==null;)ym(e.alternate,e),e=e.return;Ee=null}}function zi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Nb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Vn=0,zu(),ke=e,Ee=n=An(e.current,null),De=t,Be=0,kt=null,ia=!1,ji=as(e,t),_u=!1,Oi=Yt=Mu=Ka=sa=Ie=0,Rt=Vs=null,wu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-ge(s),u=1<<o;t|=e[o],s&=~u}return Bn=t,Cl(),n}function km(e,t){ye=null,N.H=_s,t===Ai||t===Rl?(t=ah(),Be=3):t===Uo?(t=ah(),Be=4):Be=t===du?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,Ee===null&&(Ie=1,Zl(e,Jt(t,e.current)))}function Ym(){var e=Gt.current;return e===null?!0:(De&4194048)===De?Wt===null:(De&62914560)===De||(De&536870912)!==0?e===Wt:!1}function qm(){var e=N.H;return N.H=_s,e===null?_s:e}function Xm(){var e=N.A;return N.A=sb,e}function sr(){Ie=4,ia||(De&4194048)!==De&&Gt.current!==null||(ji=!0),(sa&134217727)===0&&(Ka&134217727)===0||ke===null||oa(ke,De,Yt,!1)}function Bu(e,t,n){var s=ze;ze|=2;var o=qm(),u=Xm();(ke!==e||De!==t)&&(ar=null,zi(e,t)),t=!1;var h=Ie;e:do try{if(Be!==0&&Ee!==null){var x=Ee,T=kt;switch(Be){case 8:zu(),h=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(t=!0);var w=Be;if(Be=0,kt=null,Bi(e,x,T,w),n&&ji){h=0;break e}break;default:w=Be,Be=0,kt=null,Bi(e,x,T,w)}}ob(),h=Ie;break}catch(R){km(e,R)}while(!0);return t&&e.shellSuspendCounter++,Cn=Va=null,ze=s,N.H=o,N.A=u,Ee===null&&(ke=null,De=0,Cl()),h}function ob(){for(;Ee!==null;)Km(Ee)}function ub(e,t){var n=ze;ze|=2;var s=qm(),o=Xm();ke!==e||De!==t?(ar=null,nr=dt()+500,zi(e,t)):ji=as(e,t);e:do try{if(Be!==0&&Ee!==null){t=Ee;var u=kt;t:switch(Be){case 1:Be=0,kt=null,Bi(e,t,u,1);break;case 2:case 9:if(th(u)){Be=0,kt=null,Qm(t);break}t=function(){Be!==2&&Be!==9||ke!==e||(Be=7),gn(e)},u.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:th(u)?(Be=0,kt=null,Qm(t)):(Be=0,kt=null,Bi(e,t,u,7));break;case 5:var h=null;switch(Ee.tag){case 26:h=Ee.memoizedState;case 5:case 27:var x=Ee;if(h?j0(h):x.stateNode.complete){Be=0,kt=null;var T=x.sibling;if(T!==null)Ee=T;else{var w=x.return;w!==null?(Ee=w,lr(w)):Ee=null}break t}}Be=0,kt=null,Bi(e,t,u,5);break;case 6:Be=0,kt=null,Bi(e,t,u,6);break;case 8:zu(),Ie=6;break e;default:throw Error(r(462))}}cb();break}catch(R){km(e,R)}while(!0);return Cn=Va=null,N.H=s,N.A=o,ze=n,Ee!==null?0:(ke=null,De=0,Cl(),Ie)}function cb(){for(;Ee!==null&&!ei();)Km(Ee)}function Km(e){var t=pm(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,t===null?lr(e):Ee=t}function Qm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=um(n,t,t.pendingProps,t.type,void 0,De);break;case 11:t=um(n,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:$o(t);default:ym(n,t),t=Ee=Xd(t,Bn),t=pm(n,t,Bn)}e.memoizedProps=e.pendingProps,t===null?lr(e):Ee=t}function Bi(e,t,n,s){Cn=Va=null,$o(t),Ei=null,bs=0;var o=t.return;try{if(Ix(e,o,t,n,De)){Ie=1,Zl(e,Jt(n,e.current)),Ee=null;return}}catch(u){if(o!==null)throw Ee=o,u;Ie=1,Zl(e,Jt(n,e.current)),Ee=null;return}t.flags&32768?(Me||s===1?e=!0:ji||(De&536870912)!==0?e=!1:(ia=e=!0,(s===2||s===9||s===3||s===6)&&(s=Gt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Zm(t,e)):lr(t)}function lr(e){var t=e;do{if((t.flags&32768)!==0){Zm(t,ia);return}e=t.return;var n=tb(t.alternate,t,Bn);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ie===0&&(Ie=5)}function Zm(e,t){do{var n=nb(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);Ie=6,Ee=null}function Fm(e,t,n,s,o,u,h,x,T){e.cancelPendingCommit=null;do rr();while(ut!==0);if((ze&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=Ao,qv(e,n,u,h,x,T),e===ke&&(Ee=ke=null,De=0),Ri=t,ra=e,Vn=n,ju=u,Ou=o,Lm=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mb(dn,function(){return Wm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=N.T,N.T=null,o=V.p,V.p=2,h=ze,ze|=4;try{ab(e,t,n)}finally{ze=h,V.p=o,N.T=s}}ut=1,Jm(),$m(),Pm()}}function Jm(){if(ut===1){ut=0;var e=ra,t=Ri,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=N.T,N.T=null;var s=V.p;V.p=2;var o=ze;ze|=4;try{Mm(t,e);var u=Zu,h=Bd(e.containerInfo),x=u.focusedElem,T=u.selectionRange;if(h!==x&&x&&x.ownerDocument&&zd(x.ownerDocument.documentElement,x)){if(T!==null&&vo(x)){var w=T.start,R=T.end;if(R===void 0&&(R=w),"selectionStart"in x)x.selectionStart=w,x.selectionEnd=Math.min(R,x.value.length);else{var G=x.ownerDocument||document,j=G&&G.defaultView||window;if(j.getSelection){var O=j.getSelection(),te=x.textContent.length,re=Math.min(T.start,te),Ge=T.end===void 0?re:Math.min(T.end,te);!O.extend&&re>Ge&&(h=Ge,Ge=re,re=h);var D=Rd(x,re),E=Rd(x,Ge);if(D&&E&&(O.rangeCount!==1||O.anchorNode!==D.node||O.anchorOffset!==D.offset||O.focusNode!==E.node||O.focusOffset!==E.offset)){var _=G.createRange();_.setStart(D.node,D.offset),O.removeAllRanges(),re>Ge?(O.addRange(_),O.extend(E.node,E.offset)):(_.setEnd(E.node,E.offset),O.addRange(_))}}}}for(G=[],O=x;O=O.parentNode;)O.nodeType===1&&G.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<G.length;x++){var U=G[x];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}xr=!!Qu,Zu=Qu=null}finally{ze=o,V.p=s,N.T=n}}e.current=t,ut=2}}function $m(){if(ut===2){ut=0;var e=ra,t=Ri,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=N.T,N.T=null;var s=V.p;V.p=2;var o=ze;ze|=4;try{Em(e,t.alternate,t)}finally{ze=o,V.p=s,N.T=n}}ut=3}}function Pm(){if(ut===4||ut===3){ut=0,ti();var e=ra,t=Ri,n=Vn,s=Lm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ut=5:(ut=0,Ri=ra=null,Im(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(la=null),Ir(n),t=t.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(P,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=N.T,o=V.p,V.p=2,N.T=null;try{for(var u=e.onRecoverableError,h=0;h<s.length;h++){var x=s[h];u(x.value,{componentStack:x.stack})}}finally{N.T=t,V.p=o}}(Vn&3)!==0&&rr(),gn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Ru?Ls++:(Ls=0,Ru=e):Ls=0,Us(0)}}function Im(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vs(t)))}function rr(){return Jm(),$m(),Pm(),Wm()}function Wm(){if(ut!==5)return!1;var e=ra,t=ju;ju=0;var n=Ir(Vn),s=N.T,o=V.p;try{V.p=32>n?32:n,N.T=null,n=Ou,Ou=null;var u=ra,h=Vn;if(ut=0,Ri=ra=null,Vn=0,(ze&6)!==0)throw Error(r(331));var x=ze;if(ze|=4,zm(u.current),jm(u,u.current,h,n),ze=x,Us(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(P,u)}catch{}return!0}finally{V.p=o,N.T=s,Im(e,t)}}function e0(e,t,n){t=Jt(n,t),t=fu(e.stateNode,t,2),e=ea(e,t,2),e!==null&&(is(e,2),gn(e))}function Ve(e,t,n){if(e.tag===3)e0(e,e,n);else for(;t!==null;){if(t.tag===3){e0(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(la===null||!la.has(s))){e=Jt(n,e),n=tm(2),s=ea(t,n,2),s!==null&&(nm(n,s,t,e),is(s,2),gn(s));break}}t=t.return}}function Vu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new lb;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(_u=!0,o.add(n),e=fb.bind(null,e,t,n),t.then(e,e))}function fb(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ke===e&&(De&n)===n&&(Ie===4||Ie===3&&(De&62914560)===De&&300>dt()-tr?(ze&2)===0&&zi(e,0):Mu|=n,Oi===De&&(Oi=0)),gn(e)}function t0(e,t){t===0&&(t=Jf()),e=Ra(e,t),e!==null&&(is(e,t),gn(e))}function db(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),t0(e,n)}function hb(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),t0(e,n)}function mb(e,t){return qn(e,t)}var or=null,Vi=null,Lu=!1,ur=!1,Uu=!1,ua=0;function gn(e){e!==Vi&&e.next===null&&(Vi===null?or=Vi=e:Vi=Vi.next=e),ur=!0,Lu||(Lu=!0,gb())}function Us(e,t){if(!Uu&&ur){Uu=!0;do for(var n=!1,s=or;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var h=s.suspendedLanes,x=s.pingedLanes;u=(1<<31-ge(42|e)+1)-1,u&=o&~(h&~x),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,s0(s,u))}else u=De,u=ni(s,s===ke?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||as(s,u)||(n=!0,s0(s,u));s=s.next}while(n);Uu=!1}}function pb(){n0()}function n0(){ur=Lu=!1;var e=0;ua!==0&&Db()&&(e=ua);for(var t=dt(),n=null,s=or;s!==null;){var o=s.next,u=a0(s,t);u===0?(s.next=null,n===null?or=o:n.next=o,o===null&&(Vi=n)):(n=s,(e!==0||(u&3)!==0)&&(ur=!0)),s=o}ut!==0&&ut!==5||Us(e),ua!==0&&(ua=0)}function a0(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-ge(u),x=1<<h,T=o[h];T===-1?((x&n)===0||(x&s)!==0)&&(o[h]=Yv(x,t)):T<=t&&(e.expiredLanes|=x),u&=~x}if(t=ke,n=De,n=ni(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Xn(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||as(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Xn(s),Ir(n)){case 2:case 8:n=Na;break;case 32:n=dn;break;case 268435456:n=_e;break;default:n=dn}return s=i0.bind(null,e),n=qn(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Xn(s),e.callbackPriority=2,e.callbackNode=null,2}function i0(e,t){if(ut!==0&&ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(rr()&&e.callbackNode!==n)return null;var s=De;return s=ni(e,e===ke?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Gm(e,s,t),a0(e,dt()),e.callbackNode!=null&&e.callbackNode===n?i0.bind(null,e):null)}function s0(e,t){if(rr())return null;Gm(e,t,!0)}function gb(){_b(function(){(ze&6)!==0?qn(Da,pb):n0()})}function Gu(){if(ua===0){var e=Si;e===0&&(e=be,be<<=1,(be&261888)===0&&(be=256)),ua=e}return ua}function l0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yl(""+e)}function r0(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function yb(e,t,n,s,o){if(t==="submit"&&n&&n.stateNode===o){var u=l0((o[_t]||null).action),h=s.submitter;h&&(t=(t=h[_t]||null)?l0(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var x=new Sl("action","action",null,s,o);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ua!==0){var T=h?r0(o,h):new FormData(o);su(n,{pending:!0,data:T,method:o.method,action:u},null,T)}}else typeof u=="function"&&(x.preventDefault(),T=h?r0(o,h):new FormData(o),su(n,{pending:!0,data:T,method:o.method,action:u},u,T))},currentTarget:o}]})}}for(var Hu=0;Hu<To.length;Hu++){var ku=To[Hu],vb=ku.toLowerCase(),xb=ku[0].toUpperCase()+ku.slice(1);on(vb,"on"+xb)}on(Ud,"onAnimationEnd"),on(Gd,"onAnimationIteration"),on(Hd,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(Bx,"onTransitionRun"),on(Vx,"onTransitionStart"),on(Lx,"onTransitionCancel"),on(kd,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gs));function o0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var h=s.length-1;0<=h;h--){var x=s[h],T=x.instance,w=x.currentTarget;if(x=x.listener,T!==u&&o.isPropagationStopped())break e;u=x,o.currentTarget=w;try{u(o)}catch(R){El(R)}o.currentTarget=null,u=T}else for(h=0;h<s.length;h++){if(x=s[h],T=x.instance,w=x.currentTarget,x=x.listener,T!==u&&o.isPropagationStopped())break e;u=x,o.currentTarget=w;try{u(o)}catch(R){El(R)}o.currentTarget=null,u=T}}}}function Ce(e,t){var n=t[Wr];n===void 0&&(n=t[Wr]=new Set);var s=e+"__bubble";n.has(s)||(u0(t,e,2,!1),n.add(s))}function Yu(e,t,n){var s=0;t&&(s|=4),u0(n,e,s,t)}var cr="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[cr]){e[cr]=!0,nd.forEach(function(n){n!=="selectionchange"&&(bb.has(n)||Yu(n,!1,e),Yu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cr]||(t[cr]=!0,Yu("selectionchange",!1,t))}}function u0(e,t,n,s){switch(U0(t)){case 2:var o=Fb;break;case 8:o=Jb;break;default:o=ic}n=o.bind(null,t,n,e),o=void 0,!oo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Xu(e,t,n,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var x=s.stateNode.containerInfo;if(x===o)break;if(h===4)for(h=s.return;h!==null;){var T=h.tag;if((T===3||T===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;x!==null;){if(h=ii(x),h===null)return;if(T=h.tag,T===5||T===6||T===26||T===27){s=u=h;continue e}x=x.parentNode}}s=s.return}md(function(){var w=u,R=lo(n),G=[];e:{var j=Yd.get(e);if(j!==void 0){var O=Sl,te=e;switch(e){case"keypress":if(xl(n)===0)break e;case"keydown":case"keyup":O=hx;break;case"focusin":te="focus",O=ho;break;case"focusout":te="blur",O=ho;break;case"beforeblur":case"afterblur":O=ho;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=tx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=gx;break;case Ud:case Gd:case Hd:O=ix;break;case kd:O=vx;break;case"scroll":case"scrollend":O=Wv;break;case"wheel":O=bx;break;case"copy":case"cut":case"paste":O=lx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=xd;break;case"toggle":case"beforetoggle":O=Tx}var re=(t&4)!==0,Ge=!re&&(e==="scroll"||e==="scrollend"),D=re?j!==null?j+"Capture":null:j;re=[];for(var E=w,_;E!==null;){var U=E;if(_=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||_===null||D===null||(U=rs(E,D),U!=null&&re.push(Hs(E,U,_))),Ge)break;E=E.return}0<re.length&&(j=new O(j,te,null,n,R),G.push({event:j,listeners:re}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",j&&n!==so&&(te=n.relatedTarget||n.fromElement)&&(ii(te)||te[ai]))break e;if((O||j)&&(j=R.window===R?R:(j=R.ownerDocument)?j.defaultView||j.parentWindow:window,O?(te=n.relatedTarget||n.toElement,O=w,te=te?ii(te):null,te!==null&&(Ge=d(te),re=te.tag,te!==Ge||re!==5&&re!==27&&re!==6)&&(te=null)):(O=null,te=w),O!==te)){if(re=yd,U="onMouseLeave",D="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(re=xd,U="onPointerLeave",D="onPointerEnter",E="pointer"),Ge=O==null?j:ls(O),_=te==null?j:ls(te),j=new re(U,E+"leave",O,n,R),j.target=Ge,j.relatedTarget=_,U=null,ii(R)===w&&(re=new re(D,E+"enter",te,n,R),re.target=_,re.relatedTarget=Ge,U=re),Ge=U,O&&te)t:{for(re=Sb,D=O,E=te,_=0,U=D;U;U=re(U))_++;U=0;for(var se=E;se;se=re(se))U++;for(;0<_-U;)D=re(D),_--;for(;0<U-_;)E=re(E),U--;for(;_--;){if(D===E||E!==null&&D===E.alternate){re=D;break t}D=re(D),E=re(E)}re=null}else re=null;O!==null&&c0(G,j,O,re,!1),te!==null&&Ge!==null&&c0(G,Ge,te,re,!0)}}e:{if(j=w?ls(w):window,O=j.nodeName&&j.nodeName.toLowerCase(),O==="select"||O==="input"&&j.type==="file")var je=Nd;else if(Cd(j))if(_d)je=Ox;else{je=wx;var ae=Mx}else O=j.nodeName,!O||O.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?w&&io(w.elementType)&&(je=Nd):je=jx;if(je&&(je=je(e,w))){Dd(G,je,n,R);break e}ae&&ae(e,j,w),e==="focusout"&&w&&j.type==="number"&&w.memoizedProps.value!=null&&ao(j,"number",j.value)}switch(ae=w?ls(w):window,e){case"focusin":(Cd(ae)||ae.contentEditable==="true")&&(hi=ae,xo=w,ps=null);break;case"focusout":ps=xo=hi=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,Vd(G,n,R);break;case"selectionchange":if(zx)break;case"keydown":case"keyup":Vd(G,n,R)}var ve;if(po)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else di?Ad(e,n)&&(Ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ne="onCompositionStart");Ne&&(bd&&n.locale!=="ko"&&(di||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&di&&(ve=pd()):(Zn=R,uo="value"in Zn?Zn.value:Zn.textContent,di=!0)),ae=fr(w,Ne),0<ae.length&&(Ne=new vd(Ne,e,null,n,R),G.push({event:Ne,listeners:ae}),ve?Ne.data=ve:(ve=Ed(n),ve!==null&&(Ne.data=ve)))),(ve=Ex?Cx(e,n):Dx(e,n))&&(Ne=fr(w,"onBeforeInput"),0<Ne.length&&(ae=new vd("onBeforeInput","beforeinput",null,n,R),G.push({event:ae,listeners:Ne}),ae.data=ve)),yb(G,e,w,n,R)}o0(G,t)})}function Hs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fr(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=rs(e,n),o!=null&&s.unshift(Hs(e,o,u)),o=rs(e,t),o!=null&&s.push(Hs(e,o,u))),e.tag===3)return s;e=e.return}return[]}function Sb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function c0(e,t,n,s,o){for(var u=t._reactName,h=[];n!==null&&n!==s;){var x=n,T=x.alternate,w=x.stateNode;if(x=x.tag,T!==null&&T===s)break;x!==5&&x!==26&&x!==27||w===null||(T=w,o?(w=rs(n,u),w!=null&&h.unshift(Hs(n,w,T))):o||(w=rs(n,u),w!=null&&h.push(Hs(n,w,T)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Tb=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function f0(e){return(typeof e=="string"?e:""+e).replace(Tb,`
`).replace(Ab,"")}function d0(e,t){return t=f0(t),f0(e)===t}function Ue(e,t,n,s,o,u){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||ui(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&ui(e,""+s);break;case"className":pl(e,"class",s);break;case"tabIndex":pl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(e,n,s);break;case"style":dd(e,s,u);break;case"data":if(t!=="object"){pl(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=yl(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Ue(e,t,"name",o.name,o,null),Ue(e,t,"formEncType",o.formEncType,o,null),Ue(e,t,"formMethod",o.formMethod,o,null),Ue(e,t,"formTarget",o.formTarget,o,null)):(Ue(e,t,"encType",o.encType,o,null),Ue(e,t,"method",o.method,o,null),Ue(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=yl(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=Sn);break;case"onScroll":s!=null&&Ce("scroll",e);break;case"onScrollEnd":s!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=yl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),ml(e,"popover",s);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ml(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Pv.get(n)||n,ml(e,n,s))}}function Ku(e,t,n,s,o,u){switch(n){case"style":dd(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof s=="string"?ui(e,s):(typeof s=="number"||typeof s=="bigint")&&ui(e,""+s);break;case"onScroll":s!=null&&Ce("scroll",e);break;case"onScrollEnd":s!=null&&Ce("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ad.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[_t]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,o);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):ml(e,n,s)}}}function St(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var s=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var h=n[u];if(h!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ue(e,t,u,h,n,null)}}o&&Ue(e,t,"srcSet",n.srcSet,n,null),s&&Ue(e,t,"src",n.src,n,null);return;case"input":Ce("invalid",e);var x=u=h=o=null,T=null,w=null;for(s in n)if(n.hasOwnProperty(s)){var R=n[s];if(R!=null)switch(s){case"name":o=R;break;case"type":h=R;break;case"checked":T=R;break;case"defaultChecked":w=R;break;case"value":u=R;break;case"defaultValue":x=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:Ue(e,t,s,R,n,null)}}od(e,u,x,T,w,h,o,!1);return;case"select":Ce("invalid",e),s=h=u=null;for(o in n)if(n.hasOwnProperty(o)&&(x=n[o],x!=null))switch(o){case"value":u=x;break;case"defaultValue":h=x;break;case"multiple":s=x;default:Ue(e,t,o,x,n,null)}t=u,n=h,e.multiple=!!s,t!=null?oi(e,!!s,t,!1):n!=null&&oi(e,!!s,n,!0);return;case"textarea":Ce("invalid",e),u=o=s=null;for(h in n)if(n.hasOwnProperty(h)&&(x=n[h],x!=null))switch(h){case"value":s=x;break;case"defaultValue":o=x;break;case"children":u=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:Ue(e,t,h,x,n,null)}cd(e,s,o,u);return;case"option":for(T in n)if(n.hasOwnProperty(T)&&(s=n[T],s!=null))switch(T){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ue(e,t,T,s,n,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(s=0;s<Gs.length;s++)Ce(Gs[s],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in n)if(n.hasOwnProperty(w)&&(s=n[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ue(e,t,w,s,n,null)}return;default:if(io(t)){for(R in n)n.hasOwnProperty(R)&&(s=n[R],s!==void 0&&Ku(e,t,R,s,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(s=n[x],s!=null&&Ue(e,t,x,s,n,null))}function Eb(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,h=null,x=null,T=null,w=null,R=null;for(O in n){var G=n[O];if(n.hasOwnProperty(O)&&G!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":T=G;default:s.hasOwnProperty(O)||Ue(e,t,O,null,s,G)}}for(var j in s){var O=s[j];if(G=n[j],s.hasOwnProperty(j)&&(O!=null||G!=null))switch(j){case"type":u=O;break;case"name":o=O;break;case"checked":w=O;break;case"defaultChecked":R=O;break;case"value":h=O;break;case"defaultValue":x=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:O!==G&&Ue(e,t,j,O,s,G)}}no(e,h,x,T,w,R,u,o);return;case"select":O=h=x=j=null;for(u in n)if(T=n[u],n.hasOwnProperty(u)&&T!=null)switch(u){case"value":break;case"multiple":O=T;default:s.hasOwnProperty(u)||Ue(e,t,u,null,s,T)}for(o in s)if(u=s[o],T=n[o],s.hasOwnProperty(o)&&(u!=null||T!=null))switch(o){case"value":j=u;break;case"defaultValue":x=u;break;case"multiple":h=u;default:u!==T&&Ue(e,t,o,u,s,T)}t=x,n=h,s=O,j!=null?oi(e,!!n,j,!1):!!s!=!!n&&(t!=null?oi(e,!!n,t,!0):oi(e,!!n,n?[]:"",!1));return;case"textarea":O=j=null;for(x in n)if(o=n[x],n.hasOwnProperty(x)&&o!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ue(e,t,x,null,s,o)}for(h in s)if(o=s[h],u=n[h],s.hasOwnProperty(h)&&(o!=null||u!=null))switch(h){case"value":j=o;break;case"defaultValue":O=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&Ue(e,t,h,o,s,u)}ud(e,j,O);return;case"option":for(var te in n)if(j=n[te],n.hasOwnProperty(te)&&j!=null&&!s.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:Ue(e,t,te,null,s,j)}for(T in s)if(j=s[T],O=n[T],s.hasOwnProperty(T)&&j!==O&&(j!=null||O!=null))switch(T){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ue(e,t,T,j,s,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in n)j=n[re],n.hasOwnProperty(re)&&j!=null&&!s.hasOwnProperty(re)&&Ue(e,t,re,null,s,j);for(w in s)if(j=s[w],O=n[w],s.hasOwnProperty(w)&&j!==O&&(j!=null||O!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,t));break;default:Ue(e,t,w,j,s,O)}return;default:if(io(t)){for(var Ge in n)j=n[Ge],n.hasOwnProperty(Ge)&&j!==void 0&&!s.hasOwnProperty(Ge)&&Ku(e,t,Ge,void 0,s,j);for(R in s)j=s[R],O=n[R],!s.hasOwnProperty(R)||j===O||j===void 0&&O===void 0||Ku(e,t,R,j,s,O);return}}for(var D in n)j=n[D],n.hasOwnProperty(D)&&j!=null&&!s.hasOwnProperty(D)&&Ue(e,t,D,null,s,j);for(G in s)j=s[G],O=n[G],!s.hasOwnProperty(G)||j===O||j==null&&O==null||Ue(e,t,G,j,s,O)}function h0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var o=n[s],u=o.transferSize,h=o.initiatorType,x=o.duration;if(u&&x&&h0(h)){for(h=0,x=o.responseEnd,s+=1;s<n.length;s++){var T=n[s],w=T.startTime;if(w>x)break;var R=T.transferSize,G=T.initiatorType;R&&h0(G)&&(T=T.responseEnd,h+=R*(T<x?1:(x-w)/(T-w)))}if(--s,t+=8*(u+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qu=null,Zu=null;function dr(e){return e.nodeType===9?e:e.ownerDocument}function m0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=null;function Db(){var e=window.event;return e&&e.type==="popstate"?e===Ju?!1:(Ju=e,!0):(Ju=null,!1)}var g0=typeof setTimeout=="function"?setTimeout:void 0,Nb=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(e){return y0.resolve(null).then(e).catch(Mb)}:g0;function Mb(e){setTimeout(function(){throw e})}function ca(e){return e==="head"}function v0(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(o),Hi(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")ks(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ks(n);for(var u=n.firstChild;u;){var h=u.nextSibling,x=u.nodeName;u[ss]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=h}}else n==="body"&&ks(e.ownerDocument.body);n=o}while(n);Hi(t)}function x0(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function $u(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":$u(n),eo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function wb(e,t,n,s){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ss])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function jb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=en(e.nextSibling),e===null))return null;return e}function b0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=en(e.nextSibling),e===null))return null;return e}function Pu(e){return e.data==="$?"||e.data==="$~"}function Iu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ob(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Wu=null;function S0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return en(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function T0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function A0(e,t,n){switch(t=dr(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ks(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);eo(e)}var tn=new Map,E0=new Set;function hr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ln=V.d;V.d={f:Rb,r:zb,D:Bb,C:Vb,L:Lb,m:Ub,X:Hb,S:Gb,M:kb};function Rb(){var e=Ln.f(),t=ir();return e||t}function zb(e){var t=si(e);t!==null&&t.tag===5&&t.type==="form"?kh(t):Ln.r(e)}var Li=typeof document>"u"?null:document;function C0(e,t,n){var s=Li;if(s&&typeof t=="string"&&t){var o=Zt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),E0.has(o)||(E0.add(o),e={rel:e,crossOrigin:n,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),St(t,"link",e),mt(t),s.head.appendChild(t)))}}function Bb(e){Ln.D(e),C0("dns-prefetch",e,null)}function Vb(e,t){Ln.C(e,t),C0("preconnect",e,t)}function Lb(e,t,n){Ln.L(e,t,n);var s=Li;if(s&&e&&t){var o='link[rel="preload"][as="'+Zt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Zt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Zt(n.imageSizes)+'"]')):o+='[href="'+Zt(e)+'"]';var u=o;switch(t){case"style":u=Ui(e);break;case"script":u=Gi(e)}tn.has(u)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),tn.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Ys(u))||t==="script"&&s.querySelector(qs(u))||(t=s.createElement("link"),St(t,"link",e),mt(t),s.head.appendChild(t)))}}function Ub(e,t){Ln.m(e,t);var n=Li;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Zt(s)+'"][href="'+Zt(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Gi(e)}if(!tn.has(u)&&(e=b({rel:"modulepreload",href:e},t),tn.set(u,e),n.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(qs(u)))return}s=n.createElement("link"),St(s,"link",e),mt(s),n.head.appendChild(s)}}}function Gb(e,t,n){Ln.S(e,t,n);var s=Li;if(s&&e){var o=li(s).hoistableStyles,u=Ui(e);t=t||"default";var h=o.get(u);if(!h){var x={loading:0,preload:null};if(h=s.querySelector(Ys(u)))x.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=tn.get(u))&&ec(e,n);var T=h=s.createElement("link");mt(T),St(T,"link",e),T._p=new Promise(function(w,R){T.onload=w,T.onerror=R}),T.addEventListener("load",function(){x.loading|=1}),T.addEventListener("error",function(){x.loading|=2}),x.loading|=4,mr(h,t,s)}h={type:"stylesheet",instance:h,count:1,state:x},o.set(u,h)}}}function Hb(e,t){Ln.X(e,t);var n=Li;if(n&&e){var s=li(n).hoistableScripts,o=Gi(e),u=s.get(o);u||(u=n.querySelector(qs(o)),u||(e=b({src:e,async:!0},t),(t=tn.get(o))&&tc(e,t),u=n.createElement("script"),mt(u),St(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function kb(e,t){Ln.M(e,t);var n=Li;if(n&&e){var s=li(n).hoistableScripts,o=Gi(e),u=s.get(o);u||(u=n.querySelector(qs(o)),u||(e=b({src:e,async:!0,type:"module"},t),(t=tn.get(o))&&tc(e,t),u=n.createElement("script"),mt(u),St(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function D0(e,t,n,s){var o=(o=he.current)?hr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ui(n.href),n=li(o).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ui(n.href);var u=li(o).hoistableStyles,h=u.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=o.querySelector(Ys(e)))&&!u._p&&(h.instance=u,h.state.loading=5),tn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},tn.set(e,n),u||Yb(o,e,n,h.state))),t&&s===null)throw Error(r(528,""));return h}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Gi(n),n=li(o).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ui(e){return'href="'+Zt(e)+'"'}function Ys(e){return'link[rel="stylesheet"]['+e+"]"}function N0(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Yb(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),St(t,"link",n),mt(t),e.head.appendChild(t))}function Gi(e){return'[src="'+Zt(e)+'"]'}function qs(e){return"script[async]"+e}function _0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Zt(n.href)+'"]');if(s)return t.instance=s,mt(s),s;var o=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),mt(s),St(s,"style",o),mr(s,n.precedence,e),t.instance=s;case"stylesheet":o=Ui(n.href);var u=e.querySelector(Ys(o));if(u)return t.state.loading|=4,t.instance=u,mt(u),u;s=N0(n),(o=tn.get(o))&&ec(s,o),u=(e.ownerDocument||e).createElement("link"),mt(u);var h=u;return h._p=new Promise(function(x,T){h.onload=x,h.onerror=T}),St(u,"link",s),t.state.loading|=4,mr(u,n.precedence,e),t.instance=u;case"script":return u=Gi(n.src),(o=e.querySelector(qs(u)))?(t.instance=o,mt(o),o):(s=n,(o=tn.get(u))&&(s=b({},n),tc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),mt(o),St(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,mr(s,n.precedence,e));return t.instance}function mr(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,h=0;h<s.length;h++){var x=s[h];if(x.dataset.precedence===t)u=x;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ec(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function tc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var pr=null;function M0(e,t,n){if(pr===null){var s=new Map,o=pr=new Map;o.set(n,s)}else o=pr,s=o.get(n),s||(s=new Map,o.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[ss]||u[yt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var x=s.get(h);x?x.push(u):s.set(h,[u])}}return s}function w0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function qb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function j0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Xb(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Ui(s.href),u=t.querySelector(Ys(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=gr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,mt(u);return}u=t.ownerDocument||t,s=N0(s),(o=tn.get(o))&&ec(s,o),u=u.createElement("link"),mt(u);var h=u;h._p=new Promise(function(x,T){h.onload=x,h.onerror=T}),St(u,"link",s),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=gr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var nc=0;function Kb(e,t){return e.stylesheets&&e.count===0&&vr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&vr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&nc===0&&(nc=62500*Cb());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>nc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function gr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yr=null;function vr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yr=new Map,t.forEach(Qb,e),yr=null,gr.call(e))}function Qb(e,t){if(!(t.state.loading&4)){var n=yr.get(e);if(n)var s=n.get(null);else{n=new Map,yr.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var h=o[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),s=h)}s&&n.set(null,s)}o=t.instance,h=o.getAttribute("data-precedence"),u=n.get(h)||s,u===s&&n.set(null,o),n.set(h,o),this.count++,s=gr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Xs={$$typeof:X,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Zb(e,t,n,s,o,u,h,x,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.hiddenUpdates=$r(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function O0(e,t,n,s,o,u,h,x,T,w,R,G){return e=new Zb(e,t,n,h,T,w,R,G,x),t=1,u===!0&&(t|=24),u=Ut(3,null,null,t),e.current=u,u.stateNode=e,t=Bo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:n,cache:t},Go(u),e}function R0(e){return e?(e=gi,e):gi}function z0(e,t,n,s,o,u){o=R0(o),s.context===null?s.context=o:s.pendingContext=o,s=Wn(t),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=ea(e,s,t),n!==null&&(zt(n,e,t),Ts(n,e,t))}function B0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ac(e,t){B0(e,t),(e=e.alternate)&&B0(e,t)}function V0(e){if(e.tag===13||e.tag===31){var t=Ra(e,67108864);t!==null&&zt(t,e,67108864),ac(e,67108864)}}function L0(e){if(e.tag===13||e.tag===31){var t=qt();t=Pr(t);var n=Ra(e,t);n!==null&&zt(n,e,t),ac(e,t)}}var xr=!0;function Fb(e,t,n,s){var o=N.T;N.T=null;var u=V.p;try{V.p=2,ic(e,t,n,s)}finally{V.p=u,N.T=o}}function Jb(e,t,n,s){var o=N.T;N.T=null;var u=V.p;try{V.p=8,ic(e,t,n,s)}finally{V.p=u,N.T=o}}function ic(e,t,n,s){if(xr){var o=sc(s);if(o===null)Xu(e,t,s,br,n),G0(e,s);else if(Pb(o,e,t,n,s))s.stopPropagation();else if(G0(e,s),t&4&&-1<$b.indexOf(e)){for(;o!==null;){var u=si(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=Kt(u.pendingLanes);if(h!==0){var x=u;for(x.pendingLanes|=2,x.entangledLanes|=2;h;){var T=1<<31-ge(h);x.entanglements[1]|=T,h&=~T}gn(u),(ze&6)===0&&(nr=dt()+500,Us(0))}}break;case 31:case 13:x=Ra(u,2),x!==null&&zt(x,u,2),ir(),ac(u,2)}if(u=sc(s),u===null&&Xu(e,t,s,br,n),u===o)break;o=u}o!==null&&s.stopPropagation()}else Xu(e,t,s,null,n)}}function sc(e){return e=lo(e),lc(e)}var br=null;function lc(e){if(br=null,e=ii(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return br=e,null}function U0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kn()){case Da:return 2;case Na:return 8;case dn:case _a:return 32;case _e:return 268435456;default:return 32}default:return 32}}var rc=!1,fa=null,da=null,ha=null,Ks=new Map,Qs=new Map,ma=[],$b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(e,t){switch(e){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Ks.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(t.pointerId)}}function Zs(e,t,n,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=si(t),t!==null&&V0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Pb(e,t,n,s,o){switch(t){case"focusin":return fa=Zs(fa,e,t,n,s,o),!0;case"dragenter":return da=Zs(da,e,t,n,s,o),!0;case"mouseover":return ha=Zs(ha,e,t,n,s,o),!0;case"pointerover":var u=o.pointerId;return Ks.set(u,Zs(Ks.get(u)||null,e,t,n,s,o)),!0;case"gotpointercapture":return u=o.pointerId,Qs.set(u,Zs(Qs.get(u)||null,e,t,n,s,o)),!0}return!1}function H0(e){var t=ii(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,ed(e.priority,function(){L0(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,ed(e.priority,function(){L0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sc(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);so=s,n.target.dispatchEvent(s),so=null}else return t=si(n),t!==null&&V0(t),e.blockedOn=n,!1;t.shift()}return!0}function k0(e,t,n){Sr(e)&&n.delete(t)}function Ib(){rc=!1,fa!==null&&Sr(fa)&&(fa=null),da!==null&&Sr(da)&&(da=null),ha!==null&&Sr(ha)&&(ha=null),Ks.forEach(k0),Qs.forEach(k0)}function Tr(e,t){e.blockedOn===t&&(e.blockedOn=null,rc||(rc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ib)))}var Ar=null;function Y0(e){Ar!==e&&(Ar=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ar===e&&(Ar=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(lc(s||n)===null)continue;break}var u=si(n);u!==null&&(e.splice(t,3),t-=3,su(u,{pending:!0,data:o,method:n.method,action:s},s,o))}}))}function Hi(e){function t(T){return Tr(T,e)}fa!==null&&Tr(fa,e),da!==null&&Tr(da,e),ha!==null&&Tr(ha,e),Ks.forEach(t),Qs.forEach(t);for(var n=0;n<ma.length;n++){var s=ma[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ma.length&&(n=ma[0],n.blockedOn===null);)H0(n),n.blockedOn===null&&ma.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],h=o[_t]||null;if(typeof u=="function")h||Y0(n);else if(h){var x=null;if(u&&u.hasAttribute("formAction")){if(o=u,h=u[_t]||null)x=h.formAction;else if(lc(o)!==null)continue}else x=h.action;typeof x=="function"?n[s+1]=x:(n.splice(s,3),s-=3),Y0(n)}}}function q0(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function oc(e){this._internalRoot=e}Er.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,s=qt();z0(n,s,e,t,null,null)},Er.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;z0(e.current,2,null,e,null,null),ir(),t[ai]=null}};function Er(e){this._internalRoot=e}Er.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ma.length&&t!==0&&t<ma[n].priority;n++);ma.splice(n,0,e),n===0&&H0(e)}};var X0=i.version;if(X0!=="19.2.0")throw Error(r(527,X0,"19.2.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Wb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cr.isDisabled&&Cr.supportsFiber)try{P=Cr.inject(Wb),ee=Cr}catch{}}return Js.createRoot=function(e,t){if(!c(e))throw Error(r(299));var n=!1,s="",o=Ph,u=Ih,h=Wh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=O0(e,1,!1,null,null,n,s,null,o,u,h,q0),e[ai]=t.current,qu(e),new oc(t)},Js.hydrateRoot=function(e,t,n){if(!c(e))throw Error(r(299));var s=!1,o="",u=Ph,h=Ih,x=Wh,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(T=n.formState)),t=O0(e,1,!0,t,n??null,s,o,T,u,h,x,q0),t.context=R0(null),n=t.current,s=qt(),s=Pr(s),o=Wn(s),o.callback=null,ea(n,o,s),n=s,t.current.lanes=n,is(t,n),gn(t),e[ai]=t.current,qu(e),new Er(t)},Js.version="19.2.0",Js}var ep;function c1(){if(ep)return fc.exports;ep=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),fc.exports=u1(),fc.exports}var f1=c1();const d1=Ng(f1);var Se=(a=>(a.NEUTRAL="neutral",a.HAPPY="happy",a.SAD="sad",a.ANGRY="angry",a.BLUSH="blush",a.SURPRISED="surprised",a.SHY="shy",a.FEAR="fear",a))(Se||{}),Te=(a=>(a.SCHOOL_ROOFTOP="school_rooftop",a.CLASSROOM="classroom",a.SCHOOL_GATE="school_gate",a.SCHOOL_CORRIDOR="school_corridor",a.LIBRARY="library",a.STREET_SUNSET="street_sunset",a.RIVERSIDE="riverside",a.CONVENIENCE_STORE="convenience_store",a.CAFE="cafe",a.PARK_NIGHT="park_night",a.TRAIN_STATION="train_station",a.BEDROOM="bedroom",a.PALACE_HALL="palace_hall",a.PALACE_GARDEN="palace_garden",a.PALACE_BALCONY="palace_balcony",a.CASTLE_CORRIDOR="castle_corridor",a.ROYAL_BEDROOM="royal_bedroom",a.TRAINING_GROUND="training_ground",a.ABANDONED_GARDEN="abandoned_garden",a))(Te||{}),gt=(a=>(a.DAILY="daily",a.HAPPY="happy",a.SAD="sad",a.TENSE="tense",a.ROMANTIC="romantic",a.MYSTERIOUS="mysterious",a))(gt||{});const tp="/ai_novel/";function Re(a){if(a.startsWith(tp))return a;const i=a.startsWith("/")?a.slice(1):a;return`${tp}${i}`}const np={[Te.SCHOOL_ROOFTOP]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/school_rooftop.png",fallbackGradient:"linear-gradient(to bottom, #ff7e5f 0%, #feb47b 30%, #ffcda5 50%, #87CEEB 70%, #4a90a4 100%)",overlay:"linear-gradient(to bottom, rgba(255,100,50,0.1) 0%, transparent 50%)",particles:"sakura",brightness:.9},[Te.CLASSROOM]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/classroom.png",fallbackGradient:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 50%, #ee9ca7 100%)",overlay:"linear-gradient(to right, rgba(255,200,100,0.1) 0%, transparent 50%)",particles:"dust",brightness:.9},[Te.SCHOOL_GATE]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/school_gate.png",fallbackGradient:"linear-gradient(to bottom, #87CEEB 0%, #98D8C8 50%, #F7DC6F 100%)",particles:"sakura",brightness:.9},[Te.SCHOOL_CORRIDOR]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/school_corridor.png",fallbackGradient:"linear-gradient(135deg, #E8E8E8 0%, #F5F5DC 50%, #FFEFD5 100%)",particles:"dust",brightness:.9},[Te.LIBRARY]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/library.png",fallbackGradient:"linear-gradient(to bottom, #8B4513 0%, #A0522D 50%, #D2691E 100%)",brightness:.85},[Te.STREET_SUNSET]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/street_sunset.png",fallbackGradient:"linear-gradient(to bottom, #ff6b6b 0%, #feca57 30%, #ff9ff3 60%, #54a0ff 100%)",overlay:"linear-gradient(to top, rgba(0,0,0,0.2) 0%, transparent 50%)",particles:"sakura",brightness:.9},[Te.RIVERSIDE]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/riverside.png",fallbackGradient:"linear-gradient(to bottom, #FFB6C1 0%, #87CEEB 50%, #98D8C8 100%)",particles:"sakura",brightness:.9},[Te.CONVENIENCE_STORE]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/convenience_store.png",fallbackGradient:"linear-gradient(to bottom, #FFFFFF 0%, #F0F0F0 50%, #E0E0E0 100%)",brightness:.9},[Te.CAFE]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/cafe.png",fallbackGradient:"linear-gradient(to bottom right, #3d2914 0%, #5d4037 30%, #6d4c41 60%, #4e342e 100%)",overlay:"radial-gradient(circle at 30% 40%, rgba(255,180,100,0.15) 0%, transparent 60%)",brightness:.85},[Te.PARK_NIGHT]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/park_night.png",fallbackGradient:"linear-gradient(to bottom, #0c1445 0%, #1a237e 30%, #283593 60%, #1a1a2e 100%)",overlay:"radial-gradient(circle at 50% 30%, rgba(100,150,255,0.1) 0%, transparent 50%)",particles:"stars",brightness:.8},[Te.TRAIN_STATION]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/train_station.png",fallbackGradient:"linear-gradient(to bottom, #FF6347 0%, #FFA500 30%, #4682B4 70%, #2F4F4F 100%)",brightness:.9},[Te.BEDROOM]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/bedroom.png",fallbackGradient:"linear-gradient(to bottom, #FFB6C1 0%, #FFC0CB 30%, #FFE4E1 60%, #FFFAF0 100%)",overlay:"radial-gradient(circle at 20% 50%, rgba(255,150,80,0.1) 0%, transparent 50%)",brightness:.85},[Te.PALACE_HALL]:{imageUrl:"/stories/02_princess_elena/backgrounds/palace_hall.png",fallbackGradient:"linear-gradient(to bottom, #DAA520 0%, #FFD700 30%, #FFF8DC 60%, #FFFFF0 100%)",overlay:"radial-gradient(circle at 50% 30%, rgba(255,215,0,0.15) 0%, transparent 60%)",brightness:.9},[Te.PALACE_GARDEN]:{imageUrl:"/stories/02_princess_elena/backgrounds/palace_garden.png",fallbackGradient:"linear-gradient(to bottom, #191970 0%, #483D8B 30%, #6A5ACD 60%, #9370DB 100%)",overlay:"radial-gradient(circle at 50% 50%, rgba(200,200,255,0.1) 0%, transparent 50%)",particles:"stars",brightness:.8},[Te.PALACE_BALCONY]:{imageUrl:"/stories/02_princess_elena/backgrounds/palace_balcony.png",fallbackGradient:"linear-gradient(to bottom, #FF6347 0%, #FFA500 30%, #FFD700 60%, #87CEEB 100%)",particles:"sakura",brightness:.9},[Te.CASTLE_CORRIDOR]:{imageUrl:"/stories/02_princess_elena/backgrounds/castle_corridor.png",fallbackGradient:"linear-gradient(to bottom, #2F4F4F 0%, #696969 30%, #808080 60%, #A9A9A9 100%)",brightness:.75},[Te.ROYAL_BEDROOM]:{imageUrl:"/stories/02_princess_elena/backgrounds/royal_bedroom.png",fallbackGradient:"linear-gradient(to bottom, #8B0000 0%, #DC143C 30%, #FF69B4 60%, #FFB6C1 100%)",overlay:"radial-gradient(circle at 30% 40%, rgba(255,200,150,0.15) 0%, transparent 50%)",brightness:.8},[Te.TRAINING_GROUND]:{imageUrl:"/stories/02_princess_elena/backgrounds/training_ground.png",fallbackGradient:"linear-gradient(to bottom, #87CEEB 0%, #ADD8E6 30%, #F0E68C 60%, #DEB887 100%)",brightness:.9},[Te.ABANDONED_GARDEN]:{imageUrl:"/stories/02_princess_elena/backgrounds/abandoned_garden.png",fallbackGradient:"linear-gradient(to bottom, #2F4F4F 0%, #556B2F 30%, #8B8682 60%, #696969 100%)",overlay:"radial-gradient(circle at 50% 50%, rgba(100,150,100,0.1) 0%, transparent 50%)",particles:"dust",brightness:.7}},h1=a=>Array.from({length:a},(i,l)=>({id:l,left:Math.random()*100,top:Math.random()*100,delay:Math.random()*5,duration:5+Math.random()*5})),m1=h1(15),_g=C.memo(({type:a,parallaxOffset:i={x:0,y:0},cgImage:l})=>{const[r,c]=C.useState(!1),[d,f]=C.useState(!1),[m,g]=C.useState(!1),p=C.useMemo(()=>{const b=np[a]||np[Te.SCHOOL_ROOFTOP];return{...b,imageUrl:Re(b.imageUrl)}},[a]),v=!!l;return y.jsxs("div",{className:"absolute inset-0 w-full h-full z-0 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0",style:{background:v?"#000":p.fallbackGradient}}),v&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 ${m?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${l})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"#000"}},l),y.jsx("img",{src:l,alt:"CG",className:"hidden",onLoad:()=>g(!0)})]}),!v&&!d&&y.jsx("div",{className:`absolute transition-all duration-1000 ease-in-out ${r?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${p.imageUrl})`,backgroundSize:"cover",backgroundPosition:"center",filter:`brightness(${p.brightness||.8})`,transform:`translate(${-i.x}px, ${-i.y}px) scale(1.05)`,top:"-2.5%",left:"-2.5%",width:"105%",height:"105%"}},a),!v&&y.jsx("img",{src:p.imageUrl,alt:"",className:"hidden",onLoad:()=>c(!0),onError:()=>f(!0)}),!v&&p.overlay&&y.jsx("div",{className:"absolute inset-0 transition-opacity duration-1000",style:{background:p.overlay}}),!v&&p.particles&&y.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:m1.map(b=>y.jsx("div",{className:`absolute rounded-full animate-float ${p.particles==="sakura"?"w-2 h-2":(p.particles==="stars","w-1 h-1")}`,style:{left:`${b.left}%`,top:`${b.top}%`,background:p.particles==="stars"?"rgba(255,255,255,0.9)":p.particles==="sakura"?"rgba(255, 182, 193, 0.8)":"rgba(255,255,200,0.5)",animationDelay:`${b.delay}s`,animationDuration:`${b.duration}s`,filter:p.particles==="stars"?"blur(0px)":"blur(0.5px)",boxShadow:p.particles==="stars"?"0 0 4px rgba(255,255,255,0.9)":p.particles==="sakura"?"0 0 3px rgba(255, 182, 193, 0.6)":"none"}},b.id))}),!v&&y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/60 via-transparent to-slate-900/20"})]})});_g.displayName="Background";const p1=()=>({:{[Se.NEUTRAL]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_neutral.png"),[Se.HAPPY]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_happy.png"),[Se.SAD]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_sad.png"),[Se.ANGRY]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_angry.png"),[Se.BLUSH]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_blush.png"),[Se.SURPRISED]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_surprised.png"),[Se.SHY]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_blush.png"),[Se.FEAR]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_surprised.png")},:{[Se.NEUTRAL]:Re("/stories/02_princess_elena/expressions/smiling.png"),[Se.HAPPY]:Re("/stories/02_princess_elena/expressions/smiling.png"),[Se.SAD]:Re("/stories/02_princess_elena/expressions/sadness.png"),[Se.ANGRY]:Re("/stories/02_princess_elena/expressions/anger.png"),[Se.BLUSH]:Re("/stories/02_princess_elena/expressions/blushing.png"),[Se.SURPRISED]:Re("/stories/02_princess_elena/expressions/surprise.png"),[Se.SHY]:Re("/stories/02_princess_elena/expressions/blushing.png"),[Se.FEAR]:Re("/stories/02_princess_elena/expressions/sadness.png")},:{[Se.NEUTRAL]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_neutral.png"),[Se.HAPPY]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_happy.png"),[Se.SAD]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_sad.png"),[Se.ANGRY]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_angry.png"),[Se.BLUSH]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_blush.png"),[Se.SURPRISED]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_surprised.png"),[Se.SHY]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_blush.png"),[Se.FEAR]:Re("/stories/01_tsundere_wenxi/expressions/wenxi_surprised.png")}}),g1="",Mg=C.memo(({expression:a,isVisible:i,characterName:l="",isSpeaking:r=!1,parallaxOffset:c={x:0,y:0}})=>{const[d,f]=C.useState(!1),m=C.useMemo(()=>{const b=p1();return b[l]||b[g1]},[l]),g=m[Se.NEUTRAL],[p,v]=C.useState(m[a]||g);return C.useEffect(()=>{f(!1);const b=m[a]||g,S=new Image;S.onload=()=>{v(b),f(!0)},S.onerror=()=>{v(g),f(!0)},S.src=b},[a,m,g]),y.jsx("div",{className:`absolute bottom-0 left-1/2 transition-all duration-500 z-10 flex justify-center items-end pointer-events-none
        ${i?"opacity-100":"opacity-0"}`,style:{height:"95vh",width:"80%",maxWidth:"90vh",transform:`translateX(-50%) translate(${c.x*.3}px, ${c.y*.2}px)`},children:y.jsx("div",{className:`relative w-full flex items-end justify-center transition-transform duration-300 ${r?"scale-[1.02]":"scale-100"}`,style:{height:"100%"},children:y.jsx("img",{src:p,alt:`${l} - ${a}`,className:`h-full w-auto object-contain transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,style:{filter:"drop-shadow(0 10px 30px rgba(0,0,0,0.5))",maxWidth:"none"},onLoad:()=>f(!0)})})})});Mg.displayName="CharacterSprite";const y1=30,v1=5,pc=0,gc=100,wr=50,ap=.4,yc=1,ip=24e3,x1=800,b1="openrouter",wg="https://openrouter.ai/api/v1",jg="google/gemini-2.5-flash",S1=.8;const T1={[gt.DAILY]:"https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3?filename=lofi-study-112778.mp3",[gt.HAPPY]:"https://cdn.pixabay.com/download/audio/2024/09/16/audio_4123547f6d.mp3?filename=happy-day-240507.mp3",[gt.SAD]:"https://cdn.pixabay.com/download/audio/2021/11/24/audio_8233772213.mp3?filename=sad-piano-111555.mp3",[gt.TENSE]:"https://cdn.pixabay.com/download/audio/2022/03/10/audio_51cc6c8104.mp3?filename=suspense-108253.mp3",[gt.ROMANTIC]:"https://cdn.pixabay.com/download/audio/2022/02/10/audio_fc8c857701.mp3?filename=romantic-piano-110753.mp3",[gt.MYSTERIOUS]:"https://cdn.pixabay.com/download/audio/2022/10/25/audio_5d2b378051.mp3?filename=mystery-124317.mp3"};function A1(a){const i=atob(a),l=i.length,r=new Uint8Array(l);for(let c=0;c<l;c++)r[c]=i.charCodeAt(c);return r}async function E1(a,i,l=24e3,r=1){const c=new Int16Array(a.buffer),d=c.length/r,f=i.createBuffer(r,d,l);for(let m=0;m<r;m++){const g=f.getChannelData(m);for(let p=0;p<d;p++)g[p]=c[p*r+m]/32768}return f}class C1{constructor(){this.audioContext=null,this.bgmElement=null,this.currentMood=null,this.isMuted=!1,this.currentVoiceSource=null,this.currentVoiceElement=null}async init(){var i;if(!this.audioContext){const l=window.AudioContext||window.webkitAudioContext;this.audioContext=new l({sampleRate:ip})}((i=this.audioContext)==null?void 0:i.state)==="suspended"&&await this.audioContext.resume()}playBgm(i){if(this.currentMood===i)return;this.currentMood=i,this.bgmElement&&(this.bgmElement.pause(),this.bgmElement.currentTime=0);const l=T1[i];if(!l)return;this.bgmElement=new Audio(l),this.bgmElement.loop=!0,this.bgmElement.volume=this.isMuted?0:ap;const r=this.bgmElement.play();r!==void 0&&r.catch(c=>{console.warn("BGM autoplay was prevented:",c)})}playSfx(i){if(!(this.isMuted||!this.audioContext))try{const l=this.audioContext.createOscillator(),r=this.audioContext.createGain();l.connect(r),r.connect(this.audioContext.destination);const c=this.audioContext.currentTime;i==="type"?(l.type="sine",l.frequency.setValueAtTime(600,c),r.gain.setValueAtTime(.015,c),r.gain.exponentialRampToValueAtTime(.001,c+.03),l.start(c),l.stop(c+.03)):i==="click"?(l.type="triangle",l.frequency.setValueAtTime(600,c),l.frequency.exponentialRampToValueAtTime(1200,c+.1),r.gain.setValueAtTime(.05,c),r.gain.exponentialRampToValueAtTime(.001,c+.1),l.start(c),l.stop(c+.1)):i==="hover"?(l.type="sine",l.frequency.setValueAtTime(300,c),r.gain.setValueAtTime(.01,c),r.gain.linearRampToValueAtTime(0,c+.05),l.start(c),l.stop(c+.05)):i==="start"?(l.type="sine",l.frequency.setValueAtTime(220,c),l.frequency.linearRampToValueAtTime(880,c+.8),r.gain.setValueAtTime(0,c),r.gain.linearRampToValueAtTime(.1,c+.1),r.gain.linearRampToValueAtTime(0,c+.8),l.start(c),l.stop(c+.8)):i==="next"&&(l.type="sine",l.frequency.setValueAtTime(400,c),r.gain.setValueAtTime(.03,c),r.gain.exponentialRampToValueAtTime(.001,c+.1),l.start(c),l.stop(c+.1))}catch(l){console.error("AudioContext error",l)}}async playVoice(i){if(!(this.isMuted||!i)){this.stopVoice();try{if(i.startsWith("http://")||i.startsWith("https://")||i.startsWith("blob:"))this.currentVoiceElement=new Audio(i),this.currentVoiceElement.volume=yc,await this.currentVoiceElement.play();else if(i.startsWith("data:"))this.currentVoiceElement=new Audio(i),this.currentVoiceElement.volume=yc,await this.currentVoiceElement.play();else{if(!this.audioContext)return;const l=A1(i),r=await E1(l,this.audioContext,ip),c=this.audioContext.createBufferSource();c.buffer=r;const d=this.audioContext.createGain();d.gain.value=yc,c.connect(d),d.connect(this.audioContext.destination),c.start(),this.currentVoiceSource=c}}catch(l){console.error("Failed to play voice:",l)}}}stopVoice(){if(this.currentVoiceSource){try{this.currentVoiceSource.stop()}catch{}this.currentVoiceSource=null}this.currentVoiceElement&&(this.currentVoiceElement.pause(),this.currentVoiceElement.currentTime=0,this.currentVoiceElement=null)}toggleMute(){return this.isMuted=!this.isMuted,this.bgmElement&&(this.bgmElement.volume=this.isMuted?0:ap),this.isMuted&&this.stopVoice(),this.isMuted}}const ct=new C1,Yi={glass:{name:"",dialogueBox:{background:"rgba(15, 23, 42, 0.85)",border:"1px solid rgba(100, 116, 139, 0.5)",textColor:"#f1f5f9",speakerBg:"rgba(30, 41, 59, 1)",speakerText:"#f9a8d4",backdropBlur:"blur(12px)"},choiceButton:{background:"rgba(30, 41, 59, 0.9)",hoverBackground:"rgba(51, 65, 85, 0.95)",border:"1px solid rgba(236, 72, 153, 0.3)",textColor:"#f1f5f9"}},retro:{name:"",dialogueBox:{background:"#1a1a2e",border:"4px solid #eee8d5",textColor:"#eee8d5",speakerBg:"#16213e",speakerText:"#ffd700",backdropBlur:"none"},choiceButton:{background:"#16213e",hoverBackground:"#0f3460",border:"3px solid #e94560",textColor:"#eee8d5"}},parchment:{name:"",dialogueBox:{background:"linear-gradient(135deg, #f5e6d3 0%, #e8d4b8 100%)",border:"3px solid #8b7355",textColor:"#3d2914",speakerBg:"#c9b896",speakerText:"#5c4033",backdropBlur:"none"},choiceButton:{background:"#e8d4b8",hoverBackground:"#d4c4a8",border:"2px solid #8b7355",textColor:"#3d2914"}},neon:{name:"",dialogueBox:{background:"rgba(10, 10, 30, 0.95)",border:"2px solid #00ffff",textColor:"#00ffff",speakerBg:"rgba(0, 255, 255, 0.1)",speakerText:"#ff00ff",backdropBlur:"blur(8px)"},choiceButton:{background:"rgba(10, 10, 30, 0.9)",hoverBackground:"rgba(0, 255, 255, 0.2)",border:"2px solid #ff00ff",textColor:"#00ffff"}}},Og=C.createContext(void 0),D1=({children:a})=>{const[i,l]=C.useState(()=>localStorage.getItem("ui-theme")||"glass"),r=C.useCallback(d=>{l(d),localStorage.setItem("ui-theme",d)},[]),c={theme:i,themeConfig:Yi[i],setTheme:r,availableThemes:Object.keys(Yi)};return y.jsx(Og.Provider,{value:c,children:a})},Qr=()=>{const a=C.useContext(Og);if(!a)throw new Error("useTheme must be used within a ThemeProvider");return a},N1=["","","","",".","!","?","","~","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_1=[[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""]],M1=[[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[/(?!)/g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""]];function jr(a){if(!a)return"";let i=a;for(const[l,r]of _1)i=i.replace(l,r);i=i.replace(/(.)\1{1,}/g,(l,r)=>N1.includes(r)?l.length>3?r.repeat(3):l:r);for(const[l,r]of M1)i=i.replace(l,r);return i.includes("")&&!i.includes("")&&(i=""+i),i.trim()}const Rg=C.memo(({speaker:a,text:i,onNext:l,isTyping:r,setIsTyping:c,isVoiceEnabled:d,toggleVoice:f,isVoiceLoading:m,isAutoPlay:g=!1,toggleAutoPlay:p,opacity:v=90})=>{const[b,S]=C.useState(""),{themeConfig:M}=Qr(),z=C.useMemo(()=>jr(i),[i]);C.useEffect(()=>{const B=z;if(!B||B.length===0){S(""),c(!1);return}S(""),c(!0);let H=0,Q="";if(Q=B.charAt(0),S(Q),ct.playSfx("type"),H=1,B.length===1){c(!1);return}const X=setInterval(()=>{H<B.length?(Q+=B.charAt(H),S(Q),H%v1===0&&ct.playSfx("type"),H++):(c(!1),clearInterval(X))},y1);return()=>clearInterval(X)},[z,c]),C.useEffect(()=>{const B=H=>{var Q,X;if(H.code==="Space"){if(H.preventDefault(),((Q=document.activeElement)==null?void 0:Q.tagName)==="INPUT"||((X=document.activeElement)==null?void 0:X.tagName)==="TEXTAREA")return;r?(S(z),c(!1),ct.playSfx("next")):(ct.playSfx("next"),l())}};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[r,z,c,l]);const Y=B=>{B.target.closest("button")||(r?(S(z),c(!1),ct.playSfx("next")):(ct.playSfx("next"),l()))};return y.jsx("div",{className:"absolute bottom-0 w-full p-4 md:p-8 z-20 flex justify-center cursor-pointer",onClick:Y,children:y.jsxs("div",{className:"w-full max-w-4xl relative group",children:[y.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-pink-600 via-purple-600 to-indigo-600 rounded-xl opacity-75 group-hover:opacity-100 blur transition duration-1000 group-hover:duration-200 animate-gradient-xy"}),y.jsxs("div",{className:"relative w-full rounded-xl shadow-2xl overflow-hidden min-h-[160px] flex flex-col p-6 md:p-8",style:{background:M.dialogueBox.background,border:M.dialogueBox.border,backdropFilter:M.dialogueBox.backdropBlur,opacity:v/100},children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a&&y.jsxs("div",{className:"relative inline-block group-speaker",children:[y.jsx("div",{className:"absolute inset-0 blur-md opacity-20 rounded-full",style:{background:M.dialogueBox.speakerText}}),y.jsxs("div",{className:"relative px-5 py-1.5 rounded-full font-bold tracking-wider text-sm shadow-sm flex items-center gap-2",style:{background:M.dialogueBox.speakerBg,color:M.dialogueBox.speakerText,border:`1px solid ${M.dialogueBox.speakerText}40`},children:[y.jsx("span",{className:"inline-block w-2 h-2 rounded-full animate-pulse",style:{background:M.dialogueBox.speakerText}}),a]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[p&&y.jsx("button",{onClick:B=>{B.stopPropagation(),p()},className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold transition-all border
                            ${g?"bg-cyan-600/20 text-cyan-300 border-cyan-500/50 shadow-[0_0_10px_rgba(6,182,212,0.3)]":"bg-slate-800 text-slate-500 border-slate-700 hover:text-slate-300"}
                        `,title:"/ ",children:y.jsx("span",{children:g?" ":" "})}),y.jsx("button",{onClick:B=>{B.stopPropagation(),f()},className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold transition-all border
                        ${d?"bg-pink-600/20 text-pink-300 border-pink-500/50 shadow-[0_0_10px_rgba(236,72,153,0.3)]":"bg-slate-800 text-slate-500 border-slate-700 hover:text-slate-300"}
                    `,title:"/ ",children:m?y.jsx("span",{className:"animate-spin h-3 w-3 border-2 border-current border-t-transparent rounded-full"}):y.jsx("span",{children:d?" ":" "})})]})]}),y.jsxs("p",{className:"text-lg md:text-xl leading-relaxed font-medium drop-shadow-md font-sans",style:{color:M.dialogueBox.textColor},children:[b,r&&y.jsx("span",{className:"animate-pulse ml-1 inline-block w-2 h-5 align-middle",style:{background:M.dialogueBox.speakerText,boxShadow:`0 0 10px ${M.dialogueBox.speakerText}`}})]}),!r&&y.jsx("div",{className:"absolute bottom-4 right-6 text-2xl animate-bounce-custom",style:{color:M.dialogueBox.speakerText},children:""})]})]})})});Rg.displayName="DialogueBox";const zg=C.memo(({choices:a,onChoose:i,visible:l})=>{const{themeConfig:r}=Qr();return l?y.jsxs("div",{className:"absolute inset-0 z-30 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center p-4 animate-fadeIn",children:[y.jsx("h3",{className:"text-white text-3xl mb-10 font-thin tracking-[0.3em] uppercase drop-shadow-[0_0_10px_rgba(255,255,255,0.5)] border-b border-white/20 pb-4 px-12",children:""}),y.jsx("div",{className:"flex flex-col gap-6 w-full max-w-xl",children:a.map(c=>y.jsxs("button",{onMouseEnter:()=>ct.playSfx("hover"),onClick:d=>{d.stopPropagation(),ct.playSfx("click"),i(c.text)},className:`group relative px-8 py-5 text-lg rounded-xl
                       overflow-hidden transition-all duration-300 ease-out 
                       hover:scale-105 animate-slideIn`,style:{background:r.choiceButton.background,border:r.choiceButton.border,color:r.choiceButton.textColor},children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-900/0 via-pink-900/40 to-purple-900/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[100%] ease-in-out",style:{transitionDuration:"1s"}}),y.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-pink-500 transform scale-y-0 group-hover:scale-y-100 transition-transform duration-300 origin-center"}),y.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",children:[y.jsx("span",{className:"font-medium tracking-wide group-hover:text-white transition-colors",children:c.text}),y.jsx("span",{className:"opacity-0 group-hover:opacity-100 transform translate-x-4 group-hover:translate-x-0 transition-all duration-300 text-pink-400",children:""})]})]},c.text))})]}):null});zg.displayName="ChoiceMenu";const Bg=C.memo(({triggerKey:a,type:i="fade"})=>{const[l,r]=C.useState(!1);return C.useEffect(()=>{r(!0);const d=setTimeout(()=>{r(!1)},x1);return()=>clearTimeout(d)},[a]),(()=>{switch(i){case"black":return y.jsx("div",{className:`absolute inset-0 z-20 bg-black pointer-events-none transition-opacity duration-700 ease-in-out ${l?"opacity-100":"opacity-0"}`});case"blur":return y.jsx("div",{className:`absolute inset-0 z-20 bg-white/30 backdrop-blur-sm pointer-events-none transition-all duration-700 ease-in-out ${l?"opacity-100":"opacity-0"}`});case"slide":return y.jsx("div",{className:`absolute inset-0 z-20 bg-gradient-to-r from-black via-black/50 to-transparent pointer-events-none transition-transform duration-700 ease-in-out ${l?"translate-x-0":"-translate-x-full"}`});case"fade":default:return y.jsx("div",{className:`absolute inset-0 z-20 bg-black/50 pointer-events-none transition-opacity duration-700 ease-in-out ${l?"opacity-100":"opacity-0"}`})}})()});Bg.displayName="SceneTransition";const Vg=C.memo(({turn:a,affection:i,isMuted:l,onToggleMute:r,onPause:c,onOpenHistory:d})=>{const{themeConfig:f}=Qr(),m={background:f.dialogueBox.background,border:f.dialogueBox.border,color:f.dialogueBox.textColor,backdropFilter:f.dialogueBox.backdropBlur};return y.jsxs("div",{className:"absolute top-4 left-4 z-40 flex gap-4",children:[y.jsxs("div",{className:"rounded-lg px-4 py-2 text-sm font-mono shadow-lg flex items-center",style:m,children:[y.jsx("span",{className:"opacity-70 mr-2",children:""}),y.jsx("span",{className:"font-bold",children:a})]}),y.jsxs("div",{className:"rounded-lg px-4 py-2 text-sm font-mono shadow-lg flex items-center",style:m,children:[y.jsx("span",{className:"text-pink-400 mr-2",children:""}),y.jsx("div",{className:"w-24 h-2 bg-black/20 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-gradient-to-r from-pink-600 to-pink-400 transition-all duration-1000",style:{width:`${i}%`}})})]}),y.jsx("button",{onClick:r,className:"rounded-lg w-10 h-10 flex items-center justify-center transition-transform hover:scale-105 active:scale-95",style:m,children:l?"":""}),d&&y.jsx("button",{onClick:d,className:"rounded-lg w-10 h-10 flex items-center justify-center transition-transform hover:scale-105 active:scale-95",style:m,title:"",children:""}),c&&y.jsx("button",{onClick:c,className:"rounded-lg w-10 h-10 flex items-center justify-center transition-transform hover:scale-105 active:scale-95",style:m,children:""})]})});Vg.displayName="StatusPanel";const of=C.memo(({isLoading:a})=>a?y.jsx("div",{className:"absolute inset-0 z-50 bg-black/40 backdrop-blur-[2px] flex items-center justify-center",children:y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-12 h-12 border-4 border-pink-500 border-t-transparent rounded-full animate-spin mb-4"}),y.jsx("span",{className:"text-white font-light tracking-widest animate-pulse",children:"..."})]})}):null);of.displayName="LoadingOverlay";const uf=C.memo(({error:a,onClose:i})=>a?y.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center p-8",children:y.jsxs("div",{className:"bg-slate-800 border border-red-500 p-6 rounded-lg max-w-md text-center",children:[y.jsx("h2",{className:"text-red-400 text-xl font-bold mb-2",children:""}),y.jsx("p",{className:"text-slate-300 mb-4",children:a}),y.jsx("button",{onClick:i,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded text-white transition-colors",children:""})]})}):null);uf.displayName="ErrorOverlay";const Lg=C.createContext({});function w1(a){const i=C.useRef(null);return i.current===null&&(i.current=a()),i.current}const cf=typeof window<"u",j1=cf?C.useLayoutEffect:C.useEffect,ff=C.createContext(null);function df(a,i){a.indexOf(i)===-1&&a.push(i)}function hf(a,i){const l=a.indexOf(i);l>-1&&a.splice(l,1)}const Un=(a,i,l)=>l>i?i:l<a?a:l;let mf=()=>{};const Gn={},Ug=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function Gg(a){return typeof a=="object"&&a!==null}const Hg=a=>/^0[^.\s]+$/u.test(a);function pf(a){let i;return()=>(i===void 0&&(i=a()),i)}const ln=a=>a,O1=(a,i)=>l=>i(a(l)),ul=(...a)=>a.reduce(O1),al=(a,i,l)=>{const r=i-a;return r===0?1:(l-a)/r};class gf{constructor(){this.subscriptions=[]}add(i){return df(this.subscriptions,i),()=>hf(this.subscriptions,i)}notify(i,l,r){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](i,l,r);else for(let d=0;d<c;d++){const f=this.subscriptions[d];f&&f(i,l,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yn=a=>a*1e3,sn=a=>a/1e3;function kg(a,i){return i?a*(1e3/i):0}const Yg=(a,i,l)=>(((1-3*l+3*i)*a+(3*l-6*i))*a+3*i)*a,R1=1e-7,z1=12;function B1(a,i,l,r,c){let d,f,m=0;do f=i+(l-i)/2,d=Yg(f,r,c)-a,d>0?l=f:i=f;while(Math.abs(d)>R1&&++m<z1);return f}function cl(a,i,l,r){if(a===i&&l===r)return ln;const c=d=>B1(d,0,1,a,l);return d=>d===0||d===1?d:Yg(c(d),i,r)}const qg=a=>i=>i<=.5?a(2*i)/2:(2-a(2*(1-i)))/2,Xg=a=>i=>1-a(1-i),Kg=cl(.33,1.53,.69,.99),yf=Xg(Kg),Qg=qg(yf),Zg=a=>(a*=2)<1?.5*yf(a):.5*(2-Math.pow(2,-10*(a-1))),vf=a=>1-Math.sin(Math.acos(a)),Fg=Xg(vf),Jg=qg(vf),V1=cl(.42,0,1,1),L1=cl(0,0,.58,1),$g=cl(.42,0,.58,1),U1=a=>Array.isArray(a)&&typeof a[0]!="number",Pg=a=>Array.isArray(a)&&typeof a[0]=="number",G1={linear:ln,easeIn:V1,easeInOut:$g,easeOut:L1,circIn:vf,circInOut:Jg,circOut:Fg,backIn:yf,backInOut:Qg,backOut:Kg,anticipate:Zg},H1=a=>typeof a=="string",sp=a=>{if(Pg(a)){mf(a.length===4);const[i,l,r,c]=a;return cl(i,l,r,c)}else if(H1(a))return G1[a];return a},Dr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function k1(a,i){let l=new Set,r=new Set,c=!1,d=!1;const f=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(v){f.has(v)&&(p.schedule(v),a()),v(m)}const p={schedule:(v,b=!1,S=!1)=>{const z=S&&c?l:r;return b&&f.add(v),z.has(v)||z.add(v),v},cancel:v=>{r.delete(v),f.delete(v)},process:v=>{if(m=v,c){d=!0;return}c=!0,[l,r]=[r,l],l.forEach(g),l.clear(),c=!1,d&&(d=!1,p.process(v))}};return p}const Y1=40;function Ig(a,i){let l=!1,r=!0;const c={delta:0,timestamp:0,isProcessing:!1},d=()=>l=!0,f=Dr.reduce((X,k)=>(X[k]=k1(d),X),{}),{setup:m,read:g,resolveKeyframes:p,preUpdate:v,update:b,preRender:S,render:M,postRender:z}=f,Y=()=>{const X=Gn.useManualTiming?c.timestamp:performance.now();l=!1,Gn.useManualTiming||(c.delta=r?1e3/60:Math.max(Math.min(X-c.timestamp,Y1),1)),c.timestamp=X,c.isProcessing=!0,m.process(c),g.process(c),p.process(c),v.process(c),b.process(c),S.process(c),M.process(c),z.process(c),c.isProcessing=!1,l&&i&&(r=!1,a(Y))},B=()=>{l=!0,r=!0,c.isProcessing||a(Y)};return{schedule:Dr.reduce((X,k)=>{const q=f[k];return X[k]=(ne,Z=!1,I=!1)=>(l||B(),q.schedule(ne,Z,I)),X},{}),cancel:X=>{for(let k=0;k<Dr.length;k++)f[Dr[k]].cancel(X)},state:c,steps:f}}const{schedule:Je,cancel:Ta,state:Tt,steps:vc}=Ig(typeof requestAnimationFrame<"u"?requestAnimationFrame:ln,!0);let Or;function q1(){Or=void 0}const Vt={now:()=>(Or===void 0&&Vt.set(Tt.isProcessing||Gn.useManualTiming?Tt.timestamp:performance.now()),Or),set:a=>{Or=a,queueMicrotask(q1)}},Wg=a=>i=>typeof i=="string"&&i.startsWith(a),xf=Wg("--"),X1=Wg("var(--"),bf=a=>X1(a)?K1.test(a.split("/*")[0].trim()):!1,K1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ii={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},il={...Ii,transform:a=>Un(0,1,a)},Nr={...Ii,default:1},Is=a=>Math.round(a*1e5)/1e5,Sf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Q1(a){return a==null}const Z1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tf=(a,i)=>l=>!!(typeof l=="string"&&Z1.test(l)&&l.startsWith(a)||i&&!Q1(l)&&Object.prototype.hasOwnProperty.call(l,i)),ey=(a,i,l)=>r=>{if(typeof r!="string")return r;const[c,d,f,m]=r.match(Sf);return{[a]:parseFloat(c),[i]:parseFloat(d),[l]:parseFloat(f),alpha:m!==void 0?parseFloat(m):1}},F1=a=>Un(0,255,a),xc={...Ii,transform:a=>Math.round(F1(a))},Fa={test:Tf("rgb","red"),parse:ey("red","green","blue"),transform:({red:a,green:i,blue:l,alpha:r=1})=>"rgba("+xc.transform(a)+", "+xc.transform(i)+", "+xc.transform(l)+", "+Is(il.transform(r))+")"};function J1(a){let i="",l="",r="",c="";return a.length>5?(i=a.substring(1,3),l=a.substring(3,5),r=a.substring(5,7),c=a.substring(7,9)):(i=a.substring(1,2),l=a.substring(2,3),r=a.substring(3,4),c=a.substring(4,5),i+=i,l+=l,r+=r,c+=c),{red:parseInt(i,16),green:parseInt(l,16),blue:parseInt(r,16),alpha:c?parseInt(c,16)/255:1}}const Uc={test:Tf("#"),parse:J1,transform:Fa.transform},fl=a=>({test:i=>typeof i=="string"&&i.endsWith(a)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${a}`}),ya=fl("deg"),vn=fl("%"),fe=fl("px"),$1=fl("vh"),P1=fl("vw"),lp={...vn,parse:a=>vn.parse(a)/100,transform:a=>vn.transform(a*100)},qi={test:Tf("hsl","hue"),parse:ey("hue","saturation","lightness"),transform:({hue:a,saturation:i,lightness:l,alpha:r=1})=>"hsla("+Math.round(a)+", "+vn.transform(Is(i))+", "+vn.transform(Is(l))+", "+Is(il.transform(r))+")"},ot={test:a=>Fa.test(a)||Uc.test(a)||qi.test(a),parse:a=>Fa.test(a)?Fa.parse(a):qi.test(a)?qi.parse(a):Uc.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?Fa.transform(a):qi.transform(a),getAnimatableNone:a=>{const i=ot.parse(a);return i.alpha=0,ot.transform(i)}},I1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W1(a){var i,l;return isNaN(a)&&typeof a=="string"&&(((i=a.match(Sf))==null?void 0:i.length)||0)+(((l=a.match(I1))==null?void 0:l.length)||0)>0}const ty="number",ny="color",eS="var",tS="var(",rp="${}",nS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sl(a){const i=a.toString(),l=[],r={color:[],number:[],var:[]},c=[];let d=0;const m=i.replace(nS,g=>(ot.test(g)?(r.color.push(d),c.push(ny),l.push(ot.parse(g))):g.startsWith(tS)?(r.var.push(d),c.push(eS),l.push(g)):(r.number.push(d),c.push(ty),l.push(parseFloat(g))),++d,rp)).split(rp);return{values:l,split:m,indexes:r,types:c}}function ay(a){return sl(a).values}function iy(a){const{split:i,types:l}=sl(a),r=i.length;return c=>{let d="";for(let f=0;f<r;f++)if(d+=i[f],c[f]!==void 0){const m=l[f];m===ty?d+=Is(c[f]):m===ny?d+=ot.transform(c[f]):d+=c[f]}return d}}const aS=a=>typeof a=="number"?0:ot.test(a)?ot.getAnimatableNone(a):a;function iS(a){const i=ay(a);return iy(a)(i.map(aS))}const Aa={test:W1,parse:ay,createTransformer:iy,getAnimatableNone:iS};function bc(a,i,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?a+(i-a)*6*l:l<1/2?i:l<2/3?a+(i-a)*(2/3-l)*6:a}function sS({hue:a,saturation:i,lightness:l,alpha:r}){a/=360,i/=100,l/=100;let c=0,d=0,f=0;if(!i)c=d=f=l;else{const m=l<.5?l*(1+i):l+i-l*i,g=2*l-m;c=bc(g,m,a+1/3),d=bc(g,m,a),f=bc(g,m,a-1/3)}return{red:Math.round(c*255),green:Math.round(d*255),blue:Math.round(f*255),alpha:r}}function Lr(a,i){return l=>l>0?i:a}const $e=(a,i,l)=>a+(i-a)*l,Sc=(a,i,l)=>{const r=a*a,c=l*(i*i-r)+r;return c<0?0:Math.sqrt(c)},lS=[Uc,Fa,qi],rS=a=>lS.find(i=>i.test(a));function op(a){const i=rS(a);if(!i)return!1;let l=i.parse(a);return i===qi&&(l=sS(l)),l}const up=(a,i)=>{const l=op(a),r=op(i);if(!l||!r)return Lr(a,i);const c={...l};return d=>(c.red=Sc(l.red,r.red,d),c.green=Sc(l.green,r.green,d),c.blue=Sc(l.blue,r.blue,d),c.alpha=$e(l.alpha,r.alpha,d),Fa.transform(c))},Gc=new Set(["none","hidden"]);function oS(a,i){return Gc.has(a)?l=>l<=0?a:i:l=>l>=1?i:a}function uS(a,i){return l=>$e(a,i,l)}function Af(a){return typeof a=="number"?uS:typeof a=="string"?bf(a)?Lr:ot.test(a)?up:dS:Array.isArray(a)?sy:typeof a=="object"?ot.test(a)?up:cS:Lr}function sy(a,i){const l=[...a],r=l.length,c=a.map((d,f)=>Af(d)(d,i[f]));return d=>{for(let f=0;f<r;f++)l[f]=c[f](d);return l}}function cS(a,i){const l={...a,...i},r={};for(const c in l)a[c]!==void 0&&i[c]!==void 0&&(r[c]=Af(a[c])(a[c],i[c]));return c=>{for(const d in r)l[d]=r[d](c);return l}}function fS(a,i){const l=[],r={color:0,var:0,number:0};for(let c=0;c<i.values.length;c++){const d=i.types[c],f=a.indexes[d][r[d]],m=a.values[f]??0;l[c]=m,r[d]++}return l}const dS=(a,i)=>{const l=Aa.createTransformer(i),r=sl(a),c=sl(i);return r.indexes.var.length===c.indexes.var.length&&r.indexes.color.length===c.indexes.color.length&&r.indexes.number.length>=c.indexes.number.length?Gc.has(a)&&!c.values.length||Gc.has(i)&&!r.values.length?oS(a,i):ul(sy(fS(r,c),c.values),l):Lr(a,i)};function ly(a,i,l){return typeof a=="number"&&typeof i=="number"&&typeof l=="number"?$e(a,i,l):Af(a)(a,i)}const hS=a=>{const i=({timestamp:l})=>a(l);return{start:(l=!0)=>Je.update(i,l),stop:()=>Ta(i),now:()=>Tt.isProcessing?Tt.timestamp:Vt.now()}},ry=(a,i,l=10)=>{let r="";const c=Math.max(Math.round(i/l),2);for(let d=0;d<c;d++)r+=Math.round(a(d/(c-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ur=2e4;function Ef(a){let i=0;const l=50;let r=a.next(i);for(;!r.done&&i<Ur;)i+=l,r=a.next(i);return i>=Ur?1/0:i}function mS(a,i=100,l){const r=l({...a,keyframes:[0,i]}),c=Math.min(Ef(r),Ur);return{type:"keyframes",ease:d=>r.next(c*d).value/i,duration:sn(c)}}const pS=5;function oy(a,i,l){const r=Math.max(i-pS,0);return kg(l-a(r),i-r)}const We={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tc=.001;function gS({duration:a=We.duration,bounce:i=We.bounce,velocity:l=We.velocity,mass:r=We.mass}){let c,d,f=1-i;f=Un(We.minDamping,We.maxDamping,f),a=Un(We.minDuration,We.maxDuration,sn(a)),f<1?(c=p=>{const v=p*f,b=v*a,S=v-l,M=Hc(p,f),z=Math.exp(-b);return Tc-S/M*z},d=p=>{const b=p*f*a,S=b*l+l,M=Math.pow(f,2)*Math.pow(p,2)*a,z=Math.exp(-b),Y=Hc(Math.pow(p,2),f);return(-c(p)+Tc>0?-1:1)*((S-M)*z)/Y}):(c=p=>{const v=Math.exp(-p*a),b=(p-l)*a+1;return-Tc+v*b},d=p=>{const v=Math.exp(-p*a),b=(l-p)*(a*a);return v*b});const m=5/a,g=vS(c,d,m);if(a=yn(a),isNaN(g))return{stiffness:We.stiffness,damping:We.damping,duration:a};{const p=Math.pow(g,2)*r;return{stiffness:p,damping:f*2*Math.sqrt(r*p),duration:a}}}const yS=12;function vS(a,i,l){let r=l;for(let c=1;c<yS;c++)r=r-a(r)/i(r);return r}function Hc(a,i){return a*Math.sqrt(1-i*i)}const xS=["duration","bounce"],bS=["stiffness","damping","mass"];function cp(a,i){return i.some(l=>a[l]!==void 0)}function SS(a){let i={velocity:We.velocity,stiffness:We.stiffness,damping:We.damping,mass:We.mass,isResolvedFromDuration:!1,...a};if(!cp(a,bS)&&cp(a,xS))if(a.visualDuration){const l=a.visualDuration,r=2*Math.PI/(l*1.2),c=r*r,d=2*Un(.05,1,1-(a.bounce||0))*Math.sqrt(c);i={...i,mass:We.mass,stiffness:c,damping:d}}else{const l=gS(a);i={...i,...l,mass:We.mass},i.isResolvedFromDuration=!0}return i}function Gr(a=We.visualDuration,i=We.bounce){const l=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:i}:a;let{restSpeed:r,restDelta:c}=l;const d=l.keyframes[0],f=l.keyframes[l.keyframes.length-1],m={done:!1,value:d},{stiffness:g,damping:p,mass:v,duration:b,velocity:S,isResolvedFromDuration:M}=SS({...l,velocity:-sn(l.velocity||0)}),z=S||0,Y=p/(2*Math.sqrt(g*v)),B=f-d,H=sn(Math.sqrt(g/v)),Q=Math.abs(B)<5;r||(r=Q?We.restSpeed.granular:We.restSpeed.default),c||(c=Q?We.restDelta.granular:We.restDelta.default);let X;if(Y<1){const q=Hc(H,Y);X=ne=>{const Z=Math.exp(-Y*H*ne);return f-Z*((z+Y*H*B)/q*Math.sin(q*ne)+B*Math.cos(q*ne))}}else if(Y===1)X=q=>f-Math.exp(-H*q)*(B+(z+H*B)*q);else{const q=H*Math.sqrt(Y*Y-1);X=ne=>{const Z=Math.exp(-Y*H*ne),I=Math.min(q*ne,300);return f-Z*((z+Y*H*B)*Math.sinh(I)+q*B*Math.cosh(I))/q}}const k={calculatedDuration:M&&b||null,next:q=>{const ne=X(q);if(M)m.done=q>=b;else{let Z=q===0?z:0;Y<1&&(Z=q===0?yn(z):oy(X,q,ne));const I=Math.abs(Z)<=r,oe=Math.abs(f-ne)<=c;m.done=I&&oe}return m.value=m.done?f:ne,m},toString:()=>{const q=Math.min(Ef(k),Ur),ne=ry(Z=>k.next(q*Z).value,q,30);return q+"ms "+ne},toTransition:()=>{}};return k}Gr.applyToOptions=a=>{const i=mS(a,100,Gr);return a.ease=i.ease,a.duration=yn(i.duration),a.type="keyframes",a};function kc({keyframes:a,velocity:i=0,power:l=.8,timeConstant:r=325,bounceDamping:c=10,bounceStiffness:d=500,modifyTarget:f,min:m,max:g,restDelta:p=.5,restSpeed:v}){const b=a[0],S={done:!1,value:b},M=I=>m!==void 0&&I<m||g!==void 0&&I>g,z=I=>m===void 0?g:g===void 0||Math.abs(m-I)<Math.abs(g-I)?m:g;let Y=l*i;const B=b+Y,H=f===void 0?B:f(B);H!==B&&(Y=H-b);const Q=I=>-Y*Math.exp(-I/r),X=I=>H+Q(I),k=I=>{const oe=Q(I),ie=X(I);S.done=Math.abs(oe)<=p,S.value=S.done?H:ie};let q,ne;const Z=I=>{M(S.value)&&(q=I,ne=Gr({keyframes:[S.value,z(S.value)],velocity:oy(X,I,S.value),damping:c,stiffness:d,restDelta:p,restSpeed:v}))};return Z(0),{calculatedDuration:null,next:I=>{let oe=!1;return!ne&&q===void 0&&(oe=!0,k(I),Z(I)),q!==void 0&&I>=q?ne.next(I-q):(!oe&&k(I),S)}}}function TS(a,i,l){const r=[],c=l||Gn.mix||ly,d=a.length-1;for(let f=0;f<d;f++){let m=c(a[f],a[f+1]);if(i){const g=Array.isArray(i)?i[f]||ln:i;m=ul(g,m)}r.push(m)}return r}function AS(a,i,{clamp:l=!0,ease:r,mixer:c}={}){const d=a.length;if(mf(d===i.length),d===1)return()=>i[0];if(d===2&&i[0]===i[1])return()=>i[1];const f=a[0]===a[1];a[0]>a[d-1]&&(a=[...a].reverse(),i=[...i].reverse());const m=TS(i,r,c),g=m.length,p=v=>{if(f&&v<a[0])return i[0];let b=0;if(g>1)for(;b<a.length-2&&!(v<a[b+1]);b++);const S=al(a[b],a[b+1],v);return m[b](S)};return l?v=>p(Un(a[0],a[d-1],v)):p}function ES(a,i){const l=a[a.length-1];for(let r=1;r<=i;r++){const c=al(0,i,r);a.push($e(l,1,c))}}function CS(a){const i=[0];return ES(i,a.length-1),i}function DS(a,i){return a.map(l=>l*i)}function NS(a,i){return a.map(()=>i||$g).splice(0,a.length-1)}function Ws({duration:a=300,keyframes:i,times:l,ease:r="easeInOut"}){const c=U1(r)?r.map(sp):sp(r),d={done:!1,value:i[0]},f=DS(l&&l.length===i.length?l:CS(i),a),m=AS(f,i,{ease:Array.isArray(c)?c:NS(i,c)});return{calculatedDuration:a,next:g=>(d.value=m(g),d.done=g>=a,d)}}const _S=a=>a!==null;function Cf(a,{repeat:i,repeatType:l="loop"},r,c=1){const d=a.filter(_S),m=c<0||i&&l!=="loop"&&i%2===1?0:d.length-1;return!m||r===void 0?d[m]:r}const MS={decay:kc,inertia:kc,tween:Ws,keyframes:Ws,spring:Gr};function uy(a){typeof a.type=="string"&&(a.type=MS[a.type])}class Df{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(i=>{this.resolve=i})}notifyFinished(){this.resolve()}then(i,l){return this.finished.then(i,l)}}const wS=a=>a/100;class Nf extends Df{constructor(i){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,c;const{motionValue:l}=this.options;l&&l.updatedAt!==Vt.now()&&this.tick(Vt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(c=(r=this.options).onStop)==null||c.call(r))},this.options=i,this.initAnimation(),this.play(),i.autoplay===!1&&this.pause()}initAnimation(){const{options:i}=this;uy(i);const{type:l=Ws,repeat:r=0,repeatDelay:c=0,repeatType:d,velocity:f=0}=i;let{keyframes:m}=i;const g=l||Ws;g!==Ws&&typeof m[0]!="number"&&(this.mixKeyframes=ul(wS,ly(m[0],m[1])),m=[0,100]);const p=g({...i,keyframes:m});d==="mirror"&&(this.mirroredGenerator=g({...i,keyframes:[...m].reverse(),velocity:-f})),p.calculatedDuration===null&&(p.calculatedDuration=Ef(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+c,this.totalDuration=this.resolvedDuration*(r+1)-c,this.generator=p}updateTime(i){const l=Math.round(i-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=l}tick(i,l=!1){const{generator:r,totalDuration:c,mixKeyframes:d,mirroredGenerator:f,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:S,repeatDelay:M,type:z,onUpdate:Y,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-c/this.speed,this.startTime)),l?this.currentTime=i:this.updateTime(i);const H=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?H<0:H>c;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let X=this.currentTime,k=r;if(b){const I=Math.min(this.currentTime,c)/m;let oe=Math.floor(I),ie=I%1;!ie&&I>=1&&(ie=1),ie===1&&oe--,oe=Math.min(oe,b+1),!!(oe%2)&&(S==="reverse"?(ie=1-ie,M&&(ie-=M/m)):S==="mirror"&&(k=f)),X=Un(0,1,ie)*m}const q=Q?{done:!1,value:v[0]}:k.next(X);d&&(q.value=d(q.value));let{done:ne}=q;!Q&&g!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return Z&&z!==kc&&(q.value=Cf(v,this.options,B,this.speed)),Y&&Y(q.value),Z&&this.finish(),q}then(i,l){return this.finished.then(i,l)}get duration(){return sn(this.calculatedDuration)}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+sn(i)}get time(){return sn(this.currentTime)}set time(i){var l;i=yn(i),this.currentTime=i,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.playbackSpeed),(l=this.driver)==null||l.start(!1)}get speed(){return this.playbackSpeed}set speed(i){this.updateTime(Vt.now());const l=this.playbackSpeed!==i;this.playbackSpeed=i,l&&(this.time=sn(this.currentTime))}play(){var c,d;if(this.isStopped)return;const{driver:i=hS,startTime:l}=this.options;this.driver||(this.driver=i(f=>this.tick(f))),(d=(c=this.options).onPlay)==null||d.call(c);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=l??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var i,l;this.notifyFinished(),this.teardown(),this.state="finished",(l=(i=this.options).onComplete)==null||l.call(i)}cancel(){var i,l;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(l=(i=this.options).onCancel)==null||l.call(i)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}attachTimeline(i){var l;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(l=this.driver)==null||l.stop(),i.observe(this)}}function jS(a){for(let i=1;i<a.length;i++)a[i]??(a[i]=a[i-1])}const Ja=a=>a*180/Math.PI,Yc=a=>{const i=Ja(Math.atan2(a[1],a[0]));return qc(i)},OS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:Yc,rotateZ:Yc,skewX:a=>Ja(Math.atan(a[1])),skewY:a=>Ja(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},qc=a=>(a=a%360,a<0&&(a+=360),a),fp=Yc,dp=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),hp=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),RS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dp,scaleY:hp,scale:a=>(dp(a)+hp(a))/2,rotateX:a=>qc(Ja(Math.atan2(a[6],a[5]))),rotateY:a=>qc(Ja(Math.atan2(-a[2],a[0]))),rotateZ:fp,rotate:fp,skewX:a=>Ja(Math.atan(a[4])),skewY:a=>Ja(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function Xc(a){return a.includes("scale")?1:0}function Kc(a,i){if(!a||a==="none")return Xc(i);const l=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,c;if(l)r=RS,c=l;else{const m=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=OS,c=m}if(!c)return Xc(i);const d=r[i],f=c[1].split(",").map(BS);return typeof d=="function"?d(f):f[d]}const zS=(a,i)=>{const{transform:l="none"}=getComputedStyle(a);return Kc(l,i)};function BS(a){return parseFloat(a.trim())}const Wi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],es=new Set(Wi),mp=a=>a===Ii||a===fe,VS=new Set(["x","y","z"]),LS=Wi.filter(a=>!VS.has(a));function US(a){const i=[];return LS.forEach(l=>{const r=a.getValue(l);r!==void 0&&(i.push([l,r.get()]),r.set(l.startsWith("scale")?1:0))}),i}const $a={width:({x:a},{paddingLeft:i="0",paddingRight:l="0"})=>a.max-a.min-parseFloat(i)-parseFloat(l),height:({y:a},{paddingTop:i="0",paddingBottom:l="0"})=>a.max-a.min-parseFloat(i)-parseFloat(l),top:(a,{top:i})=>parseFloat(i),left:(a,{left:i})=>parseFloat(i),bottom:({y:a},{top:i})=>parseFloat(i)+(a.max-a.min),right:({x:a},{left:i})=>parseFloat(i)+(a.max-a.min),x:(a,{transform:i})=>Kc(i,"x"),y:(a,{transform:i})=>Kc(i,"y")};$a.translateX=$a.x;$a.translateY=$a.y;const Pa=new Set;let Qc=!1,Zc=!1,Fc=!1;function cy(){if(Zc){const a=Array.from(Pa).filter(r=>r.needsMeasurement),i=new Set(a.map(r=>r.element)),l=new Map;i.forEach(r=>{const c=US(r);c.length&&(l.set(r,c),r.render())}),a.forEach(r=>r.measureInitialState()),i.forEach(r=>{r.render();const c=l.get(r);c&&c.forEach(([d,f])=>{var m;(m=r.getValue(d))==null||m.set(f)})}),a.forEach(r=>r.measureEndState()),a.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zc=!1,Qc=!1,Pa.forEach(a=>a.complete(Fc)),Pa.clear()}function fy(){Pa.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Zc=!0)})}function GS(){Fc=!0,fy(),cy(),Fc=!1}class _f{constructor(i,l,r,c,d,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...i],this.onComplete=l,this.name=r,this.motionValue=c,this.element=d,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(Pa.add(this),Qc||(Qc=!0,Je.read(fy),Je.resolveKeyframes(cy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:l,element:r,motionValue:c}=this;if(i[0]===null){const d=c==null?void 0:c.get(),f=i[i.length-1];if(d!==void 0)i[0]=d;else if(r&&l){const m=r.readValue(l,f);m!=null&&(i[0]=m)}i[0]===void 0&&(i[0]=f),c&&d===void 0&&c.set(i[0])}jS(i)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(i=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,i),Pa.delete(this)}cancel(){this.state==="scheduled"&&(Pa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HS=a=>a.startsWith("--");function kS(a,i,l){HS(i)?a.style.setProperty(i,l):a.style[i]=l}const YS=pf(()=>window.ScrollTimeline!==void 0),qS={};function XS(a,i){const l=pf(a);return()=>qS[i]??l()}const dy=XS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ps=([a,i,l,r])=>`cubic-bezier(${a}, ${i}, ${l}, ${r})`,pp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ps([0,.65,.55,1]),circOut:Ps([.55,0,1,.45]),backIn:Ps([.31,.01,.66,-.59]),backOut:Ps([.33,1.53,.69,.99])};function hy(a,i){if(a)return typeof a=="function"?dy()?ry(a,i):"ease-out":Pg(a)?Ps(a):Array.isArray(a)?a.map(l=>hy(l,i)||pp.easeOut):pp[a]}function KS(a,i,l,{delay:r=0,duration:c=300,repeat:d=0,repeatType:f="loop",ease:m="easeOut",times:g}={},p=void 0){const v={[i]:l};g&&(v.offset=g);const b=hy(m,c);Array.isArray(b)&&(v.easing=b);const S={delay:r,duration:c,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:d+1,direction:f==="reverse"?"alternate":"normal"};return p&&(S.pseudoElement=p),a.animate(v,S)}function my(a){return typeof a=="function"&&"applyToOptions"in a}function QS({type:a,...i}){return my(a)&&dy()?a.applyToOptions(i):(i.duration??(i.duration=300),i.ease??(i.ease="easeOut"),i)}class ZS extends Df{constructor(i){if(super(),this.finishedTime=null,this.isStopped=!1,!i)return;const{element:l,name:r,keyframes:c,pseudoElement:d,allowFlatten:f=!1,finalKeyframe:m,onComplete:g}=i;this.isPseudoElement=!!d,this.allowFlatten=f,this.options=i,mf(typeof i.type!="string");const p=QS(i);this.animation=KS(l,r,c,p,d),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!d){const v=Cf(c,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):kS(l,r,v),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var i,l;(l=(i=this.animation).finish)==null||l.call(i)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:i}=this;i==="idle"||i==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var i,l;this.isPseudoElement||(l=(i=this.animation).commitStyles)==null||l.call(i)}get duration(){var l,r;const i=((r=(l=this.animation.effect)==null?void 0:l.getComputedTiming)==null?void 0:r.call(l).duration)||0;return sn(Number(i))}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+sn(i)}get time(){return sn(Number(this.animation.currentTime)||0)}set time(i){this.finishedTime=null,this.animation.currentTime=yn(i)}get speed(){return this.animation.playbackRate}set speed(i){i<0&&(this.finishedTime=null),this.animation.playbackRate=i}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(i){this.animation.startTime=i}attachTimeline({timeline:i,observe:l}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,i&&YS()?(this.animation.timeline=i,ln):l(this)}}const py={anticipate:Zg,backInOut:Qg,circInOut:Jg};function FS(a){return a in py}function JS(a){typeof a.ease=="string"&&FS(a.ease)&&(a.ease=py[a.ease])}const gp=10;class $S extends ZS{constructor(i){JS(i),uy(i),super(i),i.startTime&&(this.startTime=i.startTime),this.options=i}updateMotionValue(i){const{motionValue:l,onUpdate:r,onComplete:c,element:d,...f}=this.options;if(!l)return;if(i!==void 0){l.set(i);return}const m=new Nf({...f,autoplay:!1}),g=yn(this.finishedTime??this.time);l.setWithVelocity(m.sample(g-gp).value,m.sample(g).value,gp),m.stop()}}const yp=(a,i)=>i==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(Aa.test(a)||a==="0")&&!a.startsWith("url("));function PS(a){const i=a[0];if(a.length===1)return!0;for(let l=0;l<a.length;l++)if(a[l]!==i)return!0}function IS(a,i,l,r){const c=a[0];if(c===null)return!1;if(i==="display"||i==="visibility")return!0;const d=a[a.length-1],f=yp(c,i),m=yp(d,i);return!f||!m?!1:PS(a)||(l==="spring"||my(l))&&r}function Jc(a){a.duration=0,a.type="keyframes"}const WS=new Set(["opacity","clipPath","filter","transform"]),e2=pf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function t2(a){var v;const{motionValue:i,name:l,repeatDelay:r,repeatType:c,damping:d,type:f}=a;if(!(((v=i==null?void 0:i.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=i.owner.getProps();return e2()&&l&&WS.has(l)&&(l!=="transform"||!p)&&!g&&!r&&c!=="mirror"&&d!==0&&f!=="inertia"}const n2=40;class a2 extends Df{constructor({autoplay:i=!0,delay:l=0,type:r="keyframes",repeat:c=0,repeatDelay:d=0,repeatType:f="loop",keyframes:m,name:g,motionValue:p,element:v,...b}){var z;super(),this.stop=()=>{var Y,B;this._animation&&(this._animation.stop(),(Y=this.stopTimeline)==null||Y.call(this)),(B=this.keyframeResolver)==null||B.cancel()},this.createdAt=Vt.now();const S={autoplay:i,delay:l,type:r,repeat:c,repeatDelay:d,repeatType:f,name:g,motionValue:p,element:v,...b},M=(v==null?void 0:v.KeyframeResolver)||_f;this.keyframeResolver=new M(m,(Y,B,H)=>this.onKeyframesResolved(Y,B,S,!H),g,p,v),(z=this.keyframeResolver)==null||z.scheduleResolve()}onKeyframesResolved(i,l,r,c){this.keyframeResolver=void 0;const{name:d,type:f,velocity:m,delay:g,isHandoff:p,onUpdate:v}=r;this.resolvedAt=Vt.now(),IS(i,d,f,m)||((Gn.instantAnimations||!g)&&(v==null||v(Cf(i,r,l))),i[0]=i[i.length-1],Jc(r),r.repeat=0);const S={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>n2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:l,...r,keyframes:i},M=!p&&t2(S)?new $S({...S,element:S.motionValue.owner.current}):new Nf(S);M.finished.then(()=>this.notifyFinished()).catch(ln),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(i,l){return this.finished.finally(i).then(()=>{})}get animation(){var i;return this._animation||((i=this.keyframeResolver)==null||i.resume(),GS()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(i){this.animation.time=i}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(i){this.animation.speed=i}get startTime(){return this.animation.startTime}attachTimeline(i){return this._animation?this.stopTimeline=this.animation.attachTimeline(i):this.pendingTimeline=i,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var i;this._animation&&this.animation.cancel(),(i=this.keyframeResolver)==null||i.cancel()}}const i2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function s2(a){const i=i2.exec(a);if(!i)return[,];const[,l,r,c]=i;return[`--${l??r}`,c]}function gy(a,i,l=1){const[r,c]=s2(a);if(!r)return;const d=window.getComputedStyle(i).getPropertyValue(r);if(d){const f=d.trim();return Ug(f)?parseFloat(f):f}return bf(c)?gy(c,i,l+1):c}function Mf(a,i){return(a==null?void 0:a[i])??(a==null?void 0:a.default)??a}const yy=new Set(["width","height","top","left","right","bottom",...Wi]),l2={test:a=>a==="auto",parse:a=>a},vy=a=>i=>i.test(a),xy=[Ii,fe,vn,ya,P1,$1,l2],vp=a=>xy.find(vy(a));function r2(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||Hg(a):!0}const o2=new Set(["brightness","contrast","saturate","opacity"]);function u2(a){const[i,l]=a.slice(0,-1).split("(");if(i==="drop-shadow")return a;const[r]=l.match(Sf)||[];if(!r)return a;const c=l.replace(r,"");let d=o2.has(i)?1:0;return r!==l&&(d*=100),i+"("+d+c+")"}const c2=/\b([a-z-]*)\(.*?\)/gu,$c={...Aa,getAnimatableNone:a=>{const i=a.match(c2);return i?i.map(u2).join(" "):a}},xp={...Ii,transform:Math.round},f2={rotate:ya,rotateX:ya,rotateY:ya,rotateZ:ya,scale:Nr,scaleX:Nr,scaleY:Nr,scaleZ:Nr,skew:ya,skewX:ya,skewY:ya,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:il,originX:lp,originY:lp,originZ:fe},wf={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,backgroundPositionX:fe,backgroundPositionY:fe,...f2,zIndex:xp,fillOpacity:il,strokeOpacity:il,numOctaves:xp},d2={...wf,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:$c,WebkitFilter:$c},by=a=>d2[a];function Sy(a,i){let l=by(a);return l!==$c&&(l=Aa),l.getAnimatableNone?l.getAnimatableNone(i):void 0}const h2=new Set(["auto","none","0"]);function m2(a,i,l){let r=0,c;for(;r<a.length&&!c;){const d=a[r];typeof d=="string"&&!h2.has(d)&&sl(d).values.length&&(c=a[r]),r++}if(c&&l)for(const d of i)a[d]=Sy(l,c)}class p2 extends _f{constructor(i,l,r,c,d){super(i,l,r,c,d,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:l,name:r}=this;if(!l||!l.current)return;super.readKeyframes();for(let g=0;g<i.length;g++){let p=i[g];if(typeof p=="string"&&(p=p.trim(),bf(p))){const v=gy(p,l.current);v!==void 0&&(i[g]=v),g===i.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!yy.has(r)||i.length!==2)return;const[c,d]=i,f=vp(c),m=vp(d);if(f!==m)if(mp(f)&&mp(m))for(let g=0;g<i.length;g++){const p=i[g];typeof p=="string"&&(i[g]=parseFloat(p))}else $a[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:l}=this,r=[];for(let c=0;c<i.length;c++)(i[c]===null||r2(i[c]))&&r.push(c);r.length&&m2(i,r,l)}measureInitialState(){const{element:i,unresolvedKeyframes:l,name:r}=this;if(!i||!i.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$a[r](i.measureViewportBox(),window.getComputedStyle(i.current)),l[0]=this.measuredOrigin;const c=l[l.length-1];c!==void 0&&i.getValue(r,c).jump(c,!1)}measureEndState(){var m;const{element:i,name:l,unresolvedKeyframes:r}=this;if(!i||!i.current)return;const c=i.getValue(l);c&&c.jump(this.measuredOrigin,!1);const d=r.length-1,f=r[d];r[d]=$a[l](i.measureViewportBox(),window.getComputedStyle(i.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([g,p])=>{i.getValue(g).set(p)}),this.resolveNoneKeyframes()}}function g2(a,i,l){if(a instanceof EventTarget)return[a];if(typeof a=="string"){let r=document;const c=(l==null?void 0:l[a])??r.querySelectorAll(a);return c?Array.from(c):[]}return Array.from(a)}const Ty=(a,i)=>i&&typeof a=="number"?i.transform(a):a;function y2(a){return Gg(a)&&"offsetHeight"in a}const bp=30,v2=a=>!isNaN(parseFloat(a));class x2{constructor(i,l={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var d;const c=Vt.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((d=this.events.change)==null||d.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty()},this.hasAnimated=!1,this.setCurrent(i),this.owner=l.owner}setCurrent(i){this.current=i,this.updatedAt=Vt.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=v2(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,l){this.events[i]||(this.events[i]=new gf);const r=this.events[i].add(l);return i==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,l){this.passiveEffect=i,this.stopPassiveEffect=l}set(i){this.passiveEffect?this.passiveEffect(i,this.updateAndNotify):this.updateAndNotify(i)}setWithVelocity(i,l,r){this.set(l),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-r}jump(i,l=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,l&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var i;(i=this.events.change)==null||i.notify(this.current)}addDependent(i){this.dependents||(this.dependents=new Set),this.dependents.add(i)}removeDependent(i){this.dependents&&this.dependents.delete(i)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=Vt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>bp)return 0;const l=Math.min(this.updatedAt-this.prevUpdatedAt,bp);return kg(parseFloat(this.current)-parseFloat(this.prevFrameValue),l)}start(i){return this.stop(),new Promise(l=>{this.hasAnimated=!0,this.animation=i(l),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var i,l;(i=this.dependents)==null||i.clear(),(l=this.events.destroy)==null||l.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $i(a,i){return new x2(a,i)}const{schedule:jf}=Ig(queueMicrotask,!1),fn={x:!1,y:!1};function Ay(){return fn.x||fn.y}function b2(a){return a==="x"||a==="y"?fn[a]?null:(fn[a]=!0,()=>{fn[a]=!1}):fn.x||fn.y?null:(fn.x=fn.y=!0,()=>{fn.x=fn.y=!1})}function Ey(a,i){const l=g2(a),r=new AbortController,c={passive:!0,...i,signal:r.signal};return[l,c,()=>r.abort()]}function Sp(a){return!(a.pointerType==="touch"||Ay())}function S2(a,i,l={}){const[r,c,d]=Ey(a,l),f=m=>{if(!Sp(m))return;const{target:g}=m,p=i(g,m);if(typeof p!="function"||!g)return;const v=b=>{Sp(b)&&(p(b),g.removeEventListener("pointerleave",v))};g.addEventListener("pointerleave",v,c)};return r.forEach(m=>{m.addEventListener("pointerenter",f,c)}),d}const Cy=(a,i)=>i?a===i?!0:Cy(a,i.parentElement):!1,Of=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,T2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function A2(a){return T2.has(a.tagName)||a.tabIndex!==-1}const Rr=new WeakSet;function Tp(a){return i=>{i.key==="Enter"&&a(i)}}function Ac(a,i){a.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const E2=(a,i)=>{const l=a.currentTarget;if(!l)return;const r=Tp(()=>{if(Rr.has(l))return;Ac(l,"down");const c=Tp(()=>{Ac(l,"up")}),d=()=>Ac(l,"cancel");l.addEventListener("keyup",c,i),l.addEventListener("blur",d,i)});l.addEventListener("keydown",r,i),l.addEventListener("blur",()=>l.removeEventListener("keydown",r),i)};function Ap(a){return Of(a)&&!Ay()}function C2(a,i,l={}){const[r,c,d]=Ey(a,l),f=m=>{const g=m.currentTarget;if(!Ap(m))return;Rr.add(g);const p=i(g,m),v=(M,z)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",S),Rr.has(g)&&Rr.delete(g),Ap(M)&&typeof p=="function"&&p(M,{success:z})},b=M=>{v(M,g===window||g===document||l.useGlobalTarget||Cy(g,M.target))},S=M=>{v(M,!1)};window.addEventListener("pointerup",b,c),window.addEventListener("pointercancel",S,c)};return r.forEach(m=>{(l.useGlobalTarget?window:m).addEventListener("pointerdown",f,c),y2(m)&&(m.addEventListener("focus",p=>E2(p,c)),!A2(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),d}function Dy(a){return Gg(a)&&"ownerSVGElement"in a}function D2(a){return Dy(a)&&a.tagName==="svg"}const Et=a=>!!(a&&a.getVelocity),N2=[...xy,ot,Aa],_2=a=>N2.find(vy(a)),Ny=C.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function M2(a=!0){const i=C.useContext(ff);if(i===null)return[!0,null];const{isPresent:l,onExitComplete:r,register:c}=i,d=C.useId();C.useEffect(()=>{if(a)return c(d)},[a]);const f=C.useCallback(()=>a&&r&&r(d),[d,r,a]);return!l&&r?[!1,f]:[!0]}const _y=C.createContext({strict:!1}),Ep={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pi={};for(const a in Ep)Pi[a]={isEnabled:i=>Ep[a].some(l=>!!i[l])};function w2(a){for(const i in a)Pi[i]={...Pi[i],...a[i]}}const j2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hr(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||j2.has(a)}let My=a=>!Hr(a);function O2(a){typeof a=="function"&&(My=i=>i.startsWith("on")?!Hr(i):a(i))}try{O2(require("@emotion/is-prop-valid").default)}catch{}function R2(a,i,l){const r={};for(const c in a)c==="values"&&typeof a.values=="object"||(My(c)||l===!0&&Hr(c)||!i&&!Hr(c)||a.draggable&&c.startsWith("onDrag"))&&(r[c]=a[c]);return r}const Zr=C.createContext({});function Fr(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function ll(a){return typeof a=="string"||Array.isArray(a)}const Rf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zf=["initial",...Rf];function Jr(a){return Fr(a.animate)||zf.some(i=>ll(a[i]))}function wy(a){return!!(Jr(a)||a.variants)}function z2(a,i){if(Jr(a)){const{initial:l,animate:r}=a;return{initial:l===!1||ll(l)?l:void 0,animate:ll(r)?r:void 0}}return a.inherit!==!1?i:{}}function B2(a){const{initial:i,animate:l}=z2(a,C.useContext(Zr));return C.useMemo(()=>({initial:i,animate:l}),[Cp(i),Cp(l)])}function Cp(a){return Array.isArray(a)?a.join(" "):a}const rl={};function V2(a){for(const i in a)rl[i]=a[i],xf(i)&&(rl[i].isCSSVariable=!0)}function jy(a,{layout:i,layoutId:l}){return es.has(a)||a.startsWith("origin")||(i||l!==void 0)&&(!!rl[a]||a==="opacity")}const L2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},U2=Wi.length;function G2(a,i,l){let r="",c=!0;for(let d=0;d<U2;d++){const f=Wi[d],m=a[f];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(f.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||l){const p=Ty(m,wf[f]);if(!g){c=!1;const v=L2[f]||f;r+=`${v}(${p}) `}l&&(i[f]=p)}}return r=r.trim(),l?r=l(i,c?"":r):c&&(r="none"),r}function Bf(a,i,l){const{style:r,vars:c,transformOrigin:d}=a;let f=!1,m=!1;for(const g in i){const p=i[g];if(es.has(g)){f=!0;continue}else if(xf(g)){c[g]=p;continue}else{const v=Ty(p,wf[g]);g.startsWith("origin")?(m=!0,d[g]=v):r[g]=v}}if(i.transform||(f||l?r.transform=G2(i,a.transform,l):r.transform&&(r.transform="none")),m){const{originX:g="50%",originY:p="50%",originZ:v=0}=d;r.transformOrigin=`${g} ${p} ${v}`}}const Vf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Oy(a,i,l){for(const r in i)!Et(i[r])&&!jy(r,l)&&(a[r]=i[r])}function H2({transformTemplate:a},i){return C.useMemo(()=>{const l=Vf();return Bf(l,i,a),Object.assign({},l.vars,l.style)},[i])}function k2(a,i){const l=a.style||{},r={};return Oy(r,l,a),Object.assign(r,H2(a,i)),r}function Y2(a,i){const l={},r=k2(a,i);return a.drag&&a.dragListener!==!1&&(l.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(l.tabIndex=0),l.style=r,l}const q2={offset:"stroke-dashoffset",array:"stroke-dasharray"},X2={offset:"strokeDashoffset",array:"strokeDasharray"};function K2(a,i,l=1,r=0,c=!0){a.pathLength=1;const d=c?q2:X2;a[d.offset]=fe.transform(-r);const f=fe.transform(i),m=fe.transform(l);a[d.array]=`${f} ${m}`}function Ry(a,{attrX:i,attrY:l,attrScale:r,pathLength:c,pathSpacing:d=1,pathOffset:f=0,...m},g,p,v){if(Bf(a,m,p),g){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:b,style:S}=a;b.transform&&(S.transform=b.transform,delete b.transform),(S.transform||b.transformOrigin)&&(S.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),S.transform&&(S.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete b.transformBox),i!==void 0&&(b.x=i),l!==void 0&&(b.y=l),r!==void 0&&(b.scale=r),c!==void 0&&K2(b,c,d,f,!1)}const zy=()=>({...Vf(),attrs:{}}),By=a=>typeof a=="string"&&a.toLowerCase()==="svg";function Q2(a,i,l,r){const c=C.useMemo(()=>{const d=zy();return Ry(d,i,By(r),a.transformTemplate,a.style),{...d.attrs,style:{...d.style}}},[i]);if(a.style){const d={};Oy(d,a.style,a),c.style={...d,...c.style}}return c}const Z2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lf(a){return typeof a!="string"||a.includes("-")?!1:!!(Z2.indexOf(a)>-1||/[A-Z]/u.test(a))}function F2(a,i,l,{latestValues:r},c,d=!1){const m=(Lf(a)?Q2:Y2)(i,r,c,a),g=R2(i,typeof a=="string",d),p=a!==C.Fragment?{...g,...m,ref:l}:{},{children:v}=i,b=C.useMemo(()=>Et(v)?v.get():v,[v]);return C.createElement(a,{...p,children:b})}function Dp(a){const i=[{},{}];return a==null||a.values.forEach((l,r)=>{i[0][r]=l.get(),i[1][r]=l.getVelocity()}),i}function Uf(a,i,l,r){if(typeof i=="function"){const[c,d]=Dp(r);i=i(l!==void 0?l:a.custom,c,d)}if(typeof i=="string"&&(i=a.variants&&a.variants[i]),typeof i=="function"){const[c,d]=Dp(r);i=i(l!==void 0?l:a.custom,c,d)}return i}function zr(a){return Et(a)?a.get():a}function J2({scrapeMotionValuesFromProps:a,createRenderState:i},l,r,c){return{latestValues:$2(l,r,c,a),renderState:i()}}function $2(a,i,l,r){const c={},d=r(a,{});for(const S in d)c[S]=zr(d[S]);let{initial:f,animate:m}=a;const g=Jr(a),p=wy(a);i&&p&&!g&&a.inherit!==!1&&(f===void 0&&(f=i.initial),m===void 0&&(m=i.animate));let v=l?l.initial===!1:!1;v=v||f===!1;const b=v?m:f;if(b&&typeof b!="boolean"&&!Fr(b)){const S=Array.isArray(b)?b:[b];for(let M=0;M<S.length;M++){const z=Uf(a,S[M]);if(z){const{transitionEnd:Y,transition:B,...H}=z;for(const Q in H){let X=H[Q];if(Array.isArray(X)){const k=v?X.length-1:0;X=X[k]}X!==null&&(c[Q]=X)}for(const Q in Y)c[Q]=Y[Q]}}}return c}const Vy=a=>(i,l)=>{const r=C.useContext(Zr),c=C.useContext(ff),d=()=>J2(a,i,r,c);return l?d():w1(d)};function Gf(a,i,l){var d;const{style:r}=a,c={};for(const f in r)(Et(r[f])||i.style&&Et(i.style[f])||jy(f,a)||((d=l==null?void 0:l.getValue(f))==null?void 0:d.liveStyle)!==void 0)&&(c[f]=r[f]);return c}const P2=Vy({scrapeMotionValuesFromProps:Gf,createRenderState:Vf});function Ly(a,i,l){const r=Gf(a,i,l);for(const c in a)if(Et(a[c])||Et(i[c])){const d=Wi.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;r[d]=a[c]}return r}const I2=Vy({scrapeMotionValuesFromProps:Ly,createRenderState:zy}),W2=Symbol.for("motionComponentSymbol");function Xi(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function eT(a,i,l){return C.useCallback(r=>{r&&a.onMount&&a.onMount(r),i&&(r?i.mount(r):i.unmount()),l&&(typeof l=="function"?l(r):Xi(l)&&(l.current=r))},[i])}const Hf=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tT="framerAppearId",Uy="data-"+Hf(tT),Gy=C.createContext({});function nT(a,i,l,r,c){var Y,B;const{visualElement:d}=C.useContext(Zr),f=C.useContext(_y),m=C.useContext(ff),g=C.useContext(Ny).reducedMotion,p=C.useRef(null);r=r||f.renderer,!p.current&&r&&(p.current=r(a,{visualState:i,parent:d,props:l,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const v=p.current,b=C.useContext(Gy);v&&!v.projection&&c&&(v.type==="html"||v.type==="svg")&&aT(p.current,l,c,b);const S=C.useRef(!1);C.useInsertionEffect(()=>{v&&S.current&&v.update(l,m)});const M=l[Uy],z=C.useRef(!!M&&!((Y=window.MotionHandoffIsComplete)!=null&&Y.call(window,M))&&((B=window.MotionHasOptimisedAnimation)==null?void 0:B.call(window,M)));return j1(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),z.current&&v.animationState&&v.animationState.animateChanges())}),C.useEffect(()=>{v&&(!z.current&&v.animationState&&v.animationState.animateChanges(),z.current&&(queueMicrotask(()=>{var H;(H=window.MotionHandoffMarkAsComplete)==null||H.call(window,M)}),z.current=!1),v.enteringChildren=void 0)}),v}function aT(a,i,l,r){const{layoutId:c,layout:d,drag:f,dragConstraints:m,layoutScroll:g,layoutRoot:p,layoutCrossfade:v}=i;a.projection=new l(a.latestValues,i["data-framer-portal-id"]?void 0:Hy(a.parent)),a.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!f||m&&Xi(m),visualElement:a,animationType:typeof d=="string"?d:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:g,layoutRoot:p})}function Hy(a){if(a)return a.options.allowProjection!==!1?a.projection:Hy(a.parent)}function Ec(a,{forwardMotionProps:i=!1}={},l,r){l&&w2(l);const c=Lf(a)?I2:P2;function d(m,g){let p;const v={...C.useContext(Ny),...m,layoutId:iT(m)},{isStatic:b}=v,S=B2(m),M=c(m,b);if(!b&&cf){sT();const z=lT(v);p=z.MeasureLayout,S.visualElement=nT(a,M,v,r,z.ProjectionNode)}return y.jsxs(Zr.Provider,{value:S,children:[p&&S.visualElement?y.jsx(p,{visualElement:S.visualElement,...v}):null,F2(a,m,eT(M,S.visualElement,g),M,b,i)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const f=C.forwardRef(d);return f[W2]=a,f}function iT({layoutId:a}){const i=C.useContext(Lg).id;return i&&a!==void 0?i+"-"+a:a}function sT(a,i){C.useContext(_y).strict}function lT(a){const{drag:i,layout:l}=Pi;if(!i&&!l)return{};const r={...i,...l};return{MeasureLayout:i!=null&&i.isEnabled(a)||l!=null&&l.isEnabled(a)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function rT(a,i){if(typeof Proxy>"u")return Ec;const l=new Map,r=(d,f)=>Ec(d,f,a,i),c=(d,f)=>r(d,f);return new Proxy(c,{get:(d,f)=>f==="create"?r:(l.has(f)||l.set(f,Ec(f,void 0,a,i)),l.get(f))})}function ky({top:a,left:i,right:l,bottom:r}){return{x:{min:i,max:l},y:{min:a,max:r}}}function oT({x:a,y:i}){return{top:i.min,right:a.max,bottom:i.max,left:a.min}}function uT(a,i){if(!i)return a;const l=i({x:a.left,y:a.top}),r=i({x:a.right,y:a.bottom});return{top:l.y,left:l.x,bottom:r.y,right:r.x}}function Cc(a){return a===void 0||a===1}function Pc({scale:a,scaleX:i,scaleY:l}){return!Cc(a)||!Cc(i)||!Cc(l)}function Za(a){return Pc(a)||Yy(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function Yy(a){return Np(a.x)||Np(a.y)}function Np(a){return a&&a!=="0%"}function kr(a,i,l){const r=a-l,c=i*r;return l+c}function _p(a,i,l,r,c){return c!==void 0&&(a=kr(a,c,r)),kr(a,l,r)+i}function Ic(a,i=0,l=1,r,c){a.min=_p(a.min,i,l,r,c),a.max=_p(a.max,i,l,r,c)}function qy(a,{x:i,y:l}){Ic(a.x,i.translate,i.scale,i.originPoint),Ic(a.y,l.translate,l.scale,l.originPoint)}const Mp=.999999999999,wp=1.0000000000001;function cT(a,i,l,r=!1){const c=l.length;if(!c)return;i.x=i.y=1;let d,f;for(let m=0;m<c;m++){d=l[m],f=d.projectionDelta;const{visualElement:g}=d.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Qi(a,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),f&&(i.x*=f.x.scale,i.y*=f.y.scale,qy(a,f)),r&&Za(d.latestValues)&&Qi(a,d.latestValues))}i.x<wp&&i.x>Mp&&(i.x=1),i.y<wp&&i.y>Mp&&(i.y=1)}function Ki(a,i){a.min=a.min+i,a.max=a.max+i}function jp(a,i,l,r,c=.5){const d=$e(a.min,a.max,c);Ic(a,i,l,d,r)}function Qi(a,i){jp(a.x,i.x,i.scaleX,i.scale,i.originX),jp(a.y,i.y,i.scaleY,i.scale,i.originY)}function Xy(a,i){return ky(uT(a.getBoundingClientRect(),i))}function fT(a,i,l){const r=Xy(a,l),{scroll:c}=i;return c&&(Ki(r.x,c.offset.x),Ki(r.y,c.offset.y)),r}const Op=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zi=()=>({x:Op(),y:Op()}),Rp=()=>({min:0,max:0}),at=()=>({x:Rp(),y:Rp()}),Wc={current:null},Ky={current:!1};function dT(){if(Ky.current=!0,!!cf)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),i=()=>Wc.current=a.matches;a.addEventListener("change",i),i()}else Wc.current=!1}const hT=new WeakMap;function mT(a,i,l){for(const r in i){const c=i[r],d=l[r];if(Et(c))a.addValue(r,c);else if(Et(d))a.addValue(r,$i(c,{owner:a}));else if(d!==c)if(a.hasValue(r)){const f=a.getValue(r);f.liveStyle===!0?f.jump(c):f.hasAnimated||f.set(c)}else{const f=a.getStaticValue(r);a.addValue(r,$i(f!==void 0?f:c,{owner:a}))}}for(const r in l)i[r]===void 0&&a.removeValue(r);return i}const zp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pT{scrapeMotionValuesFromProps(i,l,r){return{}}constructor({parent:i,props:l,presenceContext:r,reducedMotionConfig:c,blockInitialAnimation:d,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_f,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Vt.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Je.render(this.render,!1,!0))};const{latestValues:g,renderState:p}=f;this.latestValues=g,this.baseTarget={...g},this.initialValues=l.initial?{...g}:{},this.renderState=p,this.parent=i,this.props=l,this.presenceContext=r,this.depth=i?i.depth+1:0,this.reducedMotionConfig=c,this.options=m,this.blockInitialAnimation=!!d,this.isControllingVariants=Jr(l),this.isVariantNode=wy(l),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(l,{},this);for(const S in b){const M=b[S];g[S]!==void 0&&Et(M)&&M.set(g[S])}}mount(i){var l;this.current=i,hT.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,c)=>this.bindToMotionValue(c,r)),Ky.current||dT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wc.current,(l=this.parent)==null||l.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var i;this.projection&&this.projection.unmount(),Ta(this.notifyUpdate),Ta(this.render),this.valueSubscriptions.forEach(l=>l()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(i=this.parent)==null||i.removeChild(this);for(const l in this.events)this.events[l].clear();for(const l in this.features){const r=this.features[l];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(i){this.children.add(i),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(i)}removeChild(i){this.children.delete(i),this.enteringChildren&&this.enteringChildren.delete(i)}bindToMotionValue(i,l){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const r=es.has(i);r&&this.onBindTransform&&this.onBindTransform();const c=l.on("change",f=>{this.latestValues[i]=f,this.props.onUpdate&&Je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,i,l)),this.valueSubscriptions.set(i,()=>{c(),d&&d(),l.owner&&l.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in Pi){const l=Pi[i];if(!l)continue;const{isEnabled:r,Feature:c}=l;if(!this.features[i]&&c&&r(this.props)&&(this.features[i]=new c(this)),this.features[i]){const d=this.features[i];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):at()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,l){this.latestValues[i]=l}update(i,l){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=l;for(let r=0;r<zp.length;r++){const c=zp[r];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const d="on"+c,f=i[d];f&&(this.propEventSubscriptions[c]=this.on(c,f))}this.prevMotionValues=mT(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const l=this.getClosestVariantNode();if(l)return l.variantChildren&&l.variantChildren.add(i),()=>l.variantChildren.delete(i)}addValue(i,l){const r=this.values.get(i);l!==r&&(r&&this.removeValue(i),this.bindToMotionValue(i,l),this.values.set(i,l),this.latestValues[i]=l.get())}removeValue(i){this.values.delete(i);const l=this.valueSubscriptions.get(i);l&&(l(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,l){if(this.props.values&&this.props.values[i])return this.props.values[i];let r=this.values.get(i);return r===void 0&&l!==void 0&&(r=$i(l===null?void 0:l,{owner:this}),this.addValue(i,r)),r}readValue(i,l){let r=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return r!=null&&(typeof r=="string"&&(Ug(r)||Hg(r))?r=parseFloat(r):!_2(r)&&Aa.test(l)&&(r=Sy(i,l)),this.setBaseTarget(i,Et(r)?r.get():r)),Et(r)?r.get():r}setBaseTarget(i,l){this.baseTarget[i]=l}getBaseTarget(i){var d;const{initial:l}=this.props;let r;if(typeof l=="string"||typeof l=="object"){const f=Uf(this.props,l,(d=this.presenceContext)==null?void 0:d.custom);f&&(r=f[i])}if(l&&r!==void 0)return r;const c=this.getBaseTargetFromProps(this.props,i);return c!==void 0&&!Et(c)?c:this.initialValues[i]!==void 0&&r===void 0?void 0:this.baseTarget[i]}on(i,l){return this.events[i]||(this.events[i]=new gf),this.events[i].add(l)}notify(i,...l){this.events[i]&&this.events[i].notify(...l)}scheduleRenderMicrotask(){jf.render(this.render)}}class Qy extends pT{constructor(){super(...arguments),this.KeyframeResolver=p2}sortInstanceNodePosition(i,l){return i.compareDocumentPosition(l)&2?1:-1}getBaseTargetFromProps(i,l){return i.style?i.style[l]:void 0}removeValueFromRenderState(i,{vars:l,style:r}){delete l[i],delete r[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;Et(i)&&(this.childSubscription=i.on("change",l=>{this.current&&(this.current.textContent=`${l}`)}))}}function Zy(a,{style:i,vars:l},r,c){const d=a.style;let f;for(f in i)d[f]=i[f];c==null||c.applyProjectionStyles(d,r);for(f in l)d.setProperty(f,l[f])}function gT(a){return window.getComputedStyle(a)}class yT extends Qy{constructor(){super(...arguments),this.type="html",this.renderInstance=Zy}readValueFromInstance(i,l){var r;if(es.has(l))return(r=this.projection)!=null&&r.isProjecting?Xc(l):zS(i,l);{const c=gT(i),d=(xf(l)?c.getPropertyValue(l):c[l])||0;return typeof d=="string"?d.trim():d}}measureInstanceViewportBox(i,{transformPagePoint:l}){return Xy(i,l)}build(i,l,r){Bf(i,l,r.transformTemplate)}scrapeMotionValuesFromProps(i,l,r){return Gf(i,l,r)}}const Fy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vT(a,i,l,r){Zy(a,i,void 0,r);for(const c in i.attrs)a.setAttribute(Fy.has(c)?c:Hf(c),i.attrs[c])}class xT extends Qy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=at}getBaseTargetFromProps(i,l){return i[l]}readValueFromInstance(i,l){if(es.has(l)){const r=by(l);return r&&r.default||0}return l=Fy.has(l)?l:Hf(l),i.getAttribute(l)}scrapeMotionValuesFromProps(i,l,r){return Ly(i,l,r)}build(i,l,r){Ry(i,l,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(i,l,r,c){vT(i,l,r,c)}mount(i){this.isSVGTag=By(i.tagName),super.mount(i)}}const bT=(a,i)=>Lf(a)?new xT(i):new yT(i,{allowProjection:a!==C.Fragment});function Fi(a,i,l){const r=a.getProps();return Uf(r,i,l!==void 0?l:r.custom,a)}const ef=a=>Array.isArray(a);function ST(a,i,l){a.hasValue(i)?a.getValue(i).set(l):a.addValue(i,$i(l))}function TT(a){return ef(a)?a[a.length-1]||0:a}function AT(a,i){const l=Fi(a,i);let{transitionEnd:r={},transition:c={},...d}=l||{};d={...d,...r};for(const f in d){const m=TT(d[f]);ST(a,f,m)}}function ET(a){return!!(Et(a)&&a.add)}function tf(a,i){const l=a.getValue("willChange");if(ET(l))return l.add(i);if(!l&&Gn.WillChange){const r=new Gn.WillChange("auto");a.addValue("willChange",r),r.add(i)}}function Jy(a){return a.props[Uy]}const CT=a=>a!==null;function DT(a,{repeat:i,repeatType:l="loop"},r){const c=a.filter(CT),d=i&&l!=="loop"&&i%2===1?0:c.length-1;return c[d]}const NT={type:"spring",stiffness:500,damping:25,restSpeed:10},_T=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),MT={type:"keyframes",duration:.8},wT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jT=(a,{keyframes:i})=>i.length>2?MT:es.has(a)?a.startsWith("scale")?_T(i[1]):NT:wT;function OT({when:a,delay:i,delayChildren:l,staggerChildren:r,staggerDirection:c,repeat:d,repeatType:f,repeatDelay:m,from:g,elapsed:p,...v}){return!!Object.keys(v).length}const kf=(a,i,l,r={},c,d)=>f=>{const m=Mf(r,a)||{},g=m.delay||r.delay||0;let{elapsed:p=0}=r;p=p-yn(g);const v={keyframes:Array.isArray(l)?l:[null,l],ease:"easeOut",velocity:i.getVelocity(),...m,delay:-p,onUpdate:S=>{i.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{f(),m.onComplete&&m.onComplete()},name:a,motionValue:i,element:d?void 0:c};OT(m)||Object.assign(v,jT(a,v)),v.duration&&(v.duration=yn(v.duration)),v.repeatDelay&&(v.repeatDelay=yn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Jc(v),v.delay===0&&(b=!0)),(Gn.instantAnimations||Gn.skipAnimations)&&(b=!0,Jc(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,b&&!d&&i.get()!==void 0){const S=DT(v.keyframes,m);if(S!==void 0){Je.update(()=>{v.onUpdate(S),v.onComplete()});return}}return m.isSync?new Nf(v):new a2(v)};function RT({protectedKeys:a,needsAnimating:i},l){const r=a.hasOwnProperty(l)&&i[l]!==!0;return i[l]=!1,r}function $y(a,i,{delay:l=0,transitionOverride:r,type:c}={}){let{transition:d=a.getDefaultTransition(),transitionEnd:f,...m}=i;r&&(d=r);const g=[],p=c&&a.animationState&&a.animationState.getState()[c];for(const v in m){const b=a.getValue(v,a.latestValues[v]??null),S=m[v];if(S===void 0||p&&RT(p,v))continue;const M={delay:l,...Mf(d||{},v)},z=b.get();if(z!==void 0&&!b.isAnimating&&!Array.isArray(S)&&S===z&&!M.velocity)continue;let Y=!1;if(window.MotionHandoffAnimation){const H=Jy(a);if(H){const Q=window.MotionHandoffAnimation(H,v,Je);Q!==null&&(M.startTime=Q,Y=!0)}}tf(a,v),b.start(kf(v,b,S,a.shouldReduceMotion&&yy.has(v)?{type:!1}:M,a,Y));const B=b.animation;B&&g.push(B)}return f&&Promise.all(g).then(()=>{Je.update(()=>{f&&AT(a,f)})}),g}function Py(a,i,l,r=0,c=1){const d=Array.from(a).sort((p,v)=>p.sortNodePosition(v)).indexOf(i),f=a.size,m=(f-1)*r;return typeof l=="function"?l(d,f):c===1?d*r:m-d*r}function nf(a,i,l={}){var g;const r=Fi(a,i,l.type==="exit"?(g=a.presenceContext)==null?void 0:g.custom:void 0);let{transition:c=a.getDefaultTransition()||{}}=r||{};l.transitionOverride&&(c=l.transitionOverride);const d=r?()=>Promise.all($y(a,r,l)):()=>Promise.resolve(),f=a.variantChildren&&a.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:S}=c;return zT(a,i,p,v,b,S,l)}:()=>Promise.resolve(),{when:m}=c;if(m){const[p,v]=m==="beforeChildren"?[d,f]:[f,d];return p().then(()=>v())}else return Promise.all([d(),f(l.delay)])}function zT(a,i,l=0,r=0,c=0,d=1,f){const m=[];for(const g of a.variantChildren)g.notify("AnimationStart",i),m.push(nf(g,i,{...f,delay:l+(typeof r=="function"?0:r)+Py(a.variantChildren,g,r,c,d)}).then(()=>g.notify("AnimationComplete",i)));return Promise.all(m)}function BT(a,i,l={}){a.notify("AnimationStart",i);let r;if(Array.isArray(i)){const c=i.map(d=>nf(a,d,l));r=Promise.all(c)}else if(typeof i=="string")r=nf(a,i,l);else{const c=typeof i=="function"?Fi(a,i,l.custom):i;r=Promise.all($y(a,c,l))}return r.then(()=>{a.notify("AnimationComplete",i)})}function Iy(a,i){if(!Array.isArray(i))return!1;const l=i.length;if(l!==a.length)return!1;for(let r=0;r<l;r++)if(i[r]!==a[r])return!1;return!0}const VT=zf.length;function Wy(a){if(!a)return;if(!a.isControllingVariants){const l=a.parent?Wy(a.parent)||{}:{};return a.props.initial!==void 0&&(l.initial=a.props.initial),l}const i={};for(let l=0;l<VT;l++){const r=zf[l],c=a.props[r];(ll(c)||c===!1)&&(i[r]=c)}return i}const LT=[...Rf].reverse(),UT=Rf.length;function GT(a){return i=>Promise.all(i.map(({animation:l,options:r})=>BT(a,l,r)))}function HT(a){let i=GT(a),l=Bp(),r=!0;const c=g=>(p,v)=>{var S;const b=Fi(a,v,g==="exit"?(S=a.presenceContext)==null?void 0:S.custom:void 0);if(b){const{transition:M,transitionEnd:z,...Y}=b;p={...p,...Y,...z}}return p};function d(g){i=g(a)}function f(g){const{props:p}=a,v=Wy(a.parent)||{},b=[],S=new Set;let M={},z=1/0;for(let B=0;B<UT;B++){const H=LT[B],Q=l[H],X=p[H]!==void 0?p[H]:v[H],k=ll(X),q=H===g?Q.isActive:null;q===!1&&(z=B);let ne=X===v[H]&&X!==p[H]&&k;if(ne&&r&&a.manuallyAnimateOnMount&&(ne=!1),Q.protectedKeys={...M},!Q.isActive&&q===null||!X&&!Q.prevProp||Fr(X)||typeof X=="boolean")continue;const Z=kT(Q.prevProp,X);let I=Z||H===g&&Q.isActive&&!ne&&k||B>z&&k,oe=!1;const ie=Array.isArray(X)?X:[X];let we=ie.reduce(c(H),{});q===!1&&(we={});const{prevResolvedValues:Ae={}}=Q,ft={...Ae,...we},de=V=>{I=!0,S.has(V)&&(oe=!0,S.delete(V)),Q.needsAnimating[V]=!0;const $=a.getValue(V);$&&($.liveStyle=!1)};for(const V in ft){const $=we[V],ce=Ae[V];if(M.hasOwnProperty(V))continue;let xe=!1;ef($)&&ef(ce)?xe=!Iy($,ce):xe=$!==ce,xe?$!=null?de(V):S.add(V):$!==void 0&&S.has(V)?de(V):Q.protectedKeys[V]=!0}Q.prevProp=X,Q.prevResolvedValues=we,Q.isActive&&(M={...M,...we}),r&&a.blockInitialAnimation&&(I=!1);const K=ne&&Z;I&&(!K||oe)&&b.push(...ie.map(V=>{const $={type:H};if(typeof V=="string"&&r&&!K&&a.manuallyAnimateOnMount&&a.parent){const{parent:ce}=a,xe=Fi(ce,V);if(ce.enteringChildren&&xe){const{delayChildren:A}=xe.transition||{};$.delay=Py(ce.enteringChildren,a,A)}}return{animation:V,options:$}}))}if(S.size){const B={};if(typeof p.initial!="boolean"){const H=Fi(a,Array.isArray(p.initial)?p.initial[0]:p.initial);H&&H.transition&&(B.transition=H.transition)}S.forEach(H=>{const Q=a.getBaseTarget(H),X=a.getValue(H);X&&(X.liveStyle=!0),B[H]=Q??null}),b.push({animation:B})}let Y=!!b.length;return r&&(p.initial===!1||p.initial===p.animate)&&!a.manuallyAnimateOnMount&&(Y=!1),r=!1,Y?i(b):Promise.resolve()}function m(g,p){var b;if(l[g].isActive===p)return Promise.resolve();(b=a.variantChildren)==null||b.forEach(S=>{var M;return(M=S.animationState)==null?void 0:M.setActive(g,p)}),l[g].isActive=p;const v=f(g);for(const S in l)l[S].protectedKeys={};return v}return{animateChanges:f,setActive:m,setAnimateFunction:d,getState:()=>l,reset:()=>{l=Bp()}}}function kT(a,i){return typeof i=="string"?i!==a:Array.isArray(i)?!Iy(i,a):!1}function Qa(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bp(){return{animate:Qa(!0),whileInView:Qa(),whileHover:Qa(),whileTap:Qa(),whileDrag:Qa(),whileFocus:Qa(),exit:Qa()}}class Ea{constructor(i){this.isMounted=!1,this.node=i}update(){}}class YT extends Ea{constructor(i){super(i),i.animationState||(i.animationState=HT(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();Fr(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:l}=this.node.prevProps||{};i!==l&&this.updateAnimationControlsSubscription()}unmount(){var i;this.node.animationState.reset(),(i=this.unmountControls)==null||i.call(this)}}let qT=0;class XT extends Ea{constructor(){super(...arguments),this.id=qT++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:l}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===r)return;const c=this.node.animationState.setActive("exit",!i);l&&!i&&c.then(()=>{l(this.id)})}mount(){const{register:i,onExitComplete:l}=this.node.presenceContext||{};l&&l(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const KT={animation:{Feature:YT},exit:{Feature:XT}};function ol(a,i,l,r={passive:!0}){return a.addEventListener(i,l,r),()=>a.removeEventListener(i,l)}function dl(a){return{point:{x:a.pageX,y:a.pageY}}}const QT=a=>i=>Of(i)&&a(i,dl(i));function el(a,i,l,r){return ol(a,i,QT(l),r)}const ev=1e-4,ZT=1-ev,FT=1+ev,tv=.01,JT=0-tv,$T=0+tv;function Nt(a){return a.max-a.min}function PT(a,i,l){return Math.abs(a-i)<=l}function Vp(a,i,l,r=.5){a.origin=r,a.originPoint=$e(i.min,i.max,a.origin),a.scale=Nt(l)/Nt(i),a.translate=$e(l.min,l.max,a.origin)-a.originPoint,(a.scale>=ZT&&a.scale<=FT||isNaN(a.scale))&&(a.scale=1),(a.translate>=JT&&a.translate<=$T||isNaN(a.translate))&&(a.translate=0)}function tl(a,i,l,r){Vp(a.x,i.x,l.x,r?r.originX:void 0),Vp(a.y,i.y,l.y,r?r.originY:void 0)}function Lp(a,i,l){a.min=l.min+i.min,a.max=a.min+Nt(i)}function IT(a,i,l){Lp(a.x,i.x,l.x),Lp(a.y,i.y,l.y)}function Up(a,i,l){a.min=i.min-l.min,a.max=a.min+Nt(i)}function nl(a,i,l){Up(a.x,i.x,l.x),Up(a.y,i.y,l.y)}function an(a){return[a("x"),a("y")]}const nv=({current:a})=>a?a.ownerDocument.defaultView:null,Gp=(a,i)=>Math.abs(a-i);function WT(a,i){const l=Gp(a.x,i.x),r=Gp(a.y,i.y);return Math.sqrt(l**2+r**2)}class av{constructor(i,l,{transformPagePoint:r,contextWindow:c=window,dragSnapToOrigin:d=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Nc(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,z=WT(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!z)return;const{point:Y}=S,{timestamp:B}=Tt;this.history.push({...Y,timestamp:B});const{onStart:H,onMove:Q}=this.handlers;M||(H&&H(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,S)},this.handlePointerMove=(S,M)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Dc(M,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(S,M)=>{this.end();const{onEnd:z,onSessionEnd:Y,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Nc(S.type==="pointercancel"?this.lastMoveEventInfo:Dc(M,this.transformPagePoint),this.history);this.startEvent&&z&&z(S,H),Y&&Y(S,H)},!Of(i))return;this.dragSnapToOrigin=d,this.handlers=l,this.transformPagePoint=r,this.distanceThreshold=f,this.contextWindow=c||window;const m=dl(i),g=Dc(m,this.transformPagePoint),{point:p}=g,{timestamp:v}=Tt;this.history=[{...p,timestamp:v}];const{onSessionStart:b}=l;b&&b(i,Nc(g,this.history)),this.removeListeners=ul(el(this.contextWindow,"pointermove",this.handlePointerMove),el(this.contextWindow,"pointerup",this.handlePointerUp),el(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),Ta(this.updatePoint)}}function Dc(a,i){return i?{point:i(a.point)}:a}function Hp(a,i){return{x:a.x-i.x,y:a.y-i.y}}function Nc({point:a},i){return{point:a,delta:Hp(a,iv(i)),offset:Hp(a,eA(i)),velocity:tA(i,.1)}}function eA(a){return a[0]}function iv(a){return a[a.length-1]}function tA(a,i){if(a.length<2)return{x:0,y:0};let l=a.length-1,r=null;const c=iv(a);for(;l>=0&&(r=a[l],!(c.timestamp-r.timestamp>yn(i)));)l--;if(!r)return{x:0,y:0};const d=sn(c.timestamp-r.timestamp);if(d===0)return{x:0,y:0};const f={x:(c.x-r.x)/d,y:(c.y-r.y)/d};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function nA(a,{min:i,max:l},r){return i!==void 0&&a<i?a=r?$e(i,a,r.min):Math.max(a,i):l!==void 0&&a>l&&(a=r?$e(l,a,r.max):Math.min(a,l)),a}function kp(a,i,l){return{min:i!==void 0?a.min+i:void 0,max:l!==void 0?a.max+l-(a.max-a.min):void 0}}function aA(a,{top:i,left:l,bottom:r,right:c}){return{x:kp(a.x,l,c),y:kp(a.y,i,r)}}function Yp(a,i){let l=i.min-a.min,r=i.max-a.max;return i.max-i.min<a.max-a.min&&([l,r]=[r,l]),{min:l,max:r}}function iA(a,i){return{x:Yp(a.x,i.x),y:Yp(a.y,i.y)}}function sA(a,i){let l=.5;const r=Nt(a),c=Nt(i);return c>r?l=al(i.min,i.max-r,a.min):r>c&&(l=al(a.min,a.max-c,i.min)),Un(0,1,l)}function lA(a,i){const l={};return i.min!==void 0&&(l.min=i.min-a.min),i.max!==void 0&&(l.max=i.max-a.min),l}const af=.35;function rA(a=af){return a===!1?a=0:a===!0&&(a=af),{x:qp(a,"left","right"),y:qp(a,"top","bottom")}}function qp(a,i,l){return{min:Xp(a,i),max:Xp(a,l)}}function Xp(a,i){return typeof a=="number"?a:a[i]||0}const oA=new WeakMap;class uA{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=at(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=i}start(i,{snapToCursor:l=!1,distanceThreshold:r}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const d=b=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),l&&this.snapToCursor(dl(b).point)},f=(b,S)=>{const{drag:M,dragPropagation:z,onDragStart:Y}=this.getProps();if(M&&!z&&(this.openDragLock&&this.openDragLock(),this.openDragLock=b2(M),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),an(H=>{let Q=this.getAxisMotionValue(H).get()||0;if(vn.test(Q)){const{projection:X}=this.visualElement;if(X&&X.layout){const k=X.layout.layoutBox[H];k&&(Q=Nt(k)*(parseFloat(Q)/100))}}this.originPoint[H]=Q}),Y&&Je.postRender(()=>Y(b,S)),tf(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},m=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S;const{dragPropagation:M,dragDirectionLock:z,onDirectionLock:Y,onDrag:B}=this.getProps();if(!M&&!this.openDragLock)return;const{offset:H}=S;if(z&&this.currentDirection===null){this.currentDirection=cA(H),this.currentDirection!==null&&Y&&Y(this.currentDirection);return}this.updateAxis("x",S.point,H),this.updateAxis("y",S.point,H),this.visualElement.render(),B&&B(b,S)},g=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S,this.stop(b,S),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>an(b=>{var S;return this.getAnimationState(b)==="paused"&&((S=this.getAxisMotionValue(b).animation)==null?void 0:S.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new av(i,{onSessionStart:d,onStart:f,onMove:m,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:nv(this.visualElement)})}stop(i,l){const r=i||this.latestPointerEvent,c=l||this.latestPanInfo,d=this.isDragging;if(this.cancel(),!d||!c||!r)return;const{velocity:f}=c;this.startAnimation(f);const{onDragEnd:m}=this.getProps();m&&Je.postRender(()=>m(r,c))}cancel(){this.isDragging=!1;const{projection:i,animationState:l}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),l&&l.setActive("whileDrag",!1)}updateAxis(i,l,r){const{drag:c}=this.getProps();if(!r||!_r(i,c,this.currentDirection))return;const d=this.getAxisMotionValue(i);let f=this.originPoint[i]+r[i];this.constraints&&this.constraints[i]&&(f=nA(f,this.constraints[i],this.elastic[i])),d.set(f)}resolveConstraints(){var d;const{dragConstraints:i,dragElastic:l}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(d=this.visualElement.projection)==null?void 0:d.layout,c=this.constraints;i&&Xi(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&r?this.constraints=aA(r.layoutBox,i):this.constraints=!1,this.elastic=rA(l),c!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&an(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=lA(r.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:l}=this.getProps();if(!i||!Xi(i))return!1;const r=i.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const d=fT(r,c.root,this.visualElement.getTransformPagePoint());let f=iA(c.layout.layoutBox,d);if(l){const m=l(oT(f));this.hasMutatedConstraints=!!m,m&&(f=ky(m))}return f}startAnimation(i){const{drag:l,dragMomentum:r,dragElastic:c,dragTransition:d,dragSnapToOrigin:f,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},p=an(v=>{if(!_r(v,l,this.currentDirection))return;let b=g&&g[v]||{};f&&(b={min:0,max:0});const S=c?200:1e6,M=c?40:1e7,z={type:"inertia",velocity:r?i[v]:0,bounceStiffness:S,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...d,...b};return this.startAxisValueAnimation(v,z)});return Promise.all(p).then(m)}startAxisValueAnimation(i,l){const r=this.getAxisMotionValue(i);return tf(this.visualElement,i),r.start(kf(i,r,0,l,this.visualElement,!1))}stopAnimation(){an(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){an(i=>{var l;return(l=this.getAxisMotionValue(i).animation)==null?void 0:l.pause()})}getAnimationState(i){var l;return(l=this.getAxisMotionValue(i).animation)==null?void 0:l.state}getAxisMotionValue(i){const l=`_drag${i.toUpperCase()}`,r=this.visualElement.getProps(),c=r[l];return c||this.visualElement.getValue(i,(r.initial?r.initial[i]:void 0)||0)}snapToCursor(i){an(l=>{const{drag:r}=this.getProps();if(!_r(l,r,this.currentDirection))return;const{projection:c}=this.visualElement,d=this.getAxisMotionValue(l);if(c&&c.layout){const{min:f,max:m}=c.layout.layoutBox[l];d.set(i[l]-$e(f,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:l}=this.getProps(),{projection:r}=this.visualElement;if(!Xi(l)||!r||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};an(f=>{const m=this.getAxisMotionValue(f);if(m&&this.constraints!==!1){const g=m.get();c[f]=sA({min:g,max:g},this.constraints[f])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),an(f=>{if(!_r(f,i,null))return;const m=this.getAxisMotionValue(f),{min:g,max:p}=this.constraints[f];m.set($e(g,p,c[f]))})}addListeners(){if(!this.visualElement.current)return;oA.set(this.visualElement,this);const i=this.visualElement.current,l=el(i,"pointerdown",g=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();Xi(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,d=c.addEventListener("measure",r);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),Je.read(r);const f=ol(window,"resize",()=>this.scalePositionWithinConstraints()),m=c.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:p})=>{this.isDragging&&p&&(an(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=g[v].translate,b.set(b.get()+g[v].translate))}),this.visualElement.render())}));return()=>{f(),l(),d(),m&&m()}}getProps(){const i=this.visualElement.getProps(),{drag:l=!1,dragDirectionLock:r=!1,dragPropagation:c=!1,dragConstraints:d=!1,dragElastic:f=af,dragMomentum:m=!0}=i;return{...i,drag:l,dragDirectionLock:r,dragPropagation:c,dragConstraints:d,dragElastic:f,dragMomentum:m}}}function _r(a,i,l){return(i===!0||i===a)&&(l===null||l===a)}function cA(a,i=10){let l=null;return Math.abs(a.y)>i?l="y":Math.abs(a.x)>i&&(l="x"),l}class fA extends Ea{constructor(i){super(i),this.removeGroupControls=ln,this.removeListeners=ln,this.controls=new uA(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kp=a=>(i,l)=>{a&&Je.postRender(()=>a(i,l))};class dA extends Ea{constructor(){super(...arguments),this.removePointerDownListener=ln}onPointerDown(i){this.session=new av(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nv(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:l,onPan:r,onPanEnd:c}=this.node.getProps();return{onSessionStart:Kp(i),onStart:Kp(l),onMove:r,onEnd:(d,f)=>{delete this.session,c&&Je.postRender(()=>c(d,f))}}}mount(){this.removePointerDownListener=el(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Br={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Qp(a,i){return i.max===i.min?0:a/(i.max-i.min)*100}const $s={correct:(a,i)=>{if(!i.target)return a;if(typeof a=="string")if(fe.test(a))a=parseFloat(a);else return a;const l=Qp(a,i.target.x),r=Qp(a,i.target.y);return`${l}% ${r}%`}},hA={correct:(a,{treeScale:i,projectionDelta:l})=>{const r=a,c=Aa.parse(a);if(c.length>5)return r;const d=Aa.createTransformer(a),f=typeof c[0]!="number"?1:0,m=l.x.scale*i.x,g=l.y.scale*i.y;c[0+f]/=m,c[1+f]/=g;const p=$e(m,g,.5);return typeof c[2+f]=="number"&&(c[2+f]/=p),typeof c[3+f]=="number"&&(c[3+f]/=p),d(c)}};let _c=!1;class mA extends C.Component{componentDidMount(){const{visualElement:i,layoutGroup:l,switchLayoutGroup:r,layoutId:c}=this.props,{projection:d}=i;V2(pA),d&&(l.group&&l.group.add(d),r&&r.register&&c&&r.register(d),_c&&d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),Br.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:l,visualElement:r,drag:c,isPresent:d}=this.props,{projection:f}=r;return f&&(f.isPresent=d,_c=!0,c||i.layoutDependency!==l||l===void 0||i.isPresent!==d?f.willUpdate():this.safeToRemove(),i.isPresent!==d&&(d?f.promote():f.relegate()||Je.postRender(()=>{const m=f.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),jf.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:l,switchLayoutGroup:r}=this.props,{projection:c}=i;_c=!0,c&&(c.scheduleCheckAfterUnmount(),l&&l.group&&l.group.remove(c),r&&r.deregister&&r.deregister(c))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function sv(a){const[i,l]=M2(),r=C.useContext(Lg);return y.jsx(mA,{...a,layoutGroup:r,switchLayoutGroup:C.useContext(Gy),isPresent:i,safeToRemove:l})}const pA={borderRadius:{...$s,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$s,borderTopRightRadius:$s,borderBottomLeftRadius:$s,borderBottomRightRadius:$s,boxShadow:hA};function gA(a,i,l){const r=Et(a)?a:$i(a);return r.start(kf("",r,i,l)),r.animation}const yA=(a,i)=>a.depth-i.depth;class vA{constructor(){this.children=[],this.isDirty=!1}add(i){df(this.children,i),this.isDirty=!0}remove(i){hf(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(yA),this.isDirty=!1,this.children.forEach(i)}}function xA(a,i){const l=Vt.now(),r=({timestamp:c})=>{const d=c-l;d>=i&&(Ta(r),a(d-i))};return Je.setup(r,!0),()=>Ta(r)}const lv=["TopLeft","TopRight","BottomLeft","BottomRight"],bA=lv.length,Zp=a=>typeof a=="string"?parseFloat(a):a,Fp=a=>typeof a=="number"||fe.test(a);function SA(a,i,l,r,c,d){c?(a.opacity=$e(0,l.opacity??1,TA(r)),a.opacityExit=$e(i.opacity??1,0,AA(r))):d&&(a.opacity=$e(i.opacity??1,l.opacity??1,r));for(let f=0;f<bA;f++){const m=`border${lv[f]}Radius`;let g=Jp(i,m),p=Jp(l,m);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||Fp(g)===Fp(p)?(a[m]=Math.max($e(Zp(g),Zp(p),r),0),(vn.test(p)||vn.test(g))&&(a[m]+="%")):a[m]=p}(i.rotate||l.rotate)&&(a.rotate=$e(i.rotate||0,l.rotate||0,r))}function Jp(a,i){return a[i]!==void 0?a[i]:a.borderRadius}const TA=rv(0,.5,Fg),AA=rv(.5,.95,ln);function rv(a,i,l){return r=>r<a?0:r>i?1:l(al(a,i,r))}function $p(a,i){a.min=i.min,a.max=i.max}function nn(a,i){$p(a.x,i.x),$p(a.y,i.y)}function Pp(a,i){a.translate=i.translate,a.scale=i.scale,a.originPoint=i.originPoint,a.origin=i.origin}function Ip(a,i,l,r,c){return a-=i,a=kr(a,1/l,r),c!==void 0&&(a=kr(a,1/c,r)),a}function EA(a,i=0,l=1,r=.5,c,d=a,f=a){if(vn.test(i)&&(i=parseFloat(i),i=$e(f.min,f.max,i/100)-f.min),typeof i!="number")return;let m=$e(d.min,d.max,r);a===d&&(m-=i),a.min=Ip(a.min,i,l,m,c),a.max=Ip(a.max,i,l,m,c)}function Wp(a,i,[l,r,c],d,f){EA(a,i[l],i[r],i[c],i.scale,d,f)}const CA=["x","scaleX","originX"],DA=["y","scaleY","originY"];function eg(a,i,l,r){Wp(a.x,i,CA,l?l.x:void 0,r?r.x:void 0),Wp(a.y,i,DA,l?l.y:void 0,r?r.y:void 0)}function tg(a){return a.translate===0&&a.scale===1}function ov(a){return tg(a.x)&&tg(a.y)}function ng(a,i){return a.min===i.min&&a.max===i.max}function NA(a,i){return ng(a.x,i.x)&&ng(a.y,i.y)}function ag(a,i){return Math.round(a.min)===Math.round(i.min)&&Math.round(a.max)===Math.round(i.max)}function uv(a,i){return ag(a.x,i.x)&&ag(a.y,i.y)}function ig(a){return Nt(a.x)/Nt(a.y)}function sg(a,i){return a.translate===i.translate&&a.scale===i.scale&&a.originPoint===i.originPoint}class _A{constructor(){this.members=[]}add(i){df(this.members,i),i.scheduleRender()}remove(i){if(hf(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const l=this.members[this.members.length-1];l&&this.promote(l)}}relegate(i){const l=this.members.findIndex(c=>i===c);if(l===0)return!1;let r;for(let c=l;c>=0;c--){const d=this.members[c];if(d.isPresent!==!1){r=d;break}}return r?(this.promote(r),!0):!1}promote(i,l){const r=this.lead;if(i!==r&&(this.prevLead=r,this.lead=i,i.show(),r)){r.instance&&r.scheduleRender(),i.scheduleRender(),i.resumeFrom=r,l&&(i.resumeFrom.preserveOpacity=!0),r.snapshot&&(i.snapshot=r.snapshot,i.snapshot.latestValues=r.animationValues||r.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:c}=i.options;c===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:l,resumingFrom:r}=i;l.onExitComplete&&l.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MA(a,i,l){let r="";const c=a.x.translate/i.x,d=a.y.translate/i.y,f=(l==null?void 0:l.z)||0;if((c||d||f)&&(r=`translate3d(${c}px, ${d}px, ${f}px) `),(i.x!==1||i.y!==1)&&(r+=`scale(${1/i.x}, ${1/i.y}) `),l){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:S,skewX:M,skewY:z}=l;p&&(r=`perspective(${p}px) ${r}`),v&&(r+=`rotate(${v}deg) `),b&&(r+=`rotateX(${b}deg) `),S&&(r+=`rotateY(${S}deg) `),M&&(r+=`skewX(${M}deg) `),z&&(r+=`skewY(${z}deg) `)}const m=a.x.scale*i.x,g=a.y.scale*i.y;return(m!==1||g!==1)&&(r+=`scale(${m}, ${g})`),r||"none"}const Mc=["","X","Y","Z"],wA=1e3;let jA=0;function wc(a,i,l,r){const{latestValues:c}=i;c[a]&&(l[a]=c[a],i.setStaticValue(a,0),r&&(r[a]=0))}function cv(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:i}=a.options;if(!i)return;const l=Jy(i);if(window.MotionHasOptimisedAnimation(l,"transform")){const{layout:c,layoutId:d}=a.options;window.MotionCancelOptimisedAnimation(l,"transform",Je,!(c||d))}const{parent:r}=a;r&&!r.hasCheckedOptimisedAppear&&cv(r)}function fv({attachResizeListener:a,defaultParent:i,measureScroll:l,checkIsScrollRoot:r,resetTransform:c}){return class{constructor(f={},m=i==null?void 0:i()){this.id=jA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zA),this.nodes.forEach(UA),this.nodes.forEach(GA),this.nodes.forEach(BA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new vA)}addEventListener(f,m){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new gf),this.eventHandlers.get(f).add(m)}notifyListeners(f,...m){const g=this.eventHandlers.get(f);g&&g.notify(...m)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=Dy(f)&&!D2(f),this.instance=f;const{layoutId:m,layout:g,visualElement:p}=this.options;if(p&&!p.current&&p.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),a){let v,b=0;const S=()=>this.root.updateBlockedByResize=!1;Je.read(()=>{b=window.innerWidth}),a(f,()=>{const M=window.innerWidth;M!==b&&(b=M,this.root.updateBlockedByResize=!0,v&&v(),v=xA(S,250),Br.hasAnimatedSinceResize&&(Br.hasAnimatedSinceResize=!1,this.nodes.forEach(og)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&p&&(m||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:S,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const z=this.options.transition||p.getDefaultTransition()||XA,{onLayoutAnimationStart:Y,onLayoutAnimationComplete:B}=p.getProps(),H=!this.targetLayout||!uv(this.targetLayout,M),Q=!b&&S;if(this.options.layoutRoot||this.resumeFrom||Q||b&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const X={...Mf(z,"layout"),onPlay:Y,onComplete:B};(p.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X),this.setAnimationOrigin(v,Q)}else b||og(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HA),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LA),this.nodes.forEach(OA),this.nodes.forEach(RA)):this.nodes.forEach(rg),this.clearAllSnapshots();const m=Vt.now();Tt.delta=Un(0,1e3/60,m-Tt.timestamp),Tt.timestamp=m,Tt.isProcessing=!0,vc.update.process(Tt),vc.preRender.process(Tt),vc.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VA),this.sharedNodes.forEach(kA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=at(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(m=!1),m&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:g,offset:l(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!c)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!ov(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;f&&this.instance&&(m||Za(this.latestValues)||v)&&(c(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return f&&(g=this.removeTransform(g)),KA(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:f}=this.options;if(!f)return at();const m=f.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(QA))){const{scroll:v}=this.root;v&&(Ki(m.x,v.offset.x),Ki(m.y,v.offset.y))}return m}removeElementScroll(f){var g;const m=at();if(nn(m,f),(g=this.scroll)!=null&&g.wasRoot)return m;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:b,options:S}=v;v!==this.root&&b&&S.layoutScroll&&(b.wasRoot&&nn(m,f),Ki(m.x,b.offset.x),Ki(m.y,b.offset.y))}return m}applyTransform(f,m=!1){const g=at();nn(g,f);for(let p=0;p<this.path.length;p++){const v=this.path[p];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Qi(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Za(v.latestValues)&&Qi(g,v.latestValues)}return Za(this.latestValues)&&Qi(g,this.latestValues),g}removeTransform(f){const m=at();nn(m,f);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!Za(p.latestValues))continue;Pc(p.latestValues)&&p.updateSnapshot();const v=at(),b=p.measurePageBox();nn(v,b),eg(m,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Za(this.latestValues)&&eg(m,this.latestValues),m}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var S;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(f||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const M=this.getClosestProjectingParent();M&&M.layout&&this.animationProgress!==1?(this.relativeParent=M,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),nl(this.relativeTargetOrigin,this.layout.layoutBox,M.layout.layoutBox),nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=at(),this.targetWithTransforms=at()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nn(this.target,this.layout.layoutBox),qy(this.target,this.targetDelta)):nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const M=this.getClosestProjectingParent();M&&!!M.resumingFrom==!!this.resumingFrom&&!M.options.layoutScroll&&M.target&&this.animationProgress!==1?(this.relativeParent=M,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),nl(this.relativeTargetOrigin,this.target,M.target),nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Pc(this.parent.latestValues)||Yy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var z;const f=this.getLead(),m=!!this.resumingFrom||this!==f;let g=!0;if((this.isProjectionDirty||(z=this.parent)!=null&&z.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(g=!1),g)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;nn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,S=this.treeScale.y;cT(this.layoutCorrected,this.treeScale,this.path,m),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=at());const{target:M}=f;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pp(this.prevProjectionDelta.x,this.projectionDelta.x),Pp(this.prevProjectionDelta.y,this.projectionDelta.y)),tl(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==S||!sg(this.projectionDelta.x,this.prevProjectionDelta.x)||!sg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),f){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zi(),this.projectionDelta=Zi(),this.projectionDeltaWithTransform=Zi()}setAnimationOrigin(f,m=!1){const g=this.snapshot,p=g?g.latestValues:{},v={...this.latestValues},b=Zi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=at(),M=g?g.source:void 0,z=this.layout?this.layout.source:void 0,Y=M!==z,B=this.getStack(),H=!B||B.members.length<=1,Q=!!(Y&&!H&&this.options.crossfade===!0&&!this.path.some(qA));this.animationProgress=0;let X;this.mixTargetDelta=k=>{const q=k/1e3;ug(b.x,f.x,q),ug(b.y,f.y,q),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nl(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YA(this.relativeTarget,this.relativeTargetOrigin,S,q),X&&NA(this.relativeTarget,X)&&(this.isProjectionDirty=!1),X||(X=at()),nn(X,this.relativeTarget)),Y&&(this.animationValues=v,SA(v,p,this.latestValues,q,Q,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){var m,g,p;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(p=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{Br.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$i(0)),this.currentAnimation=gA(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),f.onUpdate&&f.onUpdate(v)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:m,target:g,layout:p,latestValues:v}=f;if(!(!m||!g||!p)){if(this!==f&&this.layout&&p&&dv(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||at();const b=Nt(this.layout.layoutBox.x);g.x.min=f.target.x.min,g.x.max=g.x.min+b;const S=Nt(this.layout.layoutBox.y);g.y.min=f.target.y.min,g.y.max=g.y.min+S}nn(m,g),Qi(m,v),tl(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(f,m){this.sharedNodes.has(f)||this.sharedNodes.set(f,new _A),this.sharedNodes.get(f).add(m);const p=m.options.initialPromotionConfig;m.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(m):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var m;const{layoutId:f}=this.options;return f?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:f}=this.options;return f?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:m,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),f&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let m=!1;const{latestValues:g}=f;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const p={};g.z&&wc("z",f,p,this.animationValues);for(let v=0;v<Mc.length;v++)wc(`rotate${Mc[v]}`,f,p,this.animationValues),wc(`skew${Mc[v]}`,f,p,this.animationValues);f.render();for(const v in p)f.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);f.scheduleRender()}applyProjectionStyles(f,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=zr(m==null?void 0:m.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=zr(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!Za(this.latestValues)&&(f.transform=g?g({},""):"none",this.hasProjected=!1);return}f.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=MA(this.projectionDeltaWithTransform,this.treeScale,v);g&&(b=g(v,b)),f.transform=b;const{x:S,y:M}=this.projectionDelta;f.transformOrigin=`${S.origin*100}% ${M.origin*100}% 0`,p.animationValues?f.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:f.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const z in rl){if(v[z]===void 0)continue;const{correct:Y,applyTo:B,isCSSVariable:H}=rl[z],Q=b==="none"?v[z]:Y(v[z],p);if(B){const X=B.length;for(let k=0;k<X;k++)f[B[k]]=Q}else H?this.options.visualElement.renderState.vars[z]=Q:f[z]=Q}this.options.layoutId&&(f.pointerEvents=p===this?zr(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var m;return(m=f.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(lg),this.root.sharedNodes.clear()}}}function OA(a){a.updateLayout()}function RA(a){var l;const i=((l=a.resumeFrom)==null?void 0:l.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&i&&a.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:c}=a.layout,{animationType:d}=a.options,f=i.source!==a.layout.source;d==="size"?an(b=>{const S=f?i.measuredBox[b]:i.layoutBox[b],M=Nt(S);S.min=r[b].min,S.max=S.min+M}):dv(d,i.layoutBox,r)&&an(b=>{const S=f?i.measuredBox[b]:i.layoutBox[b],M=Nt(r[b]);S.max=S.min+M,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[b].max=a.relativeTarget[b].min+M)});const m=Zi();tl(m,r,i.layoutBox);const g=Zi();f?tl(g,a.applyTransform(c,!0),i.measuredBox):tl(g,r,i.layoutBox);const p=!ov(m);let v=!1;if(!a.resumeFrom){const b=a.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:S,layout:M}=b;if(S&&M){const z=at();nl(z,i.layoutBox,S.layoutBox);const Y=at();nl(Y,r,M.layoutBox),uv(z,Y)||(v=!0),b.options.layoutRoot&&(a.relativeTarget=Y,a.relativeTargetOrigin=z,a.relativeParent=b)}}}a.notifyListeners("didUpdate",{layout:r,snapshot:i,delta:g,layoutDelta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(a.isLead()){const{onExitComplete:r}=a.options;r&&r()}a.options.transition=void 0}function zA(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function BA(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function VA(a){a.clearSnapshot()}function lg(a){a.clearMeasurements()}function rg(a){a.isLayoutDirty=!1}function LA(a){const{visualElement:i}=a.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),a.resetTransform()}function og(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function UA(a){a.resolveTargetDelta()}function GA(a){a.calcProjection()}function HA(a){a.resetSkewAndRotation()}function kA(a){a.removeLeadSnapshot()}function ug(a,i,l){a.translate=$e(i.translate,0,l),a.scale=$e(i.scale,1,l),a.origin=i.origin,a.originPoint=i.originPoint}function cg(a,i,l,r){a.min=$e(i.min,l.min,r),a.max=$e(i.max,l.max,r)}function YA(a,i,l,r){cg(a.x,i.x,l.x,r),cg(a.y,i.y,l.y,r)}function qA(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const XA={duration:.45,ease:[.4,0,.1,1]},fg=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),dg=fg("applewebkit/")&&!fg("chrome/")?Math.round:ln;function hg(a){a.min=dg(a.min),a.max=dg(a.max)}function KA(a){hg(a.x),hg(a.y)}function dv(a,i,l){return a==="position"||a==="preserve-aspect"&&!PT(ig(i),ig(l),.2)}function QA(a){var i;return a!==a.root&&((i=a.scroll)==null?void 0:i.wasRoot)}const ZA=fv({attachResizeListener:(a,i)=>ol(a,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jc={current:void 0},hv=fv({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!jc.current){const a=new ZA({});a.mount(window),a.setOptions({layoutScroll:!0}),jc.current=a}return jc.current},resetTransform:(a,i)=>{a.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),FA={pan:{Feature:dA},drag:{Feature:fA,ProjectionNode:hv,MeasureLayout:sv}};function mg(a,i,l){const{props:r}=a;a.animationState&&r.whileHover&&a.animationState.setActive("whileHover",l==="Start");const c="onHover"+l,d=r[c];d&&Je.postRender(()=>d(i,dl(i)))}class JA extends Ea{mount(){const{current:i}=this.node;i&&(this.unmount=S2(i,(l,r)=>(mg(this.node,r,"Start"),c=>mg(this.node,c,"End"))))}unmount(){}}class $A extends Ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ul(ol(this.node.current,"focus",()=>this.onFocus()),ol(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pg(a,i,l){const{props:r}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&r.whileTap&&a.animationState.setActive("whileTap",l==="Start");const c="onTap"+(l==="End"?"":l),d=r[c];d&&Je.postRender(()=>d(i,dl(i)))}class PA extends Ea{mount(){const{current:i}=this.node;i&&(this.unmount=C2(i,(l,r)=>(pg(this.node,r,"Start"),(c,{success:d})=>pg(this.node,c,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sf=new WeakMap,Oc=new WeakMap,IA=a=>{const i=sf.get(a.target);i&&i(a)},WA=a=>{a.forEach(IA)};function eE({root:a,...i}){const l=a||document;Oc.has(l)||Oc.set(l,{});const r=Oc.get(l),c=JSON.stringify(i);return r[c]||(r[c]=new IntersectionObserver(WA,{root:a,...i})),r[c]}function tE(a,i,l){const r=eE(i);return sf.set(a,l),r.observe(a),()=>{sf.delete(a),r.unobserve(a)}}const nE={some:0,all:1};class aE extends Ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:l,margin:r,amount:c="some",once:d}=i,f={root:l?l.current:void 0,rootMargin:r,threshold:typeof c=="number"?c:nE[c]},m=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,d&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),S=p?v:b;S&&S(g)};return tE(this.node.current,f,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:l}=this.node;["amount","margin","root"].some(iE(i,l))&&this.startObserver()}unmount(){}}function iE({viewport:a={}},{viewport:i={}}={}){return l=>a[l]!==i[l]}const sE={inView:{Feature:aE},tap:{Feature:PA},focus:{Feature:$A},hover:{Feature:JA}},lE={layout:{ProjectionNode:hv,MeasureLayout:sv}},rE={...KT,...sE,...FA,...lE},ga=rT(rE,bT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uE=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,l,r)=>r?r.toUpperCase():l.toLowerCase()),gg=a=>{const i=uE(a);return i.charAt(0).toUpperCase()+i.slice(1)},mv=(...a)=>a.filter((i,l,r)=>!!i&&i.trim()!==""&&r.indexOf(i)===l).join(" ").trim(),cE=a=>{for(const i in a)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=C.forwardRef(({color:a="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:c="",children:d,iconNode:f,...m},g)=>C.createElement("svg",{ref:g,...fE,width:i,height:i,stroke:a,strokeWidth:r?Number(l)*24/Number(i):l,className:mv("lucide",c),...!d&&!cE(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,v])=>C.createElement(p,v)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=(a,i)=>{const l=C.forwardRef(({className:r,...c},d)=>C.createElement(dE,{ref:d,iconNode:i,className:mv(`lucide-${oE(gg(a))}`,`lucide-${a}`,r),...c}));return l.displayName=gg(a),l};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],mE=hl("book",hE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],gE=hl("folder-open",pE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],vE=hl("play",yE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bE=hl("settings",xE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],TE=hl("sparkles",SE),pv=C.memo(({petalCount:a=30})=>{const i=C.useMemo(()=>Array.from({length:a},(l,r)=>{const c=["small","","large"][Math.floor(Math.random()*3)],d=Math.random()*100,f=Math.random()*10,m=8+Math.random()*7;return{id:r,size:c,style:{left:`${d}%`,animationDelay:`${f}s`,animationDuration:`${m}s`}}}),[a]);return y.jsx("div",{className:"sakura-container",children:i.map(l=>y.jsx("div",{className:`sakura-petal ${l.size}`,style:l.style},l.id))})});pv.displayName="SakuraEffect";const Yf="ai_novel_save_",gv="ai_novel_save_index",lf=3,ts=()=>{try{const a=localStorage.getItem(gv);return a?JSON.parse(a):{}}catch{return{}}},yv=a=>{localStorage.setItem(gv,JSON.stringify(a))},AE=a=>{const i=ts();return i[a]?i[a]:{scriptId:a,slots:Array.from({length:lf},(l,r)=>({slotIndex:r,saveData:null}))}},vv=(a,i,l)=>{if(i<0||i>=lf)throw new Error(`Invalid slot index: ${i}`);const r={...l,id:`${a}_${i}`,timestamp:Date.now()},c=`${Yf}${a}_${i}`;localStorage.setItem(c,JSON.stringify(r));const d=ts();return d[a]||(d[a]={scriptId:a,slots:Array.from({length:lf},(f,m)=>({slotIndex:m,saveData:null}))}),d[a].slots[i]={slotIndex:i,saveData:r},d[a].lastPlayedSlot=i,yv(d),r},yg=(a,i)=>{try{const l=`${Yf}${a}_${i}`,r=localStorage.getItem(l);return r?JSON.parse(r):null}catch{return null}},vg=(a,i)=>{var c;const l=`${Yf}${a}_${i}`;localStorage.removeItem(l);const r=ts();(c=r[a])!=null&&c.slots[i]&&(r[a].slots[i].saveData=null,yv(r))},EE=()=>{const a=ts();return Object.values(a).some(i=>i.slots.some(l=>l.saveData!==null))},CE=()=>{const a=ts();let i=null,l=0;return Object.values(a).forEach(r=>{r.slots.forEach(c=>{c.saveData&&c.saveData.timestamp>l&&(l=c.saveData.timestamp,i=c.saveData)})}),i},xg=a=>{const i=new Date(a),l=i.getFullYear(),r=String(i.getMonth()+1).padStart(2,"0"),c=String(i.getDate()).padStart(2,"0"),d=String(i.getHours()).padStart(2,"0"),f=String(i.getMinutes()).padStart(2,"0");return`${l}/${r}/${c} ${d}:${f}`},DE=Re("/stories/02_princess_elena/expressions/smiling.png"),xv=C.memo(({hasApiKey:a,isLoading:i,error:l,onStart:r,onErrorClose:c,onOpenScriptLibrary:d,onOpenSettings:f,onContinueGame:m})=>{const[g,p]=C.useState(!1),[v,b]=C.useState(null);C.useEffect(()=>{p(EE()),b(CE())},[]);const S=()=>{v&&m&&m(v)};return y.jsxs("div",{className:"relative w-full h-screen flex items-center overflow-hidden font-sans bg-[#0f172a]",children:[y.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=1920')] bg-cover bg-center opacity-40"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#0f172a] via-[#0f172a]/80 to-transparent"})]}),y.jsx(pv,{petalCount:20}),y.jsxs(ga.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"absolute right-[-10%] md:right-0 bottom-0 w-full md:w-2/3 h-[90%] flex items-end justify-center pointer-events-none z-10",children:[y.jsx("div",{className:"absolute bottom-0 w-[600px] h-[600px] bg-pink-500/10 rounded-full blur-[100px]"}),y.jsx("img",{src:DE,alt:"",className:"h-full w-auto object-contain drop-shadow-[0_0_20px_rgba(0,0,0,0.5)]"})]}),y.jsxs("div",{className:"relative z-20 pl-8 md:pl-24 w-full max-w-5xl flex flex-col items-start justify-center h-full",children:[y.jsxs(ga.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8,type:"spring"},className:"mb-12 relative",children:[y.jsx("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter leading-none text-white drop-shadow-[0_0_15px_rgba(236,72,153,0.6)]",children:y.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-br from-white to-pink-200",children:""})}),y.jsx("h2",{className:"text-2xl md:text-3xl font-bold italic text-pink-400 mt-4 tracking-[0.2em] uppercase",children:"Gala Block Master"}),y.jsx("div",{className:"h-1.5 w-24 bg-pink-500 mt-4 rounded-full shadow-[0_0_10px_rgba(236,72,153,0.8)]"})]}),y.jsxs(ga.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"mb-10 backdrop-blur-md bg-slate-900/40 border-l-4 border-pink-500 rounded-r-xl p-6 max-w-xl shadow-lg",children:[y.jsxs("div",{className:"flex items-center gap-2 text-pink-300 font-bold mb-1 text-lg",children:[y.jsx(TE,{size:18}),y.jsx("span",{children:"AI "})]}),y.jsx("p",{className:"text-slate-200 text-lg font-medium tracking-wide",children:""})]}),a?y.jsxs("div",{className:"flex flex-col gap-5 w-full max-w-md",children:[y.jsxs(ga.button,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.4},whileHover:{scale:1.02,x:10},whileTap:{scale:.98},onClick:d,disabled:i,className:"group relative w-full py-4 px-6 bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 text-white text-left rounded-xl shadow-lg border border-white/10 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),y.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"p-2 bg-white/20 rounded-full",children:i?y.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):y.jsx(mE,{size:24})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xl font-bold",children:" (Select)"}),y.jsx("div",{className:"text-xs text-pink-100 font-mono opacity-80",children:""})]})]}),y.jsx("div",{className:"text-2xl opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-[-10px] group-hover:translate-x-0",children:""})]})]}),g&&v&&y.jsxs(ga.button,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.5},whileHover:{scale:1.02,x:10},whileTap:{scale:.98},onClick:S,disabled:i,className:"group relative w-full py-4 px-6 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white text-left rounded-xl shadow-lg border border-white/10 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),y.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"p-2 bg-white/20 rounded-full",children:y.jsx(vE,{size:24,fill:"currentColor"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xl font-bold",children:" (Continue)"}),y.jsxs("div",{className:"text-xs text-emerald-100 font-mono opacity-80",children:[v.scriptTitle,"  ",v.chapterIndex+1,""]})]})]}),y.jsx("div",{className:"text-2xl opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-[-10px] group-hover:translate-x-0",children:""})]})]}),y.jsx(ga.button,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:g?.6:.5},whileHover:{scale:1.02,x:10},whileTap:{scale:.98},onClick:r,disabled:i||!g,className:`group relative w-full py-4 px-6 backdrop-blur-md text-white text-left rounded-xl shadow-lg border overflow-hidden transition-colors
              ${g?"bg-slate-800/60 hover:bg-slate-700/80 border-white/10 hover:border-cyan-400/50":"bg-slate-800/30 border-slate-700/30 cursor-not-allowed opacity-50"}`,children:y.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[y.jsx("div",{className:"p-2 bg-slate-700/50 rounded-full group-hover:bg-cyan-900/50 transition-colors",children:y.jsx(gE,{size:24,className:"text-slate-300 group-hover:text-cyan-300"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-lg font-bold text-slate-200 group-hover:text-white",children:" (Load)"}),y.jsx("div",{className:"text-xs text-slate-400 font-mono group-hover:text-cyan-200",children:g?"":""})]})]})}),y.jsx(ga.button,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.6},whileHover:{scale:1.02,x:10},whileTap:{scale:.98},onClick:f,disabled:i,className:"group relative w-full py-4 px-6 bg-slate-800/40 hover:bg-slate-700/60 backdrop-blur-md text-white text-left rounded-xl shadow-lg border border-white/5 hover:border-purple-400/50 overflow-hidden transition-colors",children:y.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[y.jsx("div",{className:"p-2 bg-slate-700/30 rounded-full group-hover:bg-purple-900/30 transition-colors",children:y.jsx(bE,{size:24,className:"text-slate-400 group-hover:text-purple-300"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-lg font-bold text-slate-300 group-hover:text-white",children:" (Settings)"}),y.jsx("div",{className:"text-xs text-slate-500 font-mono group-hover:text-purple-200",children:""})]})]})})]}):y.jsxs("div",{className:"p-6 bg-red-900/80 border-l-4 border-red-500 rounded-r-lg text-white mb-8 backdrop-blur-md max-w-lg",children:[y.jsx("h3",{className:"font-bold text-xl mb-2 flex items-center gap-2",children:" "}),y.jsxs("p",{children:[" ","VITE_OPENROUTER_API_KEY"," "]})]}),y.jsxs(ga.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-10 text-slate-500/60 text-xs font-mono tracking-widest uppercase",children:["Powered by ","Gemini 2.5 (OpenRouter)","  GALA ENGINE V3.0"]})]}),y.jsx(of,{isLoading:i}),y.jsx(uf,{error:l,onClose:c}),y.jsx("style",{children:`
      .text-outline {
        text-shadow: 
          -1px -1px 0 #000,  
           1px -1px 0 #000,
          -1px  1px 0 #000,
           1px  1px 0 #000;
      }
    `})]})});xv.displayName="MainMenu";const bv="gala_game_records",Sv=()=>{try{const a=localStorage.getItem(bv);if(a)return JSON.parse(a)}catch(a){console.error("Failed to load game records:",a)}return[]},NE=a=>Sv().filter(i=>i.scriptId===a),_E=a=>{const i=NE(a);return i.length===0?null:i.sort((r,c)=>{const d={good:3,normal:2,bad:1},f=d[c.endingType]-d[r.endingType];return f!==0?f:c.finalAffection-r.finalAffection})[0]},ME=a=>{const i={...a,id:`record_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,completedAt:Date.now()},l=Sv();return l.push(i),localStorage.setItem(bv,JSON.stringify(l)),i},Tv=a=>a>=70?"good":a>=40?"normal":"bad",Av=a=>{switch(a){case"good":return" ";case"normal":return" ";case"bad":return" "}},Ev=C.memo(({narrative:a,affection:i,turnsPlayed:l,characterName:r,onReturnToTitle:c})=>{const d=Tv(i),f=Av(d),m=d==="good"?"from-pink-900/50 via-black to-purple-900/50":d==="normal"?"from-blue-900/50 via-black to-slate-900/50":"from-red-900/50 via-black to-slate-900/50";return y.jsxs("div",{className:`relative w-full h-screen bg-gradient-to-br ${m} flex flex-col items-center justify-center text-center p-8`,children:[y.jsx("div",{className:`text-6xl mb-4 ${d==="good"?"animate-pulse":""}`,children:d==="good"?"":d==="normal"?"":""}),y.jsx("h1",{className:"text-5xl text-white font-serif mb-2",children:""}),y.jsx("p",{className:`text-2xl mb-6 font-bold ${d==="good"?"text-pink-400":d==="normal"?"text-blue-400":"text-red-400"}`,children:f}),y.jsxs("p",{className:"text-slate-400 mb-8 italic max-w-lg",children:['"',a,'"']}),y.jsx("div",{className:"bg-slate-900/50 rounded-xl p-6 mb-8 border border-slate-700",children:y.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-pink-400",children:i}),y.jsx("div",{className:"text-sm text-slate-500",children:""})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-amber-400",children:l}),y.jsx("div",{className:"text-sm text-slate-500",children:""})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-purple-400",children:r}),y.jsx("div",{className:"text-sm text-slate-500",children:""})]})]})}),y.jsx("button",{onClick:c,className:"px-8 py-3 bg-gradient-to-r from-pink-600 to-purple-600 text-white rounded-full font-bold hover:opacity-90 transition-opacity",children:" "})]})});Ev.displayName="GameOverScreen";const qf=C.memo(()=>{const{theme:a,setTheme:i,availableThemes:l}=Qr();return y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("label",{className:"text-white/80 text-sm font-medium",children:" UI"}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.map(r=>y.jsx("button",{onClick:()=>i(r),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${a===r?"ring-2 ring-pink-500 ring-offset-2 ring-offset-slate-900":"hover:bg-white/10"}`,style:{background:Yi[r].dialogueBox.background,border:Yi[r].dialogueBox.border,color:Yi[r].dialogueBox.textColor},children:Yi[r].name},r))})]})});qf.displayName="ThemeSwitcher";const Cv=C.memo(({isVisible:a,dialogueOpacity:i,onResume:l,onReturnToTitle:r,onOpacityChange:c,onSave:d,onLoad:f,onQuickSaveAndExit:m,canSave:g=!0})=>a?y.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-slate-800/95 rounded-2xl shadow-2xl p-8 w-full max-w-md border border-slate-700",children:[y.jsx("h2",{className:"text-3xl font-bold text-center text-amber-400 mb-8",children:" "}),y.jsxs("div",{className:"mb-6 p-4 bg-slate-900/50 rounded-xl",children:[y.jsxs("label",{className:"block text-slate-300 mb-3 font-medium",children:[" : ",i,"%"]}),y.jsx("input",{type:"range",min:"30",max:"100",value:i,onChange:p=>c(Number(p.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-amber-500"}),y.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[y.jsx("span",{children:""}),y.jsx("span",{children:""})]})]}),y.jsx("div",{className:"mb-8 p-4 bg-slate-900/50 rounded-xl",children:y.jsx(qf,{})}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("button",{onClick:l,className:"w-full py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl font-bold text-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:" "}),y.jsxs("div",{className:"flex gap-3",children:[d&&y.jsx("button",{onClick:d,disabled:!g,className:`flex-1 py-3 rounded-xl font-bold text-lg transition-opacity flex items-center justify-center gap-2
                  ${g?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:opacity-90":"bg-slate-700 text-slate-400 cursor-not-allowed"}`,children:" "}),f&&y.jsx("button",{onClick:f,className:"flex-1 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 text-white rounded-xl font-bold text-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:" "})]}),m&&g&&y.jsx("button",{onClick:m,className:"w-full py-3 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-xl font-bold text-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:" "}),y.jsx("button",{onClick:r,className:"w-full py-4 bg-gradient-to-r from-slate-600 to-slate-700 text-white rounded-xl font-bold text-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:" "})]})]})}):null);Cv.displayName="PauseMenu";const Dv=C.memo(({isVisible:a,history:i,onClose:l,onJumpToHistory:r,canJump:c=!1})=>{const[d,f]=C.useState(null),m=C.useRef(null);C.useEffect(()=>{a&&m.current&&(m.current.scrollTop=m.current.scrollHeight),f(null)},[a]);const g=p=>{d===p?(r==null||r(p),l()):f(p)};return a?y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-slate-800/95 rounded-2xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col border border-slate-700",children:[y.jsxs("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between",children:[y.jsx("h2",{className:"text-2xl font-bold text-amber-400 flex items-center gap-2",children:" "}),y.jsx("button",{onClick:l,className:"w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-600 transition-colors",children:""})]}),y.jsx("div",{ref:m,className:"flex-1 overflow-y-auto p-6 space-y-4",children:i.length===0?y.jsx("div",{className:"text-center text-slate-500 py-8",children:""}):i.map((p,v)=>{const b=c&&p.historyChapterIndex!==void 0&&v<i.length-1,S=d===v;return y.jsxs("div",{className:"space-y-2 group relative",children:[p.narrative&&y.jsx("div",{className:"text-slate-400 text-sm italic px-4 py-2 bg-slate-900/50 rounded-lg",children:p.narrative}),y.jsxs("div",{className:`flex gap-3 ${p.speaker===""?"flex-row-reverse":""}`,children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg shrink-0 ${p.speaker===""?"bg-blue-600":p.speaker===""?"bg-slate-600":"bg-pink-600"}`,children:p.speaker===""?"":p.speaker===""?"":""}),y.jsxs("div",{className:`flex-1 max-w-[80%] ${p.speaker===""?"text-right":""}`,children:[y.jsx("div",{className:"text-xs text-slate-500 mb-1",children:p.speaker}),y.jsx("div",{className:`inline-block px-4 py-3 rounded-2xl ${p.speaker===""?"bg-blue-600 text-white rounded-tr-none":p.speaker===""?"bg-slate-700 text-slate-300 rounded-tl-none":"bg-pink-600/20 text-pink-100 border border-pink-500/30 rounded-tl-none"}`,children:p.dialogue})]}),b&&y.jsx("button",{onClick:()=>g(v),className:`shrink-0 px-3 py-1 rounded-lg text-xs font-medium transition-all
                          ${S?"bg-amber-500 text-white":"bg-slate-700/50 text-slate-400 opacity-0 group-hover:opacity-100 hover:bg-slate-600 hover:text-white"}`,children:S?"?":" "})]})]},v)})}),y.jsx("div",{className:"p-4 border-t border-slate-700",children:y.jsx("button",{onClick:l,className:"w-full py-3 bg-slate-700 text-slate-300 rounded-xl font-medium hover:bg-slate-600 transition-colors",children:""})})]})}):null});Dv.displayName="HistoryPanel";const Nv=C.memo(({ending:a,affection:i,turnsPlayed:l,characterName:r,scriptTitle:c,onReturnToTitle:d})=>{const f=a.type==="true_end",m=f?"from-rose-900/60 via-black to-amber-900/40":"from-blue-900/50 via-black to-slate-900/50";return y.jsxs("div",{className:`relative w-full h-screen bg-gradient-to-br ${m} flex flex-col items-center justify-center text-center p-8 overflow-hidden`,children:[y.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:f&&y.jsx(y.Fragment,{children:Array.from({length:20}).map((g,p)=>y.jsx("div",{className:"absolute w-2 h-2 bg-amber-400/30 rounded-full animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${5+Math.random()*5}s`}},p))})}),y.jsx("div",{className:`text-8xl mb-6 ${f?"animate-pulse":""}`,children:f?"":""}),y.jsx("p",{className:"text-amber-400/80 text-sm mb-2 tracking-widest uppercase",children:c}),y.jsx("h1",{className:"text-5xl text-white font-serif mb-4 drop-shadow-lg",children:a.title}),y.jsx("div",{className:`px-4 py-1 rounded-full text-sm font-bold mb-6 ${f?"bg-gradient-to-r from-amber-500 to-rose-500 text-white":"bg-slate-700 text-slate-300"}`,children:f?" TRUE END":"NORMAL END"}),y.jsx("div",{className:"max-w-md mb-8 space-y-2",children:a.description.split(`
`).map((g,p)=>y.jsx("p",{className:"text-slate-300 text-lg",children:g},p))}),y.jsx("div",{className:"bg-black/40 backdrop-blur-sm rounded-2xl p-6 mb-8 border border-white/10",children:y.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"text-3xl font-bold text-rose-400",children:[" ",i]}),y.jsx("div",{className:"text-xs text-slate-500 mt-1",children:""})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-amber-400",children:l}),y.jsx("div",{className:"text-xs text-slate-500 mt-1",children:""})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-purple-400",children:r}),y.jsx("div",{className:"text-xs text-slate-500 mt-1",children:""})]})]})}),y.jsx("button",{onClick:d,className:"px-10 py-4 bg-gradient-to-r from-rose-600 to-amber-600 text-white rounded-full font-bold text-lg hover:scale-105 transition-transform shadow-lg shadow-rose-900/50",children:" "}),y.jsx("p",{className:"absolute bottom-4 text-slate-600 text-xs",children:" "})]})});Nv.displayName="ScriptEndingScreen";const Yr="gala_script_library",_v="gala_generated_plots",Xf="gala_script_mode_overrides",wE=["default","preset_tsundere","preset_princess","preset_courtesan"],jE={id:"preset_tsundere",name:" ",description:"",plotFramework:"",character:{name:"",personality:"",appearance:"",relationship:""},setting:"",createdAt:Date.now(),updatedAt:Date.now()},OE={id:"preset_princess",name:" ",description:"",plotFramework:"",character:{name:"",personality:"",appearance:"S",relationship:""},setting:"",createdAt:Date.now(),updatedAt:Date.now()},RE={id:"preset_courtesan",name:" ",description:"",plotFramework:"",character:{name:"",personality:"",appearance:"",relationship:""},setting:"",createdAt:Date.now(),updatedAt:Date.now()},bg=[jE,OE,RE],Ji=a=>wE.includes(a),Kf=()=>{try{const a=localStorage.getItem(Xf);return a?JSON.parse(a):{}}catch{return{}}},zE=(a,i)=>{const l=Kf();l[a]=!0,localStorage.setItem(Xf,JSON.stringify(l))},BE=a=>{const i=Kf();delete i[a],localStorage.setItem(Xf,JSON.stringify(i))},Qf=()=>{try{const a=localStorage.getItem(_v);return a?JSON.parse(a):{}}catch{return{}}},VE=(a,i)=>{const l=Qf();l[a]=i,localStorage.setItem(_v,JSON.stringify(l))},Sg=a=>{const i=Qf();return!!i[a]&&i[a].length>100},xa=()=>{try{const a=localStorage.getItem(Yr);let i=[];a&&(i=JSON.parse(a),i=i.filter(f=>!Ji(f.id)));const l=Kf(),r=Qf(),c=bg.map(f=>({...f,plotFramework:r[f.id]||f.plotFramework,useAIMode:l[f.id]})),d=i.map(f=>({...f,useAIMode:f.useAIMode??l[f.id]}));return[...c,...d]}catch(a){console.error("Failed to load scripts:",a)}return[...bg]},Mv=a=>{const i=xa(),l=i.findIndex(r=>r.id===a.id);l>=0?i[l]={...a,updatedAt:Date.now()}:i.push({...a,createdAt:Date.now(),updatedAt:Date.now()}),localStorage.setItem(Yr,JSON.stringify(i))},LE=Mv,UE=a=>{if(Ji(a))return!1;const i=localStorage.getItem(Yr);if(!i)return!1;const r=JSON.parse(i).filter(c=>c.id!==a);return localStorage.setItem(Yr,JSON.stringify(r)),!0},GE=(a,i,l,r,c="",d)=>{const f={id:`script_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:a,description:c,plotFramework:l,character:i,setting:r,createdAt:Date.now(),updatedAt:Date.now(),useAIMode:d};return Mv(f),f},HE=(a,i)=>`

${a.name}
${a.personality}
${a.appearance}
${a.relationship}
${i}

100`,kE="modulepreload",YE=function(a){return"/ai_novel/"+a},Tg={},qE=function(i,l,r){let c=Promise.resolve();if(l&&l.length>0){let f=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));c=f(l.map(p=>{if(p=YE(p),p in Tg)return;Tg[p]=!0;const v=p.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":kE,v||(S.as="script"),S.crossOrigin="",S.href=p,g&&S.setAttribute("nonce",g),document.head.appendChild(S),v)return new Promise((M,z)=>{S.addEventListener("load",M),S.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&d(m.reason);return i().catch(d)})},wv=()=>"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",XE=`
Galgame
15-40



 - 
1. "...""..."
2. 
3. ""
4. 
5. Narrative


1. dialogueSequence  15-40 
2. 
3. 
4. 
5. 2-3


neutral() | happy() | sad() | angry() | blush() | surprised() | shy() | fear()

 - 
: school_rooftop() | classroom() | school_gate() | school_corridor() | library() | street_sunset() | riverside() | convenience_store() | cafe() | park_night() | train_station() | bedroom()
: palace_hall() | palace_garden() | palace_balcony() | castle_corridor() | royal_bedroom() | training_ground() | abandoned_garden()

 JSON 
{
  "narrative": "",
  "background": "",
  "bgm": "daily|happy|sad|tense|romantic|mysterious",
  "dialogueSequence": [
    {"speaker": "||", "dialogue": "", "expression": ""}
  ],
  "affectionChange": 0,
  "isGameOver": false,
  "choices": [{"text": "", "sentiment": "positive|neutral|negative"}]
}
`,jv=async a=>null,Ov=async a=>{throw new Error("Plot framework generation not supported for OpenRouter yet")};let qr=null,Bt=null;const Rv=(a,i,l,r)=>{Bt={name:a,personality:i,setting:l},qr=`

${a}
${i}
${l}
${r}

""

 JSON 

: school_rooftop, classroom, school_gate, school_corridor, library, street_sunset, riverside, convenience_store, cafe, park_night, train_station, bedroom
: palace_hall, palace_garden, palace_balcony, castle_corridor, royal_bedroom, training_ground, abandoned_garden
neutral, happy, sad, angry, blush, surprised, shy, fear
 BGM daily, happy, sad, tense, romantic, mysterious


1. narrative 
2. speaker "${a}"""""
3. dialogue 
4. affectionChange  -5  +5
5.  2-3 
6.  isGameOver  true
7.  15-40 
`},zv=()=>{qr=null,Bt=null},Sa=a=>{var i,l;return{...a,narrative:a.narrative?jr(a.narrative):a.narrative,dialogueSequence:((i=a.dialogueSequence)==null?void 0:i.map(r=>({...r,dialogue:jr(r.dialogue)})))||[],choices:((l=a.choices)==null?void 0:l.map(r=>({...r,text:jr(r.text)})))||[]}};let va=[];const Zf=async(a,i=!1)=>KE(a,i),KE=async(a,i=!1)=>{var p,v,b;const l=wv();i&&(va=[]);const c=[{role:"system",content:qr?qr.replace(`
1. narrative `,`
1.  15-40 dialogueSequence
2. 
3. narrative `):XE},...va,{role:"user",content:a}],d=await fetch(`${wg}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"AI Novel Game"},body:JSON.stringify({model:jg,messages:c,temperature:S1,response_format:{type:"json_object"}})});if(!d.ok){const S=await d.text();throw console.error("OpenRouter API error:",d.status,S),new Error(`OpenRouter API error: ${d.status}`)}const m=(b=(v=(p=(await d.json()).choices)==null?void 0:p[0])==null?void 0:v.message)==null?void 0:b.content;if(!m)throw new Error("Empty response from OpenRouter");va.push({role:"user",content:a}),va.push({role:"assistant",content:m}),va.length>20&&(va=va.slice(-16));let g;try{g=JSON.parse(m)}catch{throw console.error("Failed to parse JSON:",m),new Error("Failed to parse JSON response from OpenRouter")}if(!g.dialogueSequence||!Array.isArray(g.dialogueSequence))throw new Error("Invalid dialogueSequence in response");return(!g.choices||!Array.isArray(g.choices)||g.choices.length===0)&&(console.warn("[OpenRouter] choices"),g.choices=[{text:"",sentiment:"positive"},{text:"",sentiment:"neutral"},{text:"",sentiment:"neutral"}]),console.log(`[OpenRouter]  ${g.dialogueSequence.length}  ${g.choices.length} `),Sa(g)},Xr=async(a,i)=>{const l=(Bt==null?void 0:Bt.name)||"";let r="";i==="positive"?r=`${l}`:i==="negative"?r=`${l}`:r=`${l}`;const c=`

"${a}"
${i}

${r}


1. 15-40
2. 
3. 
4. 
5. 
6. 2-3

`;return Zf(c,!1)},Kr=async()=>{const a=(Bt==null?void 0:Bt.name)||"",i=(Bt==null?void 0:Bt.personality)||"",l=(Bt==null?void 0:Bt.setting)||"",r=`

${a}
${i}  
${l}

${a}


1. 15-40
2. 
3. 
4. 
5. 
6. 3

`;return Zf(r,!0)},Bv=()=>{va=[]},Vv=async(a,i,l,r,c,d)=>{d==null||d("...");const f=`


- ${a}
- ${i}
- ${l}
- ${r}
- ${c}


1.  8-10 
2.  400-600  4000-5000 
3. ///HE
4. 
5.  2-3 
6. 
7. 



...


...

1xxx
2xxx
3xxx

...

`;try{if(b1!=="gemini")return await QE(f,d)}catch(m){throw console.error(":",m),m}};async function QE(a,i){var f,m,g;const l=wv();i==null||i(" OpenRouter API...");const r=await fetch(`${wg}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`,"HTTP-Referer":window.location.origin,"X-Title":"AI Visual Novel"},body:JSON.stringify({model:jg,messages:[{role:"user",content:a}],temperature:.8,max_tokens:8192})});if(!r.ok)throw new Error(`OpenRouter API : ${r.status}`);const d=((g=(m=(f=(await r.json()).choices)==null?void 0:f[0])==null?void 0:m.message)==null?void 0:g.content)||"";return i==null||i(""),d}const ZE=Object.freeze(Object.defineProperty({__proto__:null,cleanBatchDialogueData:Sa,generateBatchDialogue:Zf,generateBranchDialogue:Xr,generateFullPlot:Vv,generatePlotFramework:Ov,generateSpeech:jv,resetBatchHistory:Bv,resetToDefaultScript:zv,setCustomScript:Rv,startNewGameBatch:Kr},Symbol.toStringTag,{value:"Module"})),Ff=C.memo(({onSave:a,onCancel:i,onGeneratePlot:l,initialScript:r,isEditing:c=!1})=>{const[d,f]=C.useState((r==null?void 0:r.name)||""),[m,g]=C.useState((r==null?void 0:r.description)||""),[p,v]=C.useState(!1),[b,S]=C.useState((r==null?void 0:r.useAIMode)??!0),M=c&&r?Ji(r.id):!1,z=c?!M:!0,[Y,B]=C.useState((r==null?void 0:r.setting)||""),[H,Q]=C.useState((r==null?void 0:r.plotFramework)||""),[X,k]=C.useState(!1),[q,ne]=C.useState((r==null?void 0:r.character)||{name:"",personality:"",appearance:"",relationship:""}),Z=(ie,we)=>{ne(Ae=>({...Ae,[ie]:we}))},I=async()=>{if(!q.name||!q.personality){alert("");return}k(!0);try{const ie=HE(q,Y),we=await l(ie);Q(we)}catch(ie){console.error(":",ie),alert("")}finally{k(!1)}},oe=async()=>{if(!d.trim()){alert("");return}if(!q.name.trim()){alert("");return}v(!0);try{if(c&&r){const ie={name:d,description:m,plotFramework:H,useAIMode:b};M||(ie.setting=Y,ie.character=q);const we={...r,...ie};LE(we),a(we)}else{const ie=GE(d,q,H,Y,m,b);a(ie)}}catch(ie){console.error(":",ie),alert("")}finally{v(!1)}};return y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"p-6 border-b border-slate-700",children:[y.jsx("h2",{className:"text-2xl font-bold text-amber-400",children:c?" ":" "}),y.jsx("p",{className:"text-slate-400 mt-1",children:c?M?"":"":""})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-slate-200 flex items-center gap-2",children:" "}),y.jsx("input",{type:"text",placeholder:" *",value:d,onChange:ie=>f(ie.target.value),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-slate-100 placeholder-slate-400 focus:outline-none focus:border-amber-500"}),y.jsx("input",{type:"text",placeholder:"",value:m,onChange:ie=>g(ie.target.value),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-slate-100 placeholder-slate-400 focus:outline-none focus:border-amber-500"}),y.jsx("input",{type:"text",placeholder:"",value:Y,onChange:ie=>B(ie.target.value),disabled:M,className:`w-full px-4 py-3 border rounded-lg placeholder-slate-400 focus:outline-none focus:border-amber-500 ${M?"bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed":"bg-slate-700 border-slate-600 text-slate-100"}`}),M&&y.jsx("p",{className:"text-xs text-slate-500",children:""}),!c&&y.jsxs("div",{className:"mt-4 p-4 bg-slate-900/50 rounded-lg border border-slate-700",children:[y.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:""}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("label",{className:`flex-1 cursor-pointer rounded-lg border-2 p-3 transition-all ${b?"border-amber-500 bg-amber-500/10":"border-slate-600 bg-slate-800/50 hover:border-slate-500"}`,children:[y.jsx("input",{type:"radio",name:"gameMode",checked:b,onChange:()=>S(!0),className:"sr-only"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg",children:""}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-slate-200",children:"AI "}),y.jsx("p",{className:"text-xs text-slate-400",children:"AI "})]})]})]}),y.jsxs("label",{className:`flex-1 cursor-pointer rounded-lg border-2 p-3 transition-all ${b?"border-slate-600 bg-slate-800/50 hover:border-slate-500":"border-cyan-500 bg-cyan-500/10"}`,children:[y.jsx("input",{type:"radio",name:"gameMode",checked:!b,onChange:()=>S(!1),className:"sr-only"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg",children:""}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-slate-200",children:""}),y.jsx("p",{className:"text-xs text-slate-400",children:""})]})]})]})]}),y.jsx("p",{className:"text-xs text-slate-500 mt-2",children:b?" AI ":" "})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"text-lg font-semibold text-slate-200 flex items-center gap-2",children:[" ",!z&&y.jsx("span",{className:"text-sm text-slate-400 font-normal",children:""})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{type:"text",placeholder:" *",value:q.name,onChange:ie=>Z("name",ie.target.value),disabled:!z,className:`px-4 py-3 border rounded-lg placeholder-slate-400 focus:outline-none focus:border-amber-500 ${z?"bg-slate-700 border-slate-600 text-slate-100":"bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed"}`}),y.jsx("input",{type:"text",placeholder:"",value:q.relationship,onChange:ie=>Z("relationship",ie.target.value),disabled:!z,className:`px-4 py-3 border rounded-lg placeholder-slate-400 focus:outline-none focus:border-amber-500 ${z?"bg-slate-700 border-slate-600 text-slate-100":"bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed"}`})]}),y.jsx("textarea",{placeholder:"",value:q.personality,onChange:ie=>Z("personality",ie.target.value),rows:2,disabled:!z,className:`w-full px-4 py-3 border rounded-lg placeholder-slate-400 focus:outline-none focus:border-amber-500 resize-none ${z?"bg-slate-700 border-slate-600 text-slate-100":"bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed"}`}),y.jsx("textarea",{placeholder:"AI",value:q.appearance,onChange:ie=>Z("appearance",ie.target.value),rows:2,disabled:!z,className:`w-full px-4 py-3 border rounded-lg placeholder-slate-400 focus:outline-none focus:border-amber-500 resize-none ${z?"bg-slate-700 border-slate-600 text-slate-100":"bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed"}`})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-semibold text-slate-200 flex items-center gap-2",children:" "}),y.jsx("button",{onClick:I,disabled:X,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center gap-2",children:X?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"..."]}):y.jsx(y.Fragment,{children:" AI "})})]}),y.jsx("textarea",{placeholder:" AI ...",value:H,onChange:ie=>Q(ie.target.value),rows:4,className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-slate-100 placeholder-slate-400 focus:outline-none focus:border-amber-500 resize-none"})]})]}),y.jsxs("div",{className:"p-6 border-t border-slate-700 flex justify-end gap-4",children:[y.jsx("button",{onClick:i,className:"px-6 py-3 bg-slate-700 text-slate-300 rounded-lg font-medium hover:bg-slate-600 transition-colors",children:""}),y.jsx("button",{onClick:oe,disabled:p,className:"px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-lg font-bold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:p?"...":c?" ":" "})]})]})})});Ff.displayName="ScriptEditor";const FE={NEUTRAL:Se.NEUTRAL,HAPPY:Se.HAPPY,SAD:Se.SAD,ANGRY:Se.ANGRY,BLUSH:Se.BLUSH,SURPRISED:Se.SURPRISED,SHY:Se.SHY,FEAR:Se.FEAR},JE={PALACE_GARDEN:Te.PALACE_GARDEN,PALACE_HALL:Te.PALACE_HALL,PALACE_BALCONY:Te.PALACE_BALCONY,CASTLE_CORRIDOR:Te.CASTLE_CORRIDOR,ROYAL_BEDROOM:Te.ROYAL_BEDROOM,TRAINING_GROUND:Te.TRAINING_GROUND,ABANDONED_GARDEN:Te.ABANDONED_GARDEN,SCHOOL_ROOFTOP:Te.SCHOOL_ROOFTOP,CLASSROOM:Te.CLASSROOM,SCHOOL_GATE:Te.SCHOOL_GATE},$E={romantic:gt.ROMANTIC,peaceful:gt.DAILY,melancholy:gt.SAD,dramatic:gt.TENSE,intense:gt.TENSE,mysterious:gt.MYSTERIOUS,happy:gt.HAPPY},Lv={preset_princess:"/stories/02_princess_elena/script/chapters.json",preset_tsundere:"/stories/01_tsundere_wenxi/script/chapters.json",preset_courtesan:"/stories/03_courtesan_liuruyan/script/chapters.json"},Rc={},Vr=a=>a in Lv,Ag=async a=>{if(Rc[a])return Rc[a];const i=Lv[a];if(!i)return console.warn(`: ${a}`),null;try{const l=await fetch(Re(i));if(!l.ok)throw new Error(`: ${l.status}`);const r=await l.json();return Rc[a]=r,r}catch(l){return console.error(":",l),null}},PE=(a,i,l,r)=>{let c;return a.type==="cg"&&a.cg&&(c=Re(`/stories/${l==="preset_princess"?"02_princess_elena":l==="preset_tsundere"?"01_tsundere_wenxi":"03_courtesan_liuruyan"}/cg/${a.cg}`)),{...{narrative:a.type==="cg"||a.speaker===""?a.text:"",speaker:a.speaker===""||a.speaker===""||a.type==="cg"?a.speaker||"":a.speaker||"",dialogue:a.speaker!==""&&a.type!=="cg"?a.text:"",expression:FE[a.expression||"NEUTRAL"]||Se.NEUTRAL,background:JE[i.background]||Te.PALACE_GARDEN,bgm:$E[i.bgm]||gt.DAILY,choices:r||[],affectionChange:0,isGameOver:!1},cgImage:c,isCG:a.type==="cg"}},Mr=(a,i,l)=>{const r=a.chapters[i];if(!r)return[];let c=Se.NEUTRAL;return r.dialogues.map((d,f)=>{const g=f===r.dialogues.length-1&&r.choices?r.choices.map(b=>({text:b.text,sentiment:b.sentiment})):[],p=PE(d,r,l,g);return d.speaker!==""&&d.speaker!==""&&d.type!=="cg"?c=p.expression:p.expression=c,p})},IE=(a,i,l)=>{var c;const r=a.chapters[i];return(c=r==null?void 0:r.choices)!=null&&c[l]?r.choices[l].affectionChange:0},Eg=(a,i)=>{const l=a.chapters[i];return(l==null?void 0:l.ending)||null},WE=()=>({:Re("/stories/01_tsundere_wenxi/expressions/wenxi_neutral.png"),:Re("/stories/02_princess_elena/expressions/smiling.png"),:Re("/stories/01_tsundere_wenxi/expressions/wenxi_neutral.png")}),e5=a=>WE()[a]||Re("/stories/01_tsundere_wenxi/expressions/wenxi_neutral.png"),Uv=C.memo(({isVisible:a,onClose:i,onSelectScript:l,onCreateNew:r})=>{const[c,d]=C.useState([]),[f,m]=C.useState(null),[g,p]=C.useState(null),[v,b]=C.useState(!1),[S,M]=C.useState(new Set),[z,Y]=C.useState(new Set),[B,H]=C.useState(null),[Q,X]=C.useState("all"),k=C.useCallback(K=>K.useAIMode===!0?"ai":Vr(K.id)?"script":"ai",[]),q=C.useCallback((K,N)=>{N.stopPropagation(),k(K)==="script"?confirm(` AI  AI 



`)&&(zE(K.id),d(xa())):Vr(K.id)?(BE(K.id),d(xa())):alert(" AI ")},[k]),ne=c.filter(K=>Q==="all"?!0:k(K)===Q);C.useEffect(()=>{if(a){const K=xa();d(K);const N=new Set;K.forEach(V=>{Sg(V.id)&&N.add(V.id)}),Y(N)}},[a]);const Z=C.useCallback(async(K,N)=>{if(N.stopPropagation(),B!=null&&B.isGenerating){alert("...");return}if(!(Sg(K.id)&&!confirm(""))){H({scriptId:K.id,status:"...",isGenerating:!0});try{const V=await Vv(K.character.name,K.character.personality,K.character.appearance,K.character.relationship,K.setting,$=>{H(ce=>ce?{...ce,status:$}:null)});VE(K.id,V),Y($=>new Set([...$,K.id])),d(xa()),H({scriptId:K.id,status:" ",isGenerating:!1}),setTimeout(()=>{H(null)},2e3)}catch(V){console.error(":",V),H({scriptId:K.id,status:` : ${V instanceof Error?V.message:""}`,isGenerating:!1}),setTimeout(()=>{H(null)},3e3)}}},[B]),I=(K,N)=>{if(N.stopPropagation(),Ji(K)){alert("~");return}confirm("")&&(UE(K),d(xa()),f===K&&m(null))},oe=K=>{m(K.id)},ie=()=>{const K=c.find(N=>N.id===f);K&&l(K)},we=(K,N)=>{N.stopPropagation(),p(K),b(!0)},Ae=K=>{d(xa()),b(!1),p(null)},ft=()=>{b(!1),p(null)},de=(K,N)=>{N.stopPropagation();const V=new Set(S);V.has(K)?V.delete(K):V.add(K),M(V)};return a?y.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[y.jsxs("div",{className:"bg-slate-800/95 rounded-2xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col border border-slate-700",children:[y.jsxs("div",{className:"p-6 border-b border-slate-700",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-2xl font-bold text-amber-400 flex items-center gap-2",children:" "}),y.jsx("button",{onClick:i,className:"w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-600 transition-colors",children:""})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-400 text-sm",children:""}),y.jsx("button",{onClick:()=>X("all"),className:`px-3 py-1 text-sm rounded-full transition-colors ${Q==="all"?"bg-purple-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:""}),y.jsx("button",{onClick:()=>X("script"),className:`px-3 py-1 text-sm rounded-full transition-colors ${Q==="script"?"bg-cyan-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:" "}),y.jsx("button",{onClick:()=>X("ai"),className:`px-3 py-1 text-sm rounded-full transition-colors ${Q==="ai"?"bg-amber-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:" AI "})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:ne.length===0?y.jsx("div",{className:"text-center py-8 text-slate-500",children:""}):ne.map(K=>y.jsxs("div",{onClick:()=>oe(K),className:`p-4 rounded-xl cursor-pointer transition-all border-2 ${f===K.id?"bg-amber-600/20 border-amber-500":"bg-slate-700/50 border-transparent hover:bg-slate-700"}`,children:[y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"flex-shrink-0 w-20 h-24 rounded-lg overflow-hidden bg-gradient-to-b from-pink-500/20 to-purple-500/20 border border-slate-600",children:y.jsx("img",{src:e5(K.character.name),alt:K.character.name,className:"w-full h-full object-cover object-top"})}),y.jsx("div",{className:"flex-1 min-w-0",children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.jsx("h3",{className:"text-lg font-bold text-slate-100",children:K.name}),Ji(K.id)&&y.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-pink-600 to-purple-600 text-xs rounded-full text-white",children:""}),(()=>{const N=k(K),V=Vr(K.id);return y.jsxs("button",{onClick:$=>q(K,$),className:`px-2 py-0.5 text-xs rounded-full text-white transition-all ${N==="script"?"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500":"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500"} ${V?"cursor-pointer":"cursor-default"}`,title:V?`${N==="script"?"":"AI"}`:"AI",children:[N==="script"?" ":" AI",V&&" "]})})(),(()=>{const N=_E(K.id);return N?y.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${N.endingType==="good"?"bg-green-600":N.endingType==="normal"?"bg-yellow-600":"bg-red-600"} text-white`,children:Av(N.endingType)}):null})()]}),K.description&&y.jsx("p",{className:"text-sm text-slate-400 mt-1",children:K.description}),y.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500",children:[y.jsxs("span",{children:[" ",K.character.name]}),y.jsxs("span",{children:[" ",K.setting]})]})]}),y.jsxs("div",{className:"flex gap-1 items-center flex-wrap",children:[(B==null?void 0:B.scriptId)===K.id?y.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${B.isGenerating?"bg-purple-600/30 text-purple-400 animate-pulse":B.status.includes("")?"bg-green-600/30 text-green-400":"bg-red-600/30 text-red-400"}`,children:B.status}):z.has(K.id)?y.jsx("span",{className:"px-2 py-1 text-xs bg-emerald-600/30 text-emerald-400 rounded-full flex items-center gap-1",children:" "}):y.jsx("button",{onClick:N=>Z(K,N),className:"px-2 py-1 text-xs bg-purple-600/30 text-purple-400 rounded-full hover:bg-purple-600/50 transition-colors flex items-center gap-1",title:"5000",children:" "}),y.jsx("button",{onClick:N=>we(K,N),className:"p-2 text-slate-500 hover:text-amber-400 transition-colors",title:"",children:""}),!Ji(K.id)&&y.jsx("button",{onClick:N=>I(K.id,N),className:"p-2 text-slate-500 hover:text-red-400 transition-colors",title:"",children:""})]})]})})]}),K.plotFramework&&y.jsxs("div",{className:"mt-3",children:[y.jsx("div",{className:`p-3 bg-slate-900/50 rounded-lg text-sm text-slate-400 transition-all duration-300 ease-in-out ${S.has(K.id)?"":"line-clamp-3"}`,children:K.plotFramework}),K.plotFramework.length>200&&y.jsx("button",{onClick:N=>de(K.id,N),onKeyDown:N=>{(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),de(K.id,N))},className:"mt-2 text-xs text-amber-400 hover:text-amber-300 transition-colors focus:outline-none focus:ring-2 focus:ring-amber-400 focus:ring-offset-2 focus:ring-offset-slate-800 rounded px-2 py-1","aria-label":S.has(K.id)?"":"","aria-expanded":S.has(K.id),children:S.has(K.id)?" ":" "})]})]},K.id))}),y.jsxs("div",{className:"p-4 border-t border-slate-700 flex gap-3",children:[y.jsx("button",{onClick:r,className:"flex-1 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:" "}),y.jsx("button",{onClick:ie,disabled:!f,className:"flex-1 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl font-bold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:" "})]})]}),v&&g&&y.jsx(Ff,{initialScript:g,isEditing:!0,onSave:Ae,onCancel:ft,onGeneratePlot:async K=>K})]}):null});Uv.displayName="ScriptLibrary";const Gv=C.memo(({type:a,intensity:i=.5})=>{const l=C.useRef(null),r=C.useRef([]),c=C.useRef(0);return C.useEffect(()=>{if(a==="none")return;const d=l.current;if(!d)return;const f=d.getContext("2d");if(!f)return;const m=()=>{d.width=window.innerWidth,d.height=window.innerHeight};m(),window.addEventListener("resize",m);const g=Math.floor(50*i);r.current=[];for(let v=0;v<g;v++)r.current.push(t5(d.width,d.height,a));const p=()=>{f.clearRect(0,0,d.width,d.height),r.current.forEach((v,b)=>{n5(v,d.width,d.height,a),a5(f,v,a)}),c.current=requestAnimationFrame(p)};return p(),()=>{window.removeEventListener("resize",m),cancelAnimationFrame(c.current)}},[a,i]),a==="none"?null:y.jsx("canvas",{ref:l,className:"absolute inset-0 z-15 pointer-events-none",style:{mixBlendMode:a==="fireflies"?"screen":"normal"}})});Gv.displayName="WeatherEffect";function t5(a,i,l){const r={x:Math.random()*a,y:Math.random()*i-i,speed:1+Math.random()*2,size:2+Math.random()*3,opacity:.3+Math.random()*.5,angle:Math.random()*Math.PI*2,drift:(Math.random()-.5)*.5};switch(l){case"rain":r.speed=8+Math.random()*4,r.size=1,r.opacity=.3+Math.random()*.3;break;case"snow":r.speed=.5+Math.random()*1.5,r.size=2+Math.random()*4,r.drift=(Math.random()-.5)*1;break;case"leaves":r.speed=1+Math.random()*2,r.size=8+Math.random()*8,r.drift=(Math.random()-.5)*2;break;case"petals":r.speed=.8+Math.random()*1.2,r.size=4+Math.random()*4,r.drift=(Math.random()-.5)*1.5;break;case"fireflies":r.speed=.2+Math.random()*.3,r.size=2+Math.random()*2,r.opacity=Math.random();break}return r}function n5(a,i,l,r){switch(r){case"rain":a.y+=a.speed,a.x+=1;break;case"snow":case"leaves":case"petals":a.y+=a.speed,a.x+=Math.sin(a.angle||0)*(a.drift||0),a.angle=(a.angle||0)+.02;break;case"fireflies":a.x+=Math.sin(a.angle||0)*.5,a.y+=Math.cos(a.angle||0)*.3,a.angle=(a.angle||0)+.02,a.opacity=.3+Math.sin(a.angle*3)*.4;break}a.y>l+20&&(a.y=-20,a.x=Math.random()*i),a.x<-20&&(a.x=i+20),a.x>i+20&&(a.x=-20)}function a5(a,i,l){switch(a.save(),a.globalAlpha=i.opacity,l){case"rain":a.strokeStyle="#a0c4ff",a.lineWidth=i.size,a.beginPath(),a.moveTo(i.x,i.y),a.lineTo(i.x+1,i.y+15),a.stroke();break;case"snow":a.fillStyle="#ffffff",a.beginPath(),a.arc(i.x,i.y,i.size,0,Math.PI*2),a.fill();break;case"leaves":a.fillStyle="#d4a574",a.translate(i.x,i.y),a.rotate(i.angle||0),a.beginPath(),a.ellipse(0,0,i.size,i.size*.5,0,0,Math.PI*2),a.fill();break;case"petals":a.fillStyle="#ffb7c5",a.translate(i.x,i.y),a.rotate(i.angle||0),a.beginPath(),a.ellipse(0,0,i.size,i.size*.6,0,0,Math.PI*2),a.fill();break;case"fireflies":const r=a.createRadialGradient(i.x,i.y,0,i.x,i.y,i.size*3);r.addColorStop(0,`rgba(255, 255, 150, ${i.opacity})`),r.addColorStop(1,"rgba(255, 255, 150, 0)"),a.fillStyle=r,a.beginPath(),a.arc(i.x,i.y,i.size*3,0,Math.PI*2),a.fill();break}a.restore()}const Hv=C.memo(({isOpen:a,dialogueOpacity:i,isMuted:l,onClose:r,onOpacityChange:c,onToggleMute:d})=>a?y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fadeIn",children:[y.jsx("div",{className:"absolute inset-0",onClick:r}),y.jsxs("div",{className:"relative w-full max-w-xl bg-slate-900/95 border border-slate-700 rounded-2xl shadow-2xl p-8 overflow-hidden",onClick:f=>f.stopPropagation(),children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500"}),y.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-slate-700",children:[y.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[y.jsx("span",{className:"text-pink-500",children:""})," "]}),y.jsx("button",{onClick:r,className:"w-10 h-10 rounded-full bg-slate-800 hover:bg-slate-700 flex items-center justify-center text-slate-400 hover:text-white transition-all",children:""})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsx("section",{className:"bg-slate-800/50 rounded-xl p-5 border border-slate-700/50",children:y.jsx(qf,{})}),y.jsxs("section",{className:"bg-slate-800/50 rounded-xl p-5 border border-slate-700/50",children:[y.jsxs("div",{className:"flex justify-between mb-3",children:[y.jsx("label",{className:"text-slate-200 font-medium",children:" "}),y.jsxs("span",{className:"text-pink-400 font-mono",children:[i,"%"]})]}),y.jsx("input",{type:"range",min:"30",max:"100",value:i,onChange:f=>c(Number(f.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500"}),y.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[y.jsx("span",{children:""}),y.jsx("span",{children:""})]})]}),y.jsxs("section",{className:"bg-slate-800/50 rounded-xl p-5 border border-slate-700/50 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-slate-200 font-medium mb-1",children:" "}),y.jsx("div",{className:"text-slate-500 text-sm",children:""})]}),y.jsx("button",{onClick:d,className:`w-14 h-8 rounded-full transition-colors relative ${l?"bg-pink-600":"bg-slate-700"}`,children:y.jsx("div",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow transition-transform ${l?"translate-x-6":"translate-x-0"}`})})]})]}),y.jsx("div",{className:"mt-8 pt-6 border-t border-slate-700 flex justify-end",children:y.jsx("button",{onClick:r,className:"px-8 py-3 bg-pink-600 hover:bg-pink-500 text-white font-bold rounded-xl shadow-lg shadow-pink-500/20 transition-all hover:scale-105",children:""})})]})]}):null);Hv.displayName="SettingsModal";const zc=({isOpen:a,onClose:i,mode:l,scriptId:r,scriptTitle:c,showAllScripts:d=!1,currentState:f,onLoad:m})=>{const[g,p]=C.useState([]),[v,b]=C.useState([]),[S,M]=C.useState(null),z=C.useCallback(()=>{if(d){const k=ts(),q=[];Object.entries(k).forEach(([ne,Z])=>{Z.slots.forEach(I=>{I.saveData&&q.push({scriptId:ne,scriptTitle:I.saveData.scriptTitle,slot:I})})}),q.sort((ne,Z)=>{var I,oe;return(((I=Z.slot.saveData)==null?void 0:I.timestamp)||0)-(((oe=ne.slot.saveData)==null?void 0:oe.timestamp)||0)}),b(q)}else if(r){const k=AE(r);p(k.slots)}},[r,d]);C.useEffect(()=>{a&&(z(),M(null))},[a,z]);const Y=k=>{!f||!r||!c||(vv(r,k,{scriptId:r,scriptTitle:c,chapterIndex:f.chapterIndex,dialogueIndex:f.dialogueIndex,affection:f.affection,turnsPlayed:f.turnsPlayed,characterName:f.characterName,currentExpression:f.currentExpression,currentBackground:f.currentBackground,currentBgm:f.currentBgm,previewText:f.currentDialogue.substring(0,50)+(f.currentDialogue.length>50?"...":"")}),z())},B=k=>{if(!r)return;const q=yg(r,k);q&&m&&(m(q),i())},H=(k,q)=>{const ne=yg(k,q);ne&&m&&(m(ne),i())},Q=k=>{const q=`${r}_${k}`;S===q?(r&&(vg(r,k),z()),M(null)):M(q)},X=(k,q)=>{const ne=`${k}_${q}`;S===ne?(vg(k,q),z(),M(null)):M(ne)};return a?y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:y.jsxs("div",{className:`bg-gradient-to-br from-slate-900 via-purple-900/50 to-slate-900 
                      rounded-2xl border border-purple-500/30 shadow-2xl 
                      w-[90%] max-w-2xl max-h-[80vh] overflow-hidden`,children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-purple-500/30",children:[y.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:l==="save"?" ":" "}),y.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white transition-colors text-2xl",children:""})]}),!d&&c&&y.jsx("div",{className:"px-4 py-2 bg-purple-900/30 border-b border-purple-500/20",children:y.jsxs("p",{className:"text-purple-300 text-sm",children:[" ",c]})}),y.jsx("div",{className:"p-4 space-y-3 overflow-y-auto max-h-[50vh]",children:d?v.length>0?v.map(k=>{const q=`${k.scriptId}_${k.slot.slotIndex}`;return y.jsx("div",{className:`relative p-4 rounded-xl border transition-all duration-300
                      bg-slate-800/80 border-purple-500/40 hover:border-purple-400/60`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"text-cyan-400 font-bold text-sm px-2 py-0.5 bg-cyan-900/50 rounded",children:k.scriptTitle}),y.jsx("span",{className:"text-xs text-gray-500",children:xg(k.slot.saveData.timestamp)})]}),y.jsxs("div",{className:"text-sm space-y-1",children:[y.jsxs("p",{className:"text-gray-300",children:["  ",k.slot.saveData.chapterIndex+1,"    ",k.slot.saveData.turnsPlayed]}),y.jsxs("p",{className:"text-pink-400",children:[" : ",k.slot.saveData.affection]}),y.jsxs("p",{className:"text-gray-500 text-xs truncate max-w-md",children:['"',k.slot.saveData.previewText,'"']})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>H(k.scriptId,k.slot.slotIndex),className:`px-4 py-2 bg-green-600 hover:bg-green-500 
                                     text-white rounded-lg transition-colors text-sm`,children:""}),y.jsx("button",{onClick:()=>X(k.scriptId,k.slot.slotIndex),className:`px-3 py-2 rounded-lg transition-colors text-sm
                            ${S===q?"bg-red-600 text-white":"bg-slate-700 hover:bg-red-600/50 text-gray-400 hover:text-white"}`,children:S===q?"?":""})]})]})},q)}):y.jsx("div",{className:"text-center py-8 text-gray-500",children:""}):g.map(k=>{const q=`${r}_${k.slotIndex}`;return y.jsx("div",{className:`relative p-4 rounded-xl border transition-all duration-300
                    ${k.saveData?"bg-slate-800/80 border-purple-500/40 hover:border-purple-400/60":"bg-slate-800/40 border-slate-600/30 hover:border-slate-500/50"}`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsxs("span",{className:"text-purple-400 font-bold",children:[" ",k.slotIndex+1]}),k.saveData&&y.jsx("span",{className:"text-xs text-gray-500",children:xg(k.saveData.timestamp)})]}),k.saveData?y.jsxs("div",{className:"text-sm space-y-1",children:[y.jsxs("p",{className:"text-gray-300",children:["  ",k.saveData.chapterIndex+1,"    ",k.saveData.turnsPlayed]}),y.jsxs("p",{className:"text-pink-400",children:[" : ",k.saveData.affection]}),y.jsxs("p",{className:"text-gray-500 text-xs truncate max-w-md",children:['"',k.saveData.previewText,'"']})]}):y.jsx("p",{className:"text-gray-500 text-sm",children:""})]}),y.jsxs("div",{className:"flex gap-2",children:[l==="save"?y.jsx("button",{onClick:()=>Y(k.slotIndex),className:`px-4 py-2 bg-purple-600 hover:bg-purple-500 
                                     text-white rounded-lg transition-colors text-sm`,children:k.saveData?"":""}):k.saveData&&y.jsx("button",{onClick:()=>B(k.slotIndex),className:`px-4 py-2 bg-green-600 hover:bg-green-500 
                                       text-white rounded-lg transition-colors text-sm`,children:""}),k.saveData&&y.jsx("button",{onClick:()=>Q(k.slotIndex),className:`px-3 py-2 rounded-lg transition-colors text-sm
                            ${S===q?"bg-red-600 text-white":"bg-slate-700 hover:bg-red-600/50 text-gray-400 hover:text-white"}`,children:S===q?"?":""})]})]})},k.slotIndex)})}),y.jsx("div",{className:"p-4 border-t border-purple-500/20 bg-slate-900/50",children:y.jsx("p",{className:"text-gray-500 text-xs text-center",children:l==="save"?"":""})})]})}):null},Bc="ai_novel_batch_cache",Vc="ai_novel_branch_cache",ki="1.0.1",Cg=10080*60*1e3;class ba{constructor(){this.cache=new Map,this.branchCache=new Map,this.isPreGenerating=!1,this.loadCache()}static getInstance(){return ba.instance||(ba.instance=new ba),ba.instance}loadCache(){try{const i=localStorage.getItem(Bc);if(i){const r=JSON.parse(i);this.cache=new Map(r.filter(c=>c.version===ki&&Date.now()-c.generatedAt<Cg).map(c=>[c.scriptId,{...c,batchData:Sa(c.batchData)}]))}const l=localStorage.getItem(Vc);if(l){const r=JSON.parse(l);this.branchCache=new Map(r.filter(c=>c.version===ki&&Date.now()-c.generatedAt<Cg).map(c=>[`${c.scriptId}_${c.choiceText}`,{...c,branchData:Sa(c.branchData)}]))}}catch(i){console.warn("Failed to load batch data cache:",i),this.cache.clear(),this.branchCache.clear()}}saveCache(){try{const i=Array.from(this.cache.values());localStorage.setItem(Bc,JSON.stringify(i));const l=Array.from(this.branchCache.values());localStorage.setItem(Vc,JSON.stringify(l))}catch(i){console.warn("Failed to save batch data cache:",i)}}getCachedBatchData(i){const l=this.cache.get(i);return(l==null?void 0:l.batchData)||null}hasCachedBatchData(i){return this.cache.has(i)}getCachedBranchData(i,l){const r=`${i}_${l}`,c=this.branchCache.get(r);return(c==null?void 0:c.branchData)||null}hasCachedBranchData(i,l){const r=`${i}_${l}`;return this.branchCache.has(r)}cacheManualData(i,l){if(this.hasCachedBatchData(i))return;const r={scriptId:i,batchData:Sa(l),generatedAt:Date.now(),version:ki};this.cache.set(i,r),this.saveCache(),console.log(`[DialogueCache]  ${i} `)}async generateAndCacheBatchData(i){if(this.hasCachedBatchData(i.id))return this.getCachedBatchData(i.id);try{const{setCustomScript:l}=await qE(async()=>{const{setCustomScript:d}=await Promise.resolve().then(()=>ZE);return{setCustomScript:d}},void 0);l(i.character.name,i.character.personality,i.setting,i.plotFramework);const r=await Kr(),c={scriptId:i.id,batchData:r,generatedAt:Date.now(),version:ki};return this.cache.set(i.id,c),this.saveCache(),console.log(`[DialogueCache]  ${i.name} `),r}catch(l){throw console.error(`Failed to generate batch data for script ${i.id}:`,l),l}}async preGenerateFirstScriptTwoActs(i){var r;if(this.isPreGenerating){console.log("[DialogueCache] ");return}const l=i.find(c=>c.id==="preset_tsundere");if(!l){console.log("[DialogueCache] ");return}if(this.hasCachedBatchData(l.id)){const c=this.getCachedBatchData(l.id);if(c&&c.choices&&c.choices.every(f=>this.hasCachedBranchData(l.id,f.text))){console.log("[DialogueCache] ");return}}this.isPreGenerating=!0,console.log("[DialogueCache] ...");try{console.log("[DialogueCache] ");const c=await this.generateAndCacheBatchData(l);if(!c.choices||c.choices.length===0){console.warn("[DialogueCache] "),this.isPreGenerating=!1;return}console.log(`[DialogueCache] ${c.choices.length} `);for(let d=0;d<c.choices.length;d++){const f=c.choices[d],m=`${l.id}_${f.text}`;if(this.branchCache.has(m)){console.log(`[DialogueCache]  ${d+1}/${c.choices.length} : "${f.text.substring(0,15)}..."`);continue}try{console.log(`[DialogueCache]  ${d+1}/${c.choices.length}: "${f.text.substring(0,15)}..."`);const g=await Xr(f.text,f.sentiment),p={scriptId:l.id,choiceText:f.text,branchData:g,generatedAt:Date.now(),version:ki};this.branchCache.set(m,p),this.saveCache(),console.log(`[DialogueCache]  ${d+1}  ${((r=g.dialogueSequence)==null?void 0:r.length)||0} `),d<c.choices.length-1&&await new Promise(v=>setTimeout(v,1e3))}catch(g){console.error(`[DialogueCache]  ${d+1} :`,g)}}console.log("[DialogueCache] "),this.isPreGenerating=!1}catch(c){console.error("[DialogueCache] :",c),this.isPreGenerating=!1}}async preGenerateAllBatchData(i){console.log("[DialogueCache] 10..."),setTimeout(()=>{this.preGenerateFirstScriptTwoActs(i).catch(l=>{console.error("[DialogueCache] :",l)})},1e4)}async preloadScript(i,l){if(this.isPreGenerating)return console.log("[DialogueCache] "),!1;this.isPreGenerating=!0;try{l==null||l("...",10);const r=await this.generateAndCacheBatchData(i);if(l==null||l("",40),!r.choices||r.choices.length===0)return console.warn("[DialogueCache] "),this.isPreGenerating=!1,l==null||l("",100),!0;const c=r.choices.length;for(let d=0;d<c;d++){const f=r.choices[d],m=`${i.id}_${f.text}`;if(l==null||l(` ${d+1}/${c}...`,40+d/c*55),!this.branchCache.has(m))try{const g=await Xr(f.text,f.sentiment),p={scriptId:i.id,choiceText:f.text,branchData:g,generatedAt:Date.now(),version:ki};this.branchCache.set(m,p),this.saveCache(),d<c-1&&await new Promise(v=>setTimeout(v,800))}catch(g){console.error(`[DialogueCache]  ${d+1} :`,g)}}return this.isPreGenerating=!1,l==null||l("",100),console.log(`[DialogueCache]  ${i.name} `),!0}catch(r){return console.error("[DialogueCache] :",r),this.isPreGenerating=!1,l==null||l("",0),!1}}isScriptFullyCached(i){if(!this.hasCachedBatchData(i))return!1;const l=this.getCachedBatchData(i);return!(l!=null&&l.choices)||l.choices.length===0?!0:l.choices.every(r=>this.hasCachedBranchData(i,r.text))}clearCache(){this.cache.clear(),this.branchCache.clear(),localStorage.removeItem(Bc),localStorage.removeItem(Vc),console.log("[DialogueCache] ")}getCacheStats(){const i=["preset_tsundere","preset_princess","preset_courtesan"],l=this.cache.size,r=i.filter(c=>this.cache.has(c)).length;return{total:3,cached:l,presetCached:r}}}const Dg={currentScene:null,history:[],affection:wr,isLoading:!1,gameStarted:!1,turn:0,isPaused:!1,dialogueOpacity:90,prefetchedScene:null,prefetchedImage:null};function i5(){var dn,_a,_e,et;const[a,i]=C.useState(Dg),[l,r]=C.useState(!1),[c,d]=C.useState(!1),[f,m]=C.useState(null),[g,p]=C.useState(!1),[v,b]=C.useState(!1),[S,M]=C.useState(!1),[z,Y]=C.useState(!1),[B,H]=C.useState(null),[Q,X]=C.useState([]),[k,q]=C.useState(0),[ne,Z]=C.useState([]),[I,oe]=C.useState(Te.SCHOOL_ROOFTOP),[ie,we]=C.useState(gt.DAILY),[Ae,ft]=C.useState(!1),[de,K]=C.useState(null),[N,V]=C.useState(0),[$,ce]=C.useState(0),[xe,A]=C.useState(null),[L,F]=C.useState([]),[W,le]=C.useState(null),he=!0;C.useEffect(()=>{var J;(J=a.currentScene)!=null&&J.bgm&&ct.playBgm(a.currentScene.bgm)},[(dn=a.currentScene)==null?void 0:dn.bgm]),C.useEffect(()=>{(async()=>{if(!(!v||!a.currentScene)&&!(a.currentScene.speaker!==""&&a.currentScene.speaker!==(B==null?void 0:B.character.name))){M(!0);try{const P=await jv(a.currentScene.dialogue);P&&ct.playVoice(P)}catch(P){console.error("Voice playback error",P)}finally{M(!1)}}})()},[a.currentScene,v,B]);const me=C.useCallback((J,P,ee,ue)=>({narrative:J.narrative||"",speaker:J.speaker,dialogue:J.dialogue,expression:J.expression,background:J.background||ee,bgm:J.bgm||ue,choices:P,affectionChange:0,isGameOver:!1}),[]),Ke=C.useCallback(async()=>{await ct.init(),ct.playSfx("start"),i(J=>({...J,isLoading:!0})),m(null);try{const J=ba.getInstance();let P;if(J.hasCachedBatchData("preset_tsundere")?(console.log("[Game] "),P=Sa(J.getCachedBatchData("preset_tsundere"))):(console.log("[Game] ..."),P=await Kr()),console.log(`[Game]  ${P.dialogueSequence.length} `),X(P.dialogueSequence),q(0),Z(P.choices),oe(P.background),we(P.bgm),P.dialogueSequence.length>0){const ee=P.dialogueSequence[0],ue=me(ee,P.choices,P.background,P.bgm);i(ge=>({...ge,currentScene:ue,history:[ue],affection:wr,isLoading:!1,gameStarted:!0,turn:1}))}else throw new Error("")}catch(J){console.error("[Game] :",J),m(""),i(P=>({...P,isLoading:!1}))}},[he,me]),He=C.useCallback(async J=>{await ct.init(),ct.playSfx("start"),i(P=>({...P,isLoading:!0})),m(null);try{const P=await Ag(J);if(!P)throw new Error(`: ${J}`);console.log(`[Script] : ${P.title}, ${P.chapters.length} `);const ee=Mr(P,0,J);if(ee.length===0)throw new Error("");K(P),ft(!0),V(0),ce(0),F(ee);const ue=ee[0];ue.isCG&&ue.cgImage?A(ue.cgImage):A(null),i(ge=>({...ge,currentScene:ue,history:[ue],affection:wr,isLoading:!1,gameStarted:!0,turn:1}))}catch(P){console.error("[Script] :",P),m(`: ${P}`),i(ee=>({...ee,isLoading:!1}))}},[]),xn=C.useCallback(async J=>{var P,ee,ue,ge;if(r(!1),Ae&&de){const Ye=((P=a.currentScene)==null?void 0:P.choices.findIndex(be=>be.text===J))??0,ht=IE(de,N,Ye),Qe=N+1;if(Qe<de.chapters.length){const be=Mr(de,Qe,de.id);V(Qe),ce(0),F(be);const Ze=be[0];Ze.isCG&&Ze.cgImage?A(Ze.cgImage):A(null),i(Ct=>({...Ct,currentScene:Ze,history:[...Ct.history,Ze],affection:Math.min(gc,Math.max(pc,Ct.affection+ht)),turn:Ct.turn+1}))}else{console.log("[Script] ");const be=Eg(de,N);be?(console.log("[Script] :",be.title),le(be)):le({type:"normal_end",title:"",description:""}),i(Ze=>({...Ze,affection:Math.min(gc,Math.max(pc,Ze.affection+ht))}))}return}i(Ye=>({...Ye,isLoading:!0}));try{const Ye=(ee=a.currentScene)==null?void 0:ee.choices.find(Ze=>Ze.text===J),ht=(Ye==null?void 0:Ye.sentiment)||"neutral";console.log(`[Game] : "${J}" (${ht})...`);const Qe=await Xr(J,ht),be=Sa(Qe);if(console.log(`[Game]  ${be.dialogueSequence.length} `),X(be.dialogueSequence),q(0),Z(be.choices),oe(be.background),we(be.bgm),be.dialogueSequence.length>0){const Ze=be.dialogueSequence[0],Ct=me(Ze,be.choices,be.background,be.bgm);i(Kt=>{const ni=Math.min(gc,Math.max(pc,Kt.affection+(be.affectionChange||0)));return{...Kt,currentScene:Ct,history:[...Kt.history,Ct],affection:ni,isLoading:!1,turn:Kt.turn+1}})}else if(be.isGameOver){const Ze={narrative:be.narrative||"...",speaker:"",dialogue:((ge=(ue=be.dialogueSequence)==null?void 0:ue[0])==null?void 0:ge.dialogue)||"",expression:Se.NEUTRAL,background:I,bgm:gt.SAD,choices:[],affectionChange:be.affectionChange||0,isGameOver:!0};i(Ct=>({...Ct,currentScene:Ze,history:[...Ct.history,Ze],isLoading:!1}))}else r(!0),i(Ze=>({...Ze,isLoading:!1}))}catch(Ye){console.error("[Game] :",Ye),m(""),i(ht=>({...ht,isLoading:!1}))}},[(_a=a.currentScene)==null?void 0:_a.choices,me]),Hn=C.useCallback(()=>{const J=ct.toggleMute();p(J)},[]),rn=C.useCallback(()=>{var P;if(a.isLoading||l||(P=a.currentScene)!=null&&P.isGameOver)return;if(Ae&&de){const ee=$+1;if(ee<L.length){const ue=L[ee];ce(ee),ue.isCG&&ue.cgImage?A(ue.cgImage):A(null);const ge=ee===L.length-1,Ye=ue.choices&&ue.choices.length>0;if(ge&&Ye)r(!0);else if(ge&&!Ye&&N===de.chapters.length-1){const be=Eg(de,N);be&&(console.log("[Script] :",be.title),le(be))}const ht={...ue,historyChapterIndex:N,historyDialogueIndex:ee};i(Qe=>({...Qe,currentScene:ue,history:[...Qe.history,ht],turn:Qe.turn+1}))}return}const J=k+1;if(J<Q.length){q(J);const ee=Q[J];console.log(`[Game]  ${J+1}/${Q.length}: ${ee.speaker}`);const ue=me(ee,ne,I,ie);i(ge=>({...ge,currentScene:ue,history:[...ge.history,ue]}))}else console.log("[Game] "),r(!0)},[a.isLoading,l,(_e=a.currentScene)==null?void 0:_e.isGameOver,k,Q,ne,I,ie,me,Ae,de,$,L]),Ia=C.useCallback(()=>{Y(J=>!J)},[]),Xt=C.useRef(rn);C.useEffect(()=>{Xt.current=rn},[rn]),C.useEffect(()=>{var P,ee,ue;let J;if(z&&!c&&!a.isLoading&&!l&&!a.isPaused&&!((P=a.currentScene)!=null&&P.isGameOver)){const ge=((ue=(ee=a.currentScene)==null?void 0:ee.dialogue)==null?void 0:ue.length)||0,Ye=v?250:150,ht=v?2e3:1500,Qe=Math.max(2e3,ge*Ye+ht);console.log(`[AutoPlay] Starting timer for next dialogue. Delay: ${Qe}ms`),J=setTimeout(()=>{console.log("[AutoPlay] Timer triggered, calling handleNextDialogue"),!l&&!a.isPaused&&Xt.current()},Qe)}else z&&console.log("[AutoPlay] Paused/Waiting conditions:",{isTyping:c,isLoading:a.isLoading,showChoices:l,isPaused:a.isPaused});return()=>{J&&clearTimeout(J)}},[z,c,a.isLoading,l,a.isPaused,(et=a.currentScene)==null?void 0:et.dialogue,a.turn,v]);const kn=C.useCallback(()=>{b(J=>!J)},[]),Ca=C.useCallback(()=>{m(null)},[]),ns=C.useCallback(()=>{i(J=>({...J,isPaused:!J.isPaused}))},[]),Wa=C.useCallback(J=>{i(P=>({...P,dialogueOpacity:J}))},[]),Yn=C.useCallback(()=>{zv(),Bv(),X([]),q(0),i(Dg),r(!1),m(null),ft(!1),K(null),V(0),ce(0),A(null),F([]),le(null)},[]),qn=C.useCallback(async J=>{H(J),Rv(J.character.name,J.character.personality,J.setting,J.plotFramework),await ct.init(),ct.playSfx("start"),i(P=>({...P,isLoading:!0})),m(null);try{const P=ba.getInstance();let ee;if(P.hasCachedBatchData(J.id)?(console.log(`[Game] : ${J.name}`),ee=Sa(P.getCachedBatchData(J.id))):(console.log(`[Game] : ${J.name}`),ee=await Kr(),setTimeout(()=>{P.cacheManualData(J.id,ee)},100)),console.log(`[Game]  ${ee.dialogueSequence.length} `),X(ee.dialogueSequence),q(0),Z(ee.choices),oe(ee.background),we(ee.bgm),ee.dialogueSequence.length>0){const ue=ee.dialogueSequence[0],ge=me(ue,ee.choices,ee.background,ee.bgm);i(Ye=>({...Ye,currentScene:ge,history:[ge],affection:wr,isLoading:!1,gameStarted:!0,turn:1}))}else throw new Error("")}catch(P){console.error("[Game] :",P),m(""),i(ee=>({...ee,isLoading:!1}))}},[he,me]),Xn=C.useCallback(()=>{B&&ME({scriptId:B.id,scriptName:B.name,characterName:B.character.name,endingType:Tv(a.affection),finalAffection:a.affection,turnsPlayed:a.turn})},[B,a.affection,a.turn]),ei=C.useCallback(async J=>Ov(),[]),ti=C.useCallback(async J=>{try{i(ge=>({...ge,isLoading:!0}));const P=await Ag(J.scriptId);if(!P)throw new Error("");K(P),ft(!0),V(J.chapterIndex),ce(J.dialogueIndex);const ee=Mr(P,J.chapterIndex,J.scriptId);F(ee);const ue=ee[J.dialogueIndex];if(ue){const ge=ue;ge.isCG&&ge.cgImage?A(ge.cgImage):A(null),i(Ye=>({...Ye,currentScene:{...ue,expression:J.currentExpression,background:J.currentBackground,bgm:J.currentBgm},affection:J.affection,turn:J.turnsPlayed,gameStarted:!0,isLoading:!1}))}ct.playBgm(J.currentBgm)}catch(P){m(P instanceof Error?P.message:""),i(ee=>({...ee,isLoading:!1}))}},[]),dt=C.useCallback(()=>{var P,ee,ue,ge,Ye;if(!Ae||!de)return null;const J=()=>{var ht,Qe,be;return de.id==="preset_princess"||(ht=de.title)!=null&&ht.includes("")||(Qe=de.title)!=null&&Qe.includes("")?"":de.id==="preset_tsundere"||(be=de.title)!=null&&be.includes("")?"":""};return{chapterIndex:N,dialogueIndex:$,affection:a.affection,turnsPlayed:a.turn,characterName:J(),currentExpression:((P=a.currentScene)==null?void 0:P.expression)||Se.NEUTRAL,currentBackground:((ee=a.currentScene)==null?void 0:ee.background)||Te.PALACE_GARDEN,currentBgm:((ue=a.currentScene)==null?void 0:ue.bgm)||gt.DAILY,currentDialogue:((ge=a.currentScene)==null?void 0:ge.dialogue)||((Ye=a.currentScene)==null?void 0:Ye.narrative)||""}},[Ae,de,N,$,a]),Kn=C.useCallback(()=>Ae&&de?de.id||"preset_princess":(B==null?void 0:B.id)||"",[Ae,de,B]),Da=C.useCallback(()=>Ae&&de?de.title||"":(B==null?void 0:B.name)||"",[Ae,de,B]),Na=C.useCallback(J=>{if(!Ae||!de)return;const P=a.history[J];if(!P||P.historyChapterIndex===void 0||P.historyDialogueIndex===void 0){console.warn("[History] ");return}const ee=P.historyChapterIndex,ue=P.historyDialogueIndex;r(!1),V(ee),ce(ue);const ge=Kn(),Ye=Mr(de,ee,ge);F(Ye);const ht=a.history.slice(0,J+1),Qe=Ye[ue];if(Qe){const be=Qe;be.isCG&&be.cgImage?A(be.cgImage):A(null),i(Ze=>({...Ze,currentScene:Qe,history:ht,turn:J+1})),Qe.bgm&&ct.playBgm(Qe.bgm)}console.log(`[History]  ${ee+1},  ${ue+1}`)},[Ae,de,a.history,Kn]);return{gameState:a,showChoices:l,isTyping:c,setIsTyping:d,error:f,isMuted:g,isVoiceEnabled:v,isVoiceLoading:S,currentScript:B,hasApiKey:he,isAutoPlay:z,isScriptMode:Ae,currentCG:xe,currentChapterIndex:N,loadedScript:de,scriptEnding:W,handleStartGame:Ke,handleChoice:xn,handleToggleMute:Hn,handleNextDialogue:rn,toggleVoice:kn,toggleAutoPlay:Ia,clearError:Ca,togglePause:ns,setDialogueOpacity:Wa,returnToTitle:Yn,startWithScript:qn,handleGeneratePlot:ei,saveGameRecord:Xn,handleStartScriptGame:He,loadFromSave:ti,getCurrentSaveState:dt,getCurrentScriptId:Kn,getCurrentScriptTitle:Da,scriptDialogueIndex:$,jumpToHistory:Na}}const s5=(a={})=>{const{intensity:i=20,enabled:l=!0}=a,[r,c]=C.useState({x:0,y:0}),d=C.useCallback(m=>{if(!l)return;const g=window.innerWidth/2,p=window.innerHeight/2,v=(m.clientX-g)/g,b=(m.clientY-p)/p;c({x:v*i,y:b*i})},[i,l]),f=C.useCallback(()=>{c({x:0,y:0})},[]);return C.useEffect(()=>{if(!l){c({x:0,y:0});return}return window.addEventListener("mousemove",d),window.addEventListener("mouseleave",f),()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseleave",f)}},[d,f,l]),r};class l5{constructor(){this.worker=null,this.pendingRequests=new Map,this.requestId=0,this.isSupported=typeof Worker<"u"}init(){if(!this.isSupported){console.warn("Web Workers are not supported in this environment");return}if(!this.worker)try{this.worker=new Worker(new URL("/ai_novel/assets/jsonParser.worker-DME07qFG.js",import.meta.url),{type:"module"}),this.worker.onmessage=i=>{const{type:l,id:r,data:c,error:d}=i.data,f=this.pendingRequests.get(r);f&&(l==="result"?f.resolve(c):l==="error"&&f.reject(new Error(d)),this.pendingRequests.delete(r))},this.worker.onerror=i=>{console.error("Worker error:",i)}}catch(i){console.warn("Failed to initialize Worker:",i),this.isSupported=!1}}async parseJSON(i){return!this.isSupported||!this.worker||i.length<1e3?this.fallbackParse(i):new Promise((l,r)=>{const c=`parse_${++this.requestId}`;this.pendingRequests.set(c,{resolve:l,reject:r}),this.worker.postMessage({type:"parse",id:c,data:i}),setTimeout(()=>{this.pendingRequests.has(c)&&(this.pendingRequests.delete(c),l(this.fallbackParse(i)))},5e3)})}async stringifyJSON(i){return!this.isSupported||!this.worker?JSON.stringify(i,null,2):new Promise((l,r)=>{const c=`stringify_${++this.requestId}`;this.pendingRequests.set(c,{resolve:l,reject:r}),this.worker.postMessage({type:"stringify",id:c,data:i}),setTimeout(()=>{this.pendingRequests.has(c)&&(this.pendingRequests.delete(c),l(JSON.stringify(i,null,2)))},5e3)})}fallbackParse(i){let l=i;const r=l.match(/```(?:json)?\s*([\s\S]*?)```/);return r&&(l=r[1]),JSON.parse(l)}destroy(){this.worker&&(this.worker.terminate(),this.worker=null),this.pendingRequests.clear()}}const r5=new l5,o5={preset_tsundere:"",preset_princess:"",preset_courtesan:""},Lc=a=>o5[a]||"";r5.init();const u5=()=>{var Yn,qn,Xn,ei,ti,dt,Kn,Da,Na,dn,_a;const{gameState:a,showChoices:i,isTyping:l,setIsTyping:r,error:c,isMuted:d,isVoiceEnabled:f,isVoiceLoading:m,currentScript:g,hasApiKey:p,handleChoice:v,handleToggleMute:b,handleNextDialogue:S,toggleVoice:M,clearError:z,togglePause:Y,setDialogueOpacity:B,returnToTitle:H,startWithScript:Q,handleGeneratePlot:X,saveGameRecord:k,isAutoPlay:q,toggleAutoPlay:ne,isScriptMode:Z,currentCG:I,loadedScript:oe,scriptEnding:ie,handleStartScriptGame:we,loadFromSave:Ae,getCurrentSaveState:ft,getCurrentScriptId:de,getCurrentScriptTitle:K,jumpToHistory:N}=i5(),[V,$]=C.useState(!1),[ce,xe]=C.useState(!1),[A,L]=C.useState(!1),[F,W]=C.useState(!1),[le,he]=C.useState(!1),[me,Ke]=C.useState(!1),He=C.useRef(!1),xn=()=>{he(!0),a.isPaused&&Y()},Hn=()=>{Ke(!0),a.isPaused&&Y()},rn=_e=>{Ke(!1),Ae(_e)},Ia=_e=>{Ae(_e)},Xt=()=>{const _e=ft();if(_e&&Z){const et=de(),J=K();vv(et,0,{scriptId:et,scriptTitle:J,chapterIndex:_e.chapterIndex,dialogueIndex:_e.dialogueIndex,affection:_e.affection,turnsPlayed:_e.turnsPlayed,characterName:_e.characterName,currentExpression:_e.currentExpression,currentBackground:_e.currentBackground,currentBgm:_e.currentBgm,previewText:_e.currentDialogue.substring(0,50)+(_e.currentDialogue.length>50?"...":"")})}H()};C.useEffect(()=>{(async()=>{const et=ba.getInstance(),J=xa();setTimeout(()=>{et.preGenerateAllBatchData(J).catch(P=>{console.warn(":",P)})},1e3)})()},[]);const kn=s5({intensity:15,enabled:a.gameStarted&&!a.isPaused}),Ca=()=>{var et;switch((et=a.currentScene)==null?void 0:et.background){case Te.PARK_NIGHT:return"fireflies";case Te.SCHOOL_ROOFTOP:return"petals";case Te.STREET_SUNSET:return"leaves";default:return"none"}};C.useEffect(()=>{var _e;(_e=a.currentScene)!=null&&_e.isGameOver&&!He.current&&(He.current=!0,k()),a.gameStarted||(He.current=!1)},[(Yn=a.currentScene)==null?void 0:Yn.isGameOver,a.gameStarted,k]),C.useEffect(()=>{const _e=et=>{if(a.gameStarted&&!(et.target instanceof HTMLInputElement||et.target instanceof HTMLTextAreaElement)){if(et.key==="Escape"){et.preventDefault(),le?he(!1):me?Ke(!1):F?W(!1):Y();return}if(et.key===" "||et.code==="Space"){if(et.preventDefault(),a.isPaused||i||a.isLoading)return;S()}}};return window.addEventListener("keydown",_e),()=>window.removeEventListener("keydown",_e)},[a.gameStarted,a.isPaused,a.isLoading,i,le,me,F,Y,S]);const ns=_e=>{$(!1),_e.useAIMode===!0||!Vr(_e.id)?Q(_e):we(_e.id)},Wa=_e=>{xe(!1),$(!0)};return a.gameStarted?ie&&Z?y.jsx(Nv,{ending:ie,affection:a.affection,turnsPlayed:a.turn,characterName:Lc((oe==null?void 0:oe.id)||""),scriptTitle:(oe==null?void 0:oe.title)||"",onReturnToTitle:H}):(qn=a.currentScene)!=null&&qn.isGameOver?y.jsx(Ev,{narrative:a.currentScene.narrative,affection:a.affection,turnsPlayed:a.turn,characterName:(g==null?void 0:g.character.name)||"",onReturnToTitle:H}):y.jsxs("div",{className:"relative w-full h-screen overflow-hidden bg-black select-none",children:[y.jsx(Vg,{turn:a.turn,affection:a.affection,isMuted:d,onToggleMute:b,onPause:Y,onOpenHistory:()=>W(!0)}),y.jsx(_g,{type:((Xn=a.currentScene)==null?void 0:Xn.background)||Te.SCHOOL_ROOFTOP,parallaxOffset:kn,cgImage:I&&Z?I:void 0}),y.jsx(Bg,{triggerKey:((ei=a.currentScene)==null?void 0:ei.background)||"init",type:"fade"}),y.jsx(Gv,{type:Ca(),intensity:.4}),y.jsx(Mg,{expression:((ti=a.currentScene)==null?void 0:ti.expression)||Se.NEUTRAL,isVisible:!a.isLoading&&!(I&&Z),characterName:Z?Lc((oe==null?void 0:oe.id)||""):(g==null?void 0:g.character.name)||"",isSpeaking:Z?((dt=a.currentScene)==null?void 0:dt.speaker)===Lc((oe==null?void 0:oe.id)||""):((Kn=a.currentScene)==null?void 0:Kn.speaker)===(g==null?void 0:g.character.name),parallaxOffset:kn}),!(I&&Z)&&y.jsx(Rg,{speaker:((Da=a.currentScene)==null?void 0:Da.speaker)||"???",text:((Na=a.currentScene)==null?void 0:Na.dialogue)||((dn=a.currentScene)==null?void 0:dn.narrative)||"...",onNext:S,isTyping:l,setIsTyping:r,isVoiceEnabled:f,toggleVoice:M,isVoiceLoading:m,opacity:a.dialogueOpacity,isAutoPlay:q,toggleAutoPlay:ne}),I&&Z&&y.jsx("div",{className:"absolute inset-0 z-20 cursor-pointer",onClick:S,children:y.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 text-white/60 text-sm animate-pulse",children:""})}),y.jsx(zg,{choices:((_a=a.currentScene)==null?void 0:_a.choices)||[],onChoose:v,visible:i}),y.jsx(of,{isLoading:a.isLoading}),y.jsx(uf,{error:c,onClose:z}),y.jsx(Cv,{isVisible:a.isPaused,dialogueOpacity:a.dialogueOpacity,onResume:Y,onReturnToTitle:H,onOpacityChange:B,onSave:Z?xn:void 0,onLoad:Hn,onQuickSaveAndExit:Z?Xt:void 0,canSave:Z}),y.jsx(Dv,{isVisible:F,history:a.history,onClose:()=>W(!1),onJumpToHistory:N,canJump:Z}),y.jsx(zc,{isOpen:le,onClose:()=>he(!1),mode:"save",scriptId:de(),scriptTitle:K(),currentState:ft()||void 0}),y.jsx(zc,{isOpen:me,onClose:()=>Ke(!1),mode:"load",scriptId:de(),scriptTitle:K(),onLoad:rn})]}):y.jsxs(y.Fragment,{children:[y.jsx(xv,{hasApiKey:p,isLoading:a.isLoading,error:c,onStart:()=>Ke(!0),onErrorClose:z,onOpenScriptLibrary:()=>$(!0),onOpenSettings:()=>L(!0),onContinueGame:Ia}),y.jsx(Uv,{isVisible:V,onClose:()=>$(!1),onSelectScript:ns,onCreateNew:()=>{$(!1),xe(!0)}}),ce&&y.jsx(Ff,{onSave:Wa,onCancel:()=>{xe(!1),$(!0)},onGeneratePlot:X}),y.jsx(Hv,{isOpen:A,dialogueOpacity:a.dialogueOpacity,isMuted:d,onClose:()=>L(!1),onOpacityChange:B,onToggleMute:b}),y.jsx(zc,{isOpen:me,onClose:()=>Ke(!1),mode:"load",showAllScripts:!0,onLoad:rn})]})};class c5 extends C.Component{constructor(i){super(i),this.handleReset=()=>{this.setState({hasError:!1,error:null}),window.location.reload()},this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,l){console.error("ErrorBoundary caught an error:",i,l)}render(){var i;return this.state.hasError?y.jsx("div",{className:"w-full h-screen bg-slate-900 flex flex-col items-center justify-center p-8",children:y.jsxs("div",{className:"max-w-md text-center",children:[y.jsx("h1",{className:"text-4xl text-red-400 font-bold mb-4",children:""}),y.jsx("p",{className:"text-slate-300 mb-2",children:""}),y.jsx("p",{className:"text-slate-500 text-sm mb-6 font-mono bg-slate-800 p-3 rounded",children:((i=this.state.error)==null?void 0:i.message)||""}),y.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 bg-pink-600 hover:bg-pink-500 text-white rounded-lg transition-colors",children:""})]})}):this.props.children}}const kv=document.getElementById("root");if(!kv)throw new Error("Could not find root element to mount to");const f5=d1.createRoot(kv);f5.render(y.jsx(i1.StrictMode,{children:y.jsx(c5,{children:y.jsx(D1,{children:y.jsx(u5,{})})})}));
