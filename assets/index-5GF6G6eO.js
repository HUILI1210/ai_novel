(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function Dg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var oc={exports:{}},Zs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function e1(){if(X0)return Zs;X0=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(r,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:a,type:r,key:f,ref:c!==void 0?c:null,props:d}}return Zs.Fragment=i,Zs.jsx=l,Zs.jsxs=l,Zs}var K0;function t1(){return K0||(K0=1,oc.exports=e1()),oc.exports}var y=t1(),uc={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function n1(){if(Q0)return pe;Q0=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function M(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,B={};function H(A,L,F){this.props=A,this.context=L,this.refs=B,this.updater=F||z}H.prototype.isReactComponent={},H.prototype.setState=function(A,L){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,L,"setState")},H.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function Q(){}Q.prototype=H.prototype;function X(A,L,F){this.props=A,this.context=L,this.refs=B,this.updater=F||z}var k=X.prototype=new Q;k.constructor=X,Y(k,H.prototype),k.isPureReactComponent=!0;var q=Array.isArray;function ne(){}var Z={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function oe(A,L,F){var W=F.ref;return{$$typeof:a,type:A,key:L,ref:W!==void 0?W:null,props:F}}function ie(A,L){return oe(A.type,L,A.props)}function we(A){return typeof A=="object"&&A!==null&&A.$$typeof===a}function Ae(A){var L={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(F){return L[F]})}var ct=/\/+/g;function de(A,L){return typeof A=="object"&&A!==null&&A.key!=null?Ae(""+A.key):L.toString(36)}function K(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ne,ne):(A.status="pending",A.then(function(L){A.status==="pending"&&(A.status="fulfilled",A.value=L)},function(L){A.status==="pending"&&(A.status="rejected",A.reason=L)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function N(A,L,F,W,le){var he=typeof A;(he==="undefined"||he==="boolean")&&(A=null);var me=!1;if(A===null)me=!0;else switch(he){case"bigint":case"string":case"number":me=!0;break;case"object":switch(A.$$typeof){case a:case i:me=!0;break;case v:return me=A._init,N(me(A._payload),L,F,W,le)}}if(me)return le=le(A),me=W===""?"."+de(A,0):W,q(le)?(F="",me!=null&&(F=me.replace(ct,"$&/")+"/"),N(le,L,F,"",function(vn){return vn})):le!=null&&(we(le)&&(le=ie(le,F+(le.key==null||A&&A.key===le.key?"":(""+le.key).replace(ct,"$&/")+"/")+me)),L.push(le)),1;me=0;var Xe=W===""?".":W+":";if(q(A))for(var Ge=0;Ge<A.length;Ge++)W=A[Ge],he=Xe+de(W,Ge),me+=N(W,L,F,he,le);else if(Ge=M(A),typeof Ge=="function")for(A=Ge.call(A),Ge=0;!(W=A.next()).done;)W=W.value,he=Xe+de(W,Ge++),me+=N(W,L,F,he,le);else if(he==="object"){if(typeof A.then=="function")return N(K(A),L,F,W,le);throw L=String(A),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return me}function V(A,L,F){if(A==null)return A;var W=[],le=0;return N(A,W,"","",function(he){return L.call(F,he,le++)}),W}function $(A){if(A._status===-1){var L=A._result;L=L(),L.then(function(F){(A._status===0||A._status===-1)&&(A._status=1,A._result=F)},function(F){(A._status===0||A._status===-1)&&(A._status=2,A._result=F)}),A._status===-1&&(A._status=0,A._result=L)}if(A._status===1)return A._result.default;throw A._result}var ce=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},xe={map:V,forEach:function(A,L,F){V(A,function(){L.apply(this,arguments)},F)},count:function(A){var L=0;return V(A,function(){L++}),L},toArray:function(A){return V(A,function(L){return L})||[]},only:function(A){if(!we(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return pe.Activity=b,pe.Children=xe,pe.Component=H,pe.Fragment=l,pe.Profiler=c,pe.PureComponent=X,pe.StrictMode=r,pe.Suspense=g,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,pe.__COMPILER_RUNTIME={__proto__:null,c:function(A){return Z.H.useMemoCache(A)}},pe.cache=function(A){return function(){return A.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(A,L,F){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var W=Y({},A.props),le=A.key;if(L!=null)for(he in L.key!==void 0&&(le=""+L.key),L)!I.call(L,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&L.ref===void 0||(W[he]=L[he]);var he=arguments.length-2;if(he===1)W.children=F;else if(1<he){for(var me=Array(he),Xe=0;Xe<he;Xe++)me[Xe]=arguments[Xe+2];W.children=me}return oe(A.type,le,W)},pe.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},pe.createElement=function(A,L,F){var W,le={},he=null;if(L!=null)for(W in L.key!==void 0&&(he=""+L.key),L)I.call(L,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(le[W]=L[W]);var me=arguments.length-2;if(me===1)le.children=F;else if(1<me){for(var Xe=Array(me),Ge=0;Ge<me;Ge++)Xe[Ge]=arguments[Ge+2];le.children=Xe}if(A&&A.defaultProps)for(W in me=A.defaultProps,me)le[W]===void 0&&(le[W]=me[W]);return oe(A,he,le)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(A){return{$$typeof:m,render:A}},pe.isValidElement=we,pe.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:$}},pe.memo=function(A,L){return{$$typeof:p,type:A,compare:L===void 0?null:L}},pe.startTransition=function(A){var L=Z.T,F={};Z.T=F;try{var W=A(),le=Z.S;le!==null&&le(F,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ne,ce)}catch(he){ce(he)}finally{L!==null&&F.types!==null&&(L.types=F.types),Z.T=L}},pe.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},pe.use=function(A){return Z.H.use(A)},pe.useActionState=function(A,L,F){return Z.H.useActionState(A,L,F)},pe.useCallback=function(A,L){return Z.H.useCallback(A,L)},pe.useContext=function(A){return Z.H.useContext(A)},pe.useDebugValue=function(){},pe.useDeferredValue=function(A,L){return Z.H.useDeferredValue(A,L)},pe.useEffect=function(A,L){return Z.H.useEffect(A,L)},pe.useEffectEvent=function(A){return Z.H.useEffectEvent(A)},pe.useId=function(){return Z.H.useId()},pe.useImperativeHandle=function(A,L,F){return Z.H.useImperativeHandle(A,L,F)},pe.useInsertionEffect=function(A,L){return Z.H.useInsertionEffect(A,L)},pe.useLayoutEffect=function(A,L){return Z.H.useLayoutEffect(A,L)},pe.useMemo=function(A,L){return Z.H.useMemo(A,L)},pe.useOptimistic=function(A,L){return Z.H.useOptimistic(A,L)},pe.useReducer=function(A,L,F){return Z.H.useReducer(A,L,F)},pe.useRef=function(A){return Z.H.useRef(A)},pe.useState=function(A){return Z.H.useState(A)},pe.useSyncExternalStore=function(A,L,F){return Z.H.useSyncExternalStore(A,L,F)},pe.useTransition=function(){return Z.H.useTransition()},pe.version="19.2.0",pe}var Z0;function lf(){return Z0||(Z0=1,uc.exports=n1()),uc.exports}var C=lf();const a1=Dg(C);var cc={exports:{}},Fs={},fc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function i1(){return F0||(F0=1,(function(a){function i(N,V){var $=N.length;N.push(V);e:for(;0<$;){var ce=$-1>>>1,xe=N[ce];if(0<c(xe,V))N[ce]=V,N[$]=xe,$=ce;else break e}}function l(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var V=N[0],$=N.pop();if($!==V){N[0]=$;e:for(var ce=0,xe=N.length,A=xe>>>1;ce<A;){var L=2*(ce+1)-1,F=N[L],W=L+1,le=N[W];if(0>c(F,$))W<xe&&0>c(le,F)?(N[ce]=le,N[W]=$,ce=W):(N[ce]=F,N[L]=$,ce=L);else if(W<xe&&0>c(le,$))N[ce]=le,N[W]=$,ce=W;else break e}}return V}function c(N,V){var $=N.sortIndex-V.sortIndex;return $!==0?$:N.id-V.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var g=[],p=[],v=1,b=null,S=3,M=!1,z=!1,Y=!1,B=!1,H=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function k(N){for(var V=l(p);V!==null;){if(V.callback===null)r(p);else if(V.startTime<=N)r(p),V.sortIndex=V.expirationTime,i(g,V);else break;V=l(p)}}function q(N){if(Y=!1,k(N),!z)if(l(g)!==null)z=!0,ne||(ne=!0,Ae());else{var V=l(p);V!==null&&K(q,V.startTime-N)}}var ne=!1,Z=-1,I=5,oe=-1;function ie(){return B?!0:!(a.unstable_now()-oe<I)}function we(){if(B=!1,ne){var N=a.unstable_now();oe=N;var V=!0;try{e:{z=!1,Y&&(Y=!1,Q(Z),Z=-1),M=!0;var $=S;try{t:{for(k(N),b=l(g);b!==null&&!(b.expirationTime>N&&ie());){var ce=b.callback;if(typeof ce=="function"){b.callback=null,S=b.priorityLevel;var xe=ce(b.expirationTime<=N);if(N=a.unstable_now(),typeof xe=="function"){b.callback=xe,k(N),V=!0;break t}b===l(g)&&r(g),k(N)}else r(g);b=l(g)}if(b!==null)V=!0;else{var A=l(p);A!==null&&K(q,A.startTime-N),V=!1}}break e}finally{b=null,S=$,M=!1}V=void 0}}finally{V?Ae():ne=!1}}}var Ae;if(typeof X=="function")Ae=function(){X(we)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,de=ct.port2;ct.port1.onmessage=we,Ae=function(){de.postMessage(null)}}else Ae=function(){H(we,0)};function K(N,V){Z=H(function(){N(a.unstable_now())},V)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(N){N.callback=null},a.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<N?Math.floor(1e3/N):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(N){switch(S){case 1:case 2:case 3:var V=3;break;default:V=S}var $=S;S=V;try{return N()}finally{S=$}},a.unstable_requestPaint=function(){B=!0},a.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=S;S=N;try{return V()}finally{S=$}},a.unstable_scheduleCallback=function(N,V,$){var ce=a.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ce+$:ce):$=ce,N){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=$+xe,N={id:v++,callback:V,priorityLevel:N,startTime:$,expirationTime:xe,sortIndex:-1},$>ce?(N.sortIndex=$,i(p,N),l(g)===null&&N===l(p)&&(Y?(Q(Z),Z=-1):Y=!0,K(q,$-ce))):(N.sortIndex=xe,i(g,N),z||M||(z=!0,ne||(ne=!0,Ae()))),N},a.unstable_shouldYield=ie,a.unstable_wrapCallback=function(N){var V=S;return function(){var $=S;S=V;try{return N.apply(this,arguments)}finally{S=$}}}})(dc)),dc}var J0;function s1(){return J0||(J0=1,fc.exports=i1()),fc.exports}var hc={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function l1(){if($0)return Tt;$0=1;var a=lf();function i(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:p,implementation:v}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return d(g,p,null,v)},Tt.flushSync=function(g){var p=f.T,v=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=p,r.p=v,r.d.f()}},Tt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Tt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Tt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:M}):v==="script"&&r.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Tt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin);r.d.L(g,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Tt.requestFormReset=function(g){r.d.r(g)},Tt.unstable_batchedUpdates=function(g,p){return g(p)},Tt.useFormState=function(g,p,v){return f.H.useFormState(g,p,v)},Tt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Tt.version="19.2.0",Tt}var P0;function r1(){if(P0)return hc.exports;P0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),hc.exports=l1(),hc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function o1(){if(I0)return Fs;I0=1;var a=s1(),i=lf(),l=r1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return g(o),e;if(u===s)return g(o),t;u=u.sibling}throw Error(r(188))}if(n.return!==s.return)n=o,s=u;else{for(var h=!1,x=o.child;x;){if(x===n){h=!0,n=o,s=u;break}if(x===s){h=!0,s=o,n=u;break}x=x.sibling}if(!h){for(x=u.child;x;){if(x===n){h=!0,n=u,s=o;break}if(x===s){h=!0,s=u,n=o;break}x=x.sibling}if(!h)throw Error(r(189))}}if(n.alternate!==s)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),X=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=we&&e[we]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ct?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case H:return"Profiler";case B:return"StrictMode";case q:return"Suspense";case ne:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case X:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}var K=Array.isArray,N=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},ce=[],xe=-1;function A(e){return{current:e}}function L(e){0>xe||(e.current=ce[xe],ce[xe]=null,xe--)}function F(e,t){xe++,ce[xe]=e.current,e.current=t}var W=A(null),le=A(null),he=A(null),me=A(null);function Xe(e,t){switch(F(he,t),F(le,e),F(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?h0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=h0(t),e=m0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(W),F(W,e)}function Ge(){L(W),L(le),L(he)}function vn(e){e.memoizedState!==null&&F(me,e);var t=W.current,n=m0(t,e.type);t!==n&&(F(le,e),F(W,n))}function Gn(e){le.current===e&&(L(W),L(le)),me.current===e&&(L(me),qs._currentValue=$)}var ln,Pa;function qt(e){if(ln===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ln=t&&t[1]||"",Pa=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ln+e+Pa}var Hn=!1;function Ea(e,t){if(!e||Hn)return"";Hn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(O){var j=O}Reflect.construct(e,[],G)}else{try{G.call()}catch(O){j=O}e.call(G.prototype)}}else{try{throw Error()}catch(O){j=O}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(O){if(O&&j&&typeof O.stack=="string")return[O.stack,j.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),h=u[0],x=u[1];if(h&&x){var T=h.split(`
`),w=x.split(`
`);for(o=s=0;s<T.length&&!T[s].includes("DetermineComponentFrameRoot");)s++;for(;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;if(s===T.length||o===w.length)for(s=T.length-1,o=w.length-1;1<=s&&0<=o&&T[s]!==w[o];)o--;for(;1<=s&&0<=o;s--,o--)if(T[s]!==w[o]){if(s!==1||o!==1)do if(s--,o--,0>o||T[s]!==w[o]){var R=`
`+T[s].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=s&&0<=o);break}}}finally{Hn=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?qt(n):""}function ts(e,t){switch(e.tag){case 26:case 27:case 5:return qt(e.type);case 16:return qt("Lazy");case 13:return e.child!==t&&t!==null?qt("Suspense Fallback"):qt("Suspense");case 19:return qt("SuspenseList");case 0:case 15:return Ea(e.type,!1);case 11:return Ea(e.type.render,!1);case 1:return Ea(e.type,!0);case 31:return qt("Activity");default:return""}}function Ia(e){try{var t="",n=null;do t+=ts(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var kn=Object.prototype.hasOwnProperty,Yn=a.unstable_scheduleCallback,qn=a.unstable_cancelCallback,Wa=a.unstable_shouldYield,ei=a.unstable_requestPaint,ft=a.unstable_now,Xn=a.unstable_getCurrentPriorityLevel,Ca=a.unstable_ImmediatePriority,Da=a.unstable_UserBlockingPriority,fn=a.unstable_NormalPriority,Na=a.unstable_LowPriority,_e=a.unstable_IdlePriority,We=a.log,J=a.unstable_setDisableYieldValue,P=null,ee=null;function ue(e){if(typeof We=="function"&&J(e),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(P,e)}catch{}}var ge=Math.clz32?Math.clz32:Ke,ke=Math.log,dt=Math.LN2;function Ke(e){return e>>>=0,e===0?32:31-(ke(e)/dt|0)|0}var be=256,Qe=262144,Et=4194304;function Xt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~u,s!==0?o=Xt(s):(h&=x,h!==0?o=Xt(h):n||(n=x&~e,n!==0&&(o=Xt(n))))):(x=s&~u,x!==0?o=Xt(x):h!==0?o=Xt(h):n||(n=s&~e,n!==0&&(o=Xt(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function ns(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function kv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ff(){var e=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),e}function Jr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function as(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yv(e,t,n,s,o,u){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,T=e.expirationTimes,w=e.hiddenUpdates;for(n=h&~n;0<n;){var R=31-ge(n),G=1<<R;x[R]=0,T[R]=-1;var j=w[R];if(j!==null)for(w[R]=null,R=0;R<j.length;R++){var O=j[R];O!==null&&(O.lane&=-536870913)}n&=~G}s!==0&&Jf(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function Jf(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ge(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function $f(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-ge(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}function Pf(e,t){var n=t&-t;return n=(n&42)!==0?1:$r(n),(n&(e.suspendedLanes|t))!==0?0:n}function $r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function If(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:L0(e.type))}function Wf(e,t){var n=V.p;try{return V.p=e,t()}finally{V.p=n}}var Kn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Kn,Nt="__reactProps$"+Kn,ni="__reactContainer$"+Kn,Ir="__reactEvents$"+Kn,qv="__reactListeners$"+Kn,Xv="__reactHandles$"+Kn,ed="__reactResources$"+Kn,is="__reactMarker$"+Kn;function Wr(e){delete e[gt],delete e[Nt],delete e[Ir],delete e[qv],delete e[Xv]}function ai(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ni]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=S0(e);e!==null;){if(n=e[gt])return n;e=S0(e)}return t}e=n,n=e.parentNode}return null}function ii(e){if(e=e[gt]||e[ni]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ss(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function si(e){var t=e[ed];return t||(t=e[ed]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[is]=!0}var td=new Set,nd={};function _a(e,t){li(e,t),li(e+"Capture",t)}function li(e,t){for(nd[e]=t,e=0;e<t.length;e++)td.add(t[e])}var Kv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ad={},id={};function Qv(e){return kn.call(id,e)?!0:kn.call(ad,e)?!1:Kv.test(e)?id[e]=!0:(ad[e]=!0,!1)}function hl(e,t,n){if(Qv(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ml(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function xn(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zv(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){n=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function eo(e){if(!e._valueTracker){var t=sd(e)?"checked":"value";e._valueTracker=Zv(e,t,""+e[t])}}function ld(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=sd(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Fv=/[\n"\\]/g;function Qt(e){return e.replace(Fv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function to(e,t,n,s,o,u,h,x){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?no(e,h,Kt(t)):n!=null?no(e,h,Kt(n)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Kt(x):e.removeAttribute("name")}function rd(e,t,n,s,o,u,h,x){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){eo(e);return}n=n!=null?""+Kt(n):"",t=t!=null?""+Kt(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),eo(e)}function no(e,t,n){t==="number"&&pl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ri(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Kt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function od(e,t,n){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Kt(n):""}function ud(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(r(92));if(K(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Kt(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),eo(e)}function oi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Jv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||Jv.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function fd(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&n[o]!==s&&cd(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&cd(e,u,t[u])}function ao(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $v=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gl(e){return Pv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bn(){}var io=null;function so(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ui=null,ci=null;function dd(e){var t=ii(e);if(t&&(e=t.stateNode)){var n=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(to(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Qt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=s[Nt]||null;if(!o)throw Error(r(90));to(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&ld(s)}break e;case"textarea":od(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ri(e,!!n.multiple,t,!1)}}}var lo=!1;function hd(e,t,n){if(lo)return e(t,n);lo=!0;try{var s=e(t);return s}finally{if(lo=!1,(ui!==null||ci!==null)&&(ar(),ui&&(t=ui,e=ci,ci=ui=null,dd(t),e)))for(t=0;t<e.length;t++)dd(e[t])}}function ls(e,t){var n=e.stateNode;if(n===null)return null;var s=n[Nt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ro=!1;if(Sn)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){ro=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{ro=!1}var Qn=null,oo=null,yl=null;function md(){if(yl)return yl;var e,t=oo,n=t.length,s,o="value"in Qn?Qn.value:Qn.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var h=n-e;for(s=1;s<=h&&t[n-s]===o[u-s];s++);return yl=o.slice(e,1<s?1-s:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function pd(){return!1}function _t(e){function t(n,s,o,u,h){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(u):u[x]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?xl:pd,this.isPropagationStopped=pd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),t}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=_t(Ma),os=b({},Ma,{view:0,detail:0}),Iv=_t(os),uo,co,us,Sl=b({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==us&&(us&&e.type==="mousemove"?(uo=e.screenX-us.screenX,co=e.screenY-us.screenY):co=uo=0,us=e),uo)},movementY:function(e){return"movementY"in e?e.movementY:co}}),gd=_t(Sl),Wv=b({},Sl,{dataTransfer:0}),ex=_t(Wv),tx=b({},os,{relatedTarget:0}),fo=_t(tx),nx=b({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),ax=_t(nx),ix=b({},Ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sx=_t(ix),lx=b({},Ma,{data:0}),yd=_t(lx),rx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ux={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ux[e])?!!t[e]:!1}function ho(){return cx}var fx=b({},os,{key:function(e){if(e.key){var t=rx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ox[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dx=_t(fx),hx=b({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vd=_t(hx),mx=b({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),px=_t(mx),gx=b({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),yx=_t(gx),vx=b({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xx=_t(vx),bx=b({},Ma,{newState:0,oldState:0}),Sx=_t(bx),Tx=[9,13,27,32],mo=Sn&&"CompositionEvent"in window,cs=null;Sn&&"documentMode"in document&&(cs=document.documentMode);var Ax=Sn&&"TextEvent"in window&&!cs,xd=Sn&&(!mo||cs&&8<cs&&11>=cs),bd=" ",Sd=!1;function Td(e,t){switch(e){case"keyup":return Tx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ad(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fi=!1;function Ex(e,t){switch(e){case"compositionend":return Ad(t);case"keypress":return t.which!==32?null:(Sd=!0,bd);case"textInput":return e=t.data,e===bd&&Sd?null:e;default:return null}}function Cx(e,t){if(fi)return e==="compositionend"||!mo&&Td(e,t)?(e=md(),yl=oo=Qn=null,fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xd&&t.locale!=="ko"?null:t.data;default:return null}}var Dx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dx[e.type]:t==="textarea"}function Cd(e,t,n,s){ui?ci?ci.push(s):ci=[s]:ui=s,t=cr(t,"onChange"),0<t.length&&(n=new bl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var fs=null,ds=null;function Nx(e){r0(e,0)}function Tl(e){var t=ss(e);if(ld(t))return e}function Dd(e,t){if(e==="change")return t}var Nd=!1;if(Sn){var po;if(Sn){var go="oninput"in document;if(!go){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),go=typeof _d.oninput=="function"}po=go}else po=!1;Nd=po&&(!document.documentMode||9<document.documentMode)}function Md(){fs&&(fs.detachEvent("onpropertychange",wd),ds=fs=null)}function wd(e){if(e.propertyName==="value"&&Tl(ds)){var t=[];Cd(t,ds,e,so(e)),hd(Nx,t)}}function _x(e,t,n){e==="focusin"?(Md(),fs=t,ds=n,fs.attachEvent("onpropertychange",wd)):e==="focusout"&&Md()}function Mx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tl(ds)}function wx(e,t){if(e==="click")return Tl(t)}function jx(e,t){if(e==="input"||e==="change")return Tl(t)}function Ox(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Ox;function hs(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!kn.call(t,o)||!Vt(e[o],t[o]))return!1}return!0}function jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Od(e,t){var n=jd(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jd(n)}}function Rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=pl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pl(e.document)}return t}function yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Rx=Sn&&"documentMode"in document&&11>=document.documentMode,di=null,vo=null,ms=null,xo=!1;function Bd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xo||di==null||di!==pl(s)||(s=di,"selectionStart"in s&&yo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ms&&hs(ms,s)||(ms=s,s=cr(vo,"onSelect"),0<s.length&&(t=new bl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=di)))}function wa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hi={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},bo={},Vd={};Sn&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function ja(e){if(bo[e])return bo[e];if(!hi[e])return e;var t=hi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vd)return bo[e]=t[n];return e}var Ld=ja("animationend"),Ud=ja("animationiteration"),Gd=ja("animationstart"),zx=ja("transitionrun"),Bx=ja("transitionstart"),Vx=ja("transitioncancel"),Hd=ja("transitionend"),kd=new Map,So="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");So.push("scrollEnd");function rn(e,t){kd.set(e,t),_a(t,[e])}var Al=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zt=[],mi=0,To=0;function El(){for(var e=mi,t=To=mi=0;t<e;){var n=Zt[t];Zt[t++]=null;var s=Zt[t];Zt[t++]=null;var o=Zt[t];Zt[t++]=null;var u=Zt[t];if(Zt[t++]=null,s!==null&&o!==null){var h=s.pending;h===null?o.next=o:(o.next=h.next,h.next=o),s.pending=o}u!==0&&Yd(n,o,u)}}function Cl(e,t,n,s){Zt[mi++]=e,Zt[mi++]=t,Zt[mi++]=n,Zt[mi++]=s,To|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ao(e,t,n,s){return Cl(e,t,n,s),Dl(e)}function Oa(e,t){return Cl(e,null,null,t),Dl(e)}function Yd(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,s=u.alternate,s!==null&&(s.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-ge(n),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=n|536870912),u):null}function Dl(e){if(50<Vs)throw Vs=0,Ou=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pi={};function Lx(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,n,s){return new Lx(e,t,n,s)}function Eo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tn(e,t){var n=e.alternate;return n===null?(n=Lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Nl(e,t,n,s,o,u){var h=0;if(s=e,typeof e=="function")Eo(e)&&(h=1);else if(typeof e=="string")h=Yb(e,n,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=Lt(31,n,t,o),e.elementType=oe,e.lanes=u,e;case Y:return Ra(n.children,o,u,t);case B:h=8,o|=24;break;case H:return e=Lt(12,n,t,o|2),e.elementType=H,e.lanes=u,e;case q:return e=Lt(13,n,t,o),e.elementType=q,e.lanes=u,e;case ne:return e=Lt(19,n,t,o),e.elementType=ne,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:h=10;break e;case Q:h=9;break e;case k:h=11;break e;case Z:h=14;break e;case I:h=16,s=null;break e}h=29,n=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=Lt(h,n,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function Ra(e,t,n,s){return e=Lt(7,e,s,t),e.lanes=n,e}function Co(e,t,n){return e=Lt(6,e,null,t),e.lanes=n,e}function Xd(e){var t=Lt(18,null,null,0);return t.stateNode=e,t}function Do(e,t,n){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kd=new WeakMap;function Ft(e,t){if(typeof e=="object"&&e!==null){var n=Kd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ia(t)},Kd.set(e,t),t)}return{value:e,source:t,stack:Ia(t)}}var gi=[],yi=0,_l=null,ps=0,Jt=[],$t=0,Zn=null,dn=1,hn="";function An(e,t){gi[yi++]=ps,gi[yi++]=_l,_l=e,ps=t}function Qd(e,t,n){Jt[$t++]=dn,Jt[$t++]=hn,Jt[$t++]=Zn,Zn=e;var s=dn;e=hn;var o=32-ge(s)-1;s&=~(1<<o),n+=1;var u=32-ge(t)+o;if(30<u){var h=o-o%5;u=(s&(1<<h)-1).toString(32),s>>=h,o-=h,dn=1<<32-ge(t)+o|n<<o|s,hn=u+e}else dn=1<<u|n<<o|s,hn=e}function No(e){e.return!==null&&(An(e,1),Qd(e,1,0))}function _o(e){for(;e===_l;)_l=gi[--yi],gi[yi]=null,ps=gi[--yi],gi[yi]=null;for(;e===Zn;)Zn=Jt[--$t],Jt[$t]=null,hn=Jt[--$t],Jt[$t]=null,dn=Jt[--$t],Jt[$t]=null}function Zd(e,t){Jt[$t++]=dn,Jt[$t++]=hn,Jt[$t++]=Zn,dn=t.id,hn=t.overflow,Zn=e}var yt=null,Ye=null,Me=!1,Fn=null,Pt=!1,Mo=Error(r(519));function Jn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gs(Ft(t,e)),Mo}function Fd(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[gt]=e,t[Nt]=s,n){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(n=0;n<Us.length;n++)Ce(Us[n],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),rd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),ud(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||f0(t.textContent,n)?(s.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),s.onScroll!=null&&Ce("scroll",t),s.onScrollEnd!=null&&Ce("scrollend",t),s.onClick!=null&&(t.onclick=bn),t=!0):t=!1,t||Jn(e,!0)}function Jd(e){for(yt=e.return;yt;)switch(yt.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:yt=yt.return}}function vi(e){if(e!==yt)return!1;if(!Me)return Jd(e),Me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Zu(e.type,e.memoizedProps)),n=!n),n&&Ye&&Jn(e),Jd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ye=b0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ye=b0(e)}else t===27?(t=Ye,ua(e.type)?(e=Iu,Iu=null,Ye=e):Ye=t):Ye=yt?Wt(e.stateNode.nextSibling):null;return!0}function za(){Ye=yt=null,Me=!1}function wo(){var e=Fn;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),Fn=null),e}function gs(e){Fn===null?Fn=[e]:Fn.push(e)}var jo=A(null),Ba=null,En=null;function $n(e,t,n){F(jo,t._currentValue),t._currentValue=n}function Cn(e){e._currentValue=jo.current,L(jo)}function Oo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t,n,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var h=o.child;u=u.firstContext;e:for(;u!==null;){var x=u;u=o;for(var T=0;T<t.length;T++)if(x.context===t[T]){u.lanes|=n,x=u.alternate,x!==null&&(x.lanes|=n),Oo(u.return,n,e),s||(h=null);break e}u=x.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(r(341));h.lanes|=n,u=h.alternate,u!==null&&(u.lanes|=n),Oo(h,n,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function xi(e,t,n,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(r(387));if(h=h.memoizedProps,h!==null){var x=o.type;Vt(o.pendingProps.value,h.value)||(e!==null?e.push(x):e=[x])}}else if(o===me.current){if(h=o.alternate,h===null)throw Error(r(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(qs):e=[qs])}o=o.return}e!==null&&Ro(t,e,n,s),t.flags|=262144}function Ml(e){for(e=e.firstContext;e!==null;){if(!Vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Va(e){Ba=e,En=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return $d(Ba,e)}function wl(e,t){return Ba===null&&Va(e),$d(e,t)}function $d(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},En===null){if(e===null)throw Error(r(308));En=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else En=En.next=t;return n}var Ux=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Gx=a.unstable_scheduleCallback,Hx=a.unstable_NormalPriority,at={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zo(){return{controller:new Ux,data:new Map,refCount:0}}function ys(e){e.refCount--,e.refCount===0&&Gx(Hx,function(){e.controller.abort()})}var vs=null,Bo=0,bi=0,Si=null;function kx(e,t){if(vs===null){var n=vs=[];Bo=0,bi=Uu(),Si={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Bo++,t.then(Pd,Pd),t}function Pd(){if(--Bo===0&&vs!==null){Si!==null&&(Si.status="fulfilled");var e=vs;vs=null,bi=0,Si=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Yx(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),s}var Id=N.S;N.S=function(e,t){Bm=ft(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&kx(e,t),Id!==null&&Id(e,t)};var La=A(null);function Vo(){var e=La.current;return e!==null?e:He.pooledCache}function jl(e,t){t===null?F(La,La.current):F(La,t.pool)}function Wd(){var e=Vo();return e===null?null:{parent:at._currentValue,pool:e}}var Ti=Error(r(460)),Lo=Error(r(474)),Ol=Error(r(542)),Rl={then:function(){}};function eh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function th(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(bn,bn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ah(e),e;default:if(typeof t.status=="string")t.then(bn,bn);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ah(e),e}throw Ga=t,Ti}}function Ua(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ga=n,Ti):n}}var Ga=null;function nh(){if(Ga===null)throw Error(r(459));var e=Ga;return Ga=null,e}function ah(e){if(e===Ti||e===Ol)throw Error(r(483))}var Ai=null,xs=0;function zl(e){var t=xs;return xs+=1,Ai===null&&(Ai=[]),th(Ai,e,t)}function bs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Bl(e,t){throw t.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ih(e){function t(D,E){if(e){var _=D.deletions;_===null?(D.deletions=[E],D.flags|=16):_.push(E)}}function n(D,E){if(!e)return null;for(;E!==null;)t(D,E),E=E.sibling;return null}function s(D){for(var E=new Map;D!==null;)D.key!==null?E.set(D.key,D):E.set(D.index,D),D=D.sibling;return E}function o(D,E){return D=Tn(D,E),D.index=0,D.sibling=null,D}function u(D,E,_){return D.index=_,e?(_=D.alternate,_!==null?(_=_.index,_<E?(D.flags|=67108866,E):_):(D.flags|=67108866,E)):(D.flags|=1048576,E)}function h(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function x(D,E,_,U){return E===null||E.tag!==6?(E=Co(_,D.mode,U),E.return=D,E):(E=o(E,_),E.return=D,E)}function T(D,E,_,U){var se=_.type;return se===Y?R(D,E,_.props.children,U,_.key):E!==null&&(E.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===I&&Ua(se)===E.type)?(E=o(E,_.props),bs(E,_),E.return=D,E):(E=Nl(_.type,_.key,_.props,null,D.mode,U),bs(E,_),E.return=D,E)}function w(D,E,_,U){return E===null||E.tag!==4||E.stateNode.containerInfo!==_.containerInfo||E.stateNode.implementation!==_.implementation?(E=Do(_,D.mode,U),E.return=D,E):(E=o(E,_.children||[]),E.return=D,E)}function R(D,E,_,U,se){return E===null||E.tag!==7?(E=Ra(_,D.mode,U,se),E.return=D,E):(E=o(E,_),E.return=D,E)}function G(D,E,_){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Co(""+E,D.mode,_),E.return=D,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case M:return _=Nl(E.type,E.key,E.props,null,D.mode,_),bs(_,E),_.return=D,_;case z:return E=Do(E,D.mode,_),E.return=D,E;case I:return E=Ua(E),G(D,E,_)}if(K(E)||Ae(E))return E=Ra(E,D.mode,_,null),E.return=D,E;if(typeof E.then=="function")return G(D,zl(E),_);if(E.$$typeof===X)return G(D,wl(D,E),_);Bl(D,E)}return null}function j(D,E,_,U){var se=E!==null?E.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return se!==null?null:x(D,E,""+_,U);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case M:return _.key===se?T(D,E,_,U):null;case z:return _.key===se?w(D,E,_,U):null;case I:return _=Ua(_),j(D,E,_,U)}if(K(_)||Ae(_))return se!==null?null:R(D,E,_,U,null);if(typeof _.then=="function")return j(D,E,zl(_),U);if(_.$$typeof===X)return j(D,E,wl(D,_),U);Bl(D,_)}return null}function O(D,E,_,U,se){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return D=D.get(_)||null,x(E,D,""+U,se);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case M:return D=D.get(U.key===null?_:U.key)||null,T(E,D,U,se);case z:return D=D.get(U.key===null?_:U.key)||null,w(E,D,U,se);case I:return U=Ua(U),O(D,E,_,U,se)}if(K(U)||Ae(U))return D=D.get(_)||null,R(E,D,U,se,null);if(typeof U.then=="function")return O(D,E,_,zl(U),se);if(U.$$typeof===X)return O(D,E,_,wl(E,U),se);Bl(E,U)}return null}function te(D,E,_,U){for(var se=null,je=null,ae=E,ve=E=0,Ne=null;ae!==null&&ve<_.length;ve++){ae.index>ve?(Ne=ae,ae=null):Ne=ae.sibling;var Oe=j(D,ae,_[ve],U);if(Oe===null){ae===null&&(ae=Ne);break}e&&ae&&Oe.alternate===null&&t(D,ae),E=u(Oe,E,ve),je===null?se=Oe:je.sibling=Oe,je=Oe,ae=Ne}if(ve===_.length)return n(D,ae),Me&&An(D,ve),se;if(ae===null){for(;ve<_.length;ve++)ae=G(D,_[ve],U),ae!==null&&(E=u(ae,E,ve),je===null?se=ae:je.sibling=ae,je=ae);return Me&&An(D,ve),se}for(ae=s(ae);ve<_.length;ve++)Ne=O(ae,D,ve,_[ve],U),Ne!==null&&(e&&Ne.alternate!==null&&ae.delete(Ne.key===null?ve:Ne.key),E=u(Ne,E,ve),je===null?se=Ne:je.sibling=Ne,je=Ne);return e&&ae.forEach(function(ma){return t(D,ma)}),Me&&An(D,ve),se}function re(D,E,_,U){if(_==null)throw Error(r(151));for(var se=null,je=null,ae=E,ve=E=0,Ne=null,Oe=_.next();ae!==null&&!Oe.done;ve++,Oe=_.next()){ae.index>ve?(Ne=ae,ae=null):Ne=ae.sibling;var ma=j(D,ae,Oe.value,U);if(ma===null){ae===null&&(ae=Ne);break}e&&ae&&ma.alternate===null&&t(D,ae),E=u(ma,E,ve),je===null?se=ma:je.sibling=ma,je=ma,ae=Ne}if(Oe.done)return n(D,ae),Me&&An(D,ve),se;if(ae===null){for(;!Oe.done;ve++,Oe=_.next())Oe=G(D,Oe.value,U),Oe!==null&&(E=u(Oe,E,ve),je===null?se=Oe:je.sibling=Oe,je=Oe);return Me&&An(D,ve),se}for(ae=s(ae);!Oe.done;ve++,Oe=_.next())Oe=O(ae,D,ve,Oe.value,U),Oe!==null&&(e&&Oe.alternate!==null&&ae.delete(Oe.key===null?ve:Oe.key),E=u(Oe,E,ve),je===null?se=Oe:je.sibling=Oe,je=Oe);return e&&ae.forEach(function(Wb){return t(D,Wb)}),Me&&An(D,ve),se}function Ue(D,E,_,U){if(typeof _=="object"&&_!==null&&_.type===Y&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case M:e:{for(var se=_.key;E!==null;){if(E.key===se){if(se=_.type,se===Y){if(E.tag===7){n(D,E.sibling),U=o(E,_.props.children),U.return=D,D=U;break e}}else if(E.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===I&&Ua(se)===E.type){n(D,E.sibling),U=o(E,_.props),bs(U,_),U.return=D,D=U;break e}n(D,E);break}else t(D,E);E=E.sibling}_.type===Y?(U=Ra(_.props.children,D.mode,U,_.key),U.return=D,D=U):(U=Nl(_.type,_.key,_.props,null,D.mode,U),bs(U,_),U.return=D,D=U)}return h(D);case z:e:{for(se=_.key;E!==null;){if(E.key===se)if(E.tag===4&&E.stateNode.containerInfo===_.containerInfo&&E.stateNode.implementation===_.implementation){n(D,E.sibling),U=o(E,_.children||[]),U.return=D,D=U;break e}else{n(D,E);break}else t(D,E);E=E.sibling}U=Do(_,D.mode,U),U.return=D,D=U}return h(D);case I:return _=Ua(_),Ue(D,E,_,U)}if(K(_))return te(D,E,_,U);if(Ae(_)){if(se=Ae(_),typeof se!="function")throw Error(r(150));return _=se.call(_),re(D,E,_,U)}if(typeof _.then=="function")return Ue(D,E,zl(_),U);if(_.$$typeof===X)return Ue(D,E,wl(D,_),U);Bl(D,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,E!==null&&E.tag===6?(n(D,E.sibling),U=o(E,_),U.return=D,D=U):(n(D,E),U=Co(_,D.mode,U),U.return=D,D=U),h(D)):n(D,E)}return function(D,E,_,U){try{xs=0;var se=Ue(D,E,_,U);return Ai=null,se}catch(ae){if(ae===Ti||ae===Ol)throw ae;var je=Lt(29,ae,null,D.mode);return je.lanes=U,je.return=D,je}finally{}}}var Ha=ih(!0),sh=ih(!1),Pn=!1;function Uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Go(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function In(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Re&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Dl(e),Yd(e,null,n),t}return Cl(e,s,t,n),Dl(e)}function Ss(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,$f(e,n)}}function Ho(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=h:u=u.next=h,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ko=!1;function Ts(){if(ko){var e=Si;if(e!==null)throw e}}function As(e,t,n,s){ko=!1;var o=e.updateQueue;Pn=!1;var u=o.firstBaseUpdate,h=o.lastBaseUpdate,x=o.shared.pending;if(x!==null){o.shared.pending=null;var T=x,w=T.next;T.next=null,h===null?u=w:h.next=w,h=T;var R=e.alternate;R!==null&&(R=R.updateQueue,x=R.lastBaseUpdate,x!==h&&(x===null?R.firstBaseUpdate=w:x.next=w,R.lastBaseUpdate=T))}if(u!==null){var G=o.baseState;h=0,R=w=T=null,x=u;do{var j=x.lane&-536870913,O=j!==x.lane;if(O?(De&j)===j:(s&j)===j){j!==0&&j===bi&&(ko=!0),R!==null&&(R=R.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var te=e,re=x;j=t;var Ue=n;switch(re.tag){case 1:if(te=re.payload,typeof te=="function"){G=te.call(Ue,G,j);break e}G=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=re.payload,j=typeof te=="function"?te.call(Ue,G,j):te,j==null)break e;G=b({},G,j);break e;case 2:Pn=!0}}j=x.callback,j!==null&&(e.flags|=64,O&&(e.flags|=8192),O=o.callbacks,O===null?o.callbacks=[j]:O.push(j))}else O={lane:j,tag:x.tag,payload:x.payload,callback:x.callback,next:null},R===null?(w=R=O,T=G):R=R.next=O,h|=j;if(x=x.next,x===null){if(x=o.shared.pending,x===null)break;O=x,x=O.next,O.next=null,o.lastBaseUpdate=O,o.shared.pending=null}}while(!0);R===null&&(T=G),o.baseState=T,o.firstBaseUpdate=w,o.lastBaseUpdate=R,u===null&&(o.shared.lanes=0),ia|=h,e.lanes=h,e.memoizedState=G}}function lh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function rh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)lh(n[e],t)}var Ei=A(null),Vl=A(0);function oh(e,t){e=zn,F(Vl,e),F(Ei,t),zn=e|t.baseLanes}function Yo(){F(Vl,zn),F(Ei,Ei.current)}function qo(){zn=Vl.current,L(Ei),L(Vl)}var Ut=A(null),It=null;function ea(e){var t=e.alternate;F(et,et.current&1),F(Ut,e),It===null&&(t===null||Ei.current!==null||t.memoizedState!==null)&&(It=e)}function Xo(e){F(et,et.current),F(Ut,e),It===null&&(It=e)}function uh(e){e.tag===22?(F(et,et.current),F(Ut,e),It===null&&(It=e)):ta()}function ta(){F(et,et.current),F(Ut,Ut.current)}function Gt(e){L(Ut),It===e&&(It=null),L(et)}var et=A(0);function Ll(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||$u(n)||Pu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dn=0,ye=null,Ve=null,it=null,Ul=!1,Ci=!1,ka=!1,Gl=0,Es=0,Di=null,qx=0;function $e(){throw Error(r(321))}function Ko(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Qo(e,t,n,s,o,u){return Dn=u,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?Qh:ru,ka=!1,u=n(s,o),ka=!1,Ci&&(u=fh(t,n,s,o)),ch(e),u}function ch(e){N.H=Ns;var t=Ve!==null&&Ve.next!==null;if(Dn=0,it=Ve=ye=null,Ul=!1,Es=0,Di=null,t)throw Error(r(300));e===null||st||(e=e.dependencies,e!==null&&Ml(e)&&(st=!0))}function fh(e,t,n,s){ye=e;var o=0;do{if(Ci&&(Di=null),Es=0,Ci=!1,25<=o)throw Error(r(301));if(o+=1,it=Ve=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}N.H=Zh,u=t(n,s)}while(Ci);return u}function Xx(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?Cs(t):t,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(ye.flags|=1024),t}function Zo(){var e=Gl!==0;return Gl=0,e}function Fo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Jo(e){if(Ul){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ul=!1}Dn=0,it=Ve=ye=null,Ci=!1,Es=Gl=0,Di=null}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?ye.memoizedState=it=e:it=it.next=e,it}function tt(){if(Ve===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=it===null?ye.memoizedState:it.next;if(t!==null)it=t,Ve=e;else{if(e===null)throw ye.alternate===null?Error(r(467)):Error(r(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},it===null?ye.memoizedState=it=e:it=it.next=e}return it}function Hl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cs(e){var t=Es;return Es+=1,Di===null&&(Di=[]),e=th(Di,e,t),t=ye,(it===null?t.memoizedState:it.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?Qh:ru),e}function kl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cs(e);if(e.$$typeof===X)return vt(e)}throw Error(r(438,String(e)))}function $o(e){var t=null,n=ye.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Hl(),ye.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=ie;return t.index++,n}function Nn(e,t){return typeof t=="function"?t(e):t}function Yl(e){var t=tt();return Po(t,Ve,e)}function Po(e,t,n){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var h=o.next;o.next=u.next,u.next=h}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var x=h=null,T=null,w=t,R=!1;do{var G=w.lane&-536870913;if(G!==w.lane?(De&G)===G:(Dn&G)===G){var j=w.revertLane;if(j===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),G===bi&&(R=!0);else if((Dn&j)===j){w=w.next,j===bi&&(R=!0);continue}else G={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},T===null?(x=T=G,h=u):T=T.next=G,ye.lanes|=j,ia|=j;G=w.action,ka&&n(u,G),u=w.hasEagerState?w.eagerState:n(u,G)}else j={lane:G,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},T===null?(x=T=j,h=u):T=T.next=j,ye.lanes|=G,ia|=G;w=w.next}while(w!==null&&w!==t);if(T===null?h=u:T.next=x,!Vt(u,e.memoizedState)&&(st=!0,R&&(n=Si,n!==null)))throw n;e.memoizedState=u,e.baseState=h,e.baseQueue=T,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Io(e){var t=tt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var h=o=o.next;do u=e(u,h.action),h=h.next;while(h!==o);Vt(u,t.memoizedState)||(st=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function dh(e,t,n){var s=ye,o=tt(),u=Me;if(u){if(n===void 0)throw Error(r(407));n=n()}else n=t();var h=!Vt((Ve||o).memoizedState,n);if(h&&(o.memoizedState=n,st=!0),o=o.queue,tu(ph.bind(null,s,o,e),[e]),o.getSnapshot!==t||h||it!==null&&it.memoizedState.tag&1){if(s.flags|=2048,Ni(9,{destroy:void 0},mh.bind(null,s,o,n,t),null),He===null)throw Error(r(349));u||(Dn&127)!==0||hh(s,t,n)}return n}function hh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t=Hl(),ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mh(e,t,n,s){t.value=n,t.getSnapshot=s,gh(t)&&yh(e)}function ph(e,t,n){return n(function(){gh(t)&&yh(e)})}function gh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function yh(e){var t=Oa(e,2);t!==null&&Rt(t,e,2)}function Wo(e){var t=Ct();if(typeof e=="function"){var n=e;if(e=n(),ka){ue(!0);try{n()}finally{ue(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t}function vh(e,t,n,s){return e.baseState=n,Po(e,Ve,typeof s=="function"?s:Nn)}function Kx(e,t,n,s,o){if(Kl(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};N.T!==null?n(!0):u.isTransition=!1,s(u),n=t.pending,n===null?(u.next=t.pending=u,xh(t,u)):(u.next=n.next,t.pending=n.next=u)}}function xh(e,t){var n=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=N.T,h={};N.T=h;try{var x=n(o,s),T=N.S;T!==null&&T(h,x),bh(e,t,x)}catch(w){eu(e,t,w)}finally{u!==null&&h.types!==null&&(u.types=h.types),N.T=u}}else try{u=n(o,s),bh(e,t,u)}catch(w){eu(e,t,w)}}function bh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Sh(e,t,s)},function(s){return eu(e,t,s)}):Sh(e,t,n)}function Sh(e,t,n){t.status="fulfilled",t.value=n,Th(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,xh(e,n)))}function eu(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Th(t),t=t.next;while(t!==s)}e.action=null}function Th(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ah(e,t){return t}function Eh(e,t){if(Me){var n=He.formState;if(n!==null){e:{var s=ye;if(Me){if(Ye){t:{for(var o=Ye,u=Pt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Wt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Ye=Wt(o.nextSibling),s=o.data==="F!";break e}}Jn(s)}s=!1}s&&(t=n[0])}}return n=Ct(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:t},n.queue=s,n=qh.bind(null,ye,s),s.dispatch=n,s=Wo(!1),u=lu.bind(null,ye,!1,s.queue),s=Ct(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,n=Kx.bind(null,ye,o,u,n),o.dispatch=n,s.memoizedState=e,[t,n,!1]}function Ch(e){var t=tt();return Dh(t,Ve,e)}function Dh(e,t,n){if(t=Po(e,t,Ah)[0],e=Yl(Nn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Cs(t)}catch(h){throw h===Ti?Ol:h}else s=t;t=tt();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(ye.flags|=2048,Ni(9,{destroy:void 0},Qx.bind(null,o,n),null)),[s,u,e]}function Qx(e,t){e.action=t}function Nh(e){var t=tt(),n=Ve;if(n!==null)return Dh(t,n,e);tt(),t=t.memoizedState,n=tt();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function Ni(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=ye.updateQueue,t===null&&(t=Hl(),ye.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function _h(){return tt().memoizedState}function ql(e,t,n,s){var o=Ct();ye.flags|=e,o.memoizedState=Ni(1|t,{destroy:void 0},n,s===void 0?null:s)}function Xl(e,t,n,s){var o=tt();s=s===void 0?null:s;var u=o.memoizedState.inst;Ve!==null&&s!==null&&Ko(s,Ve.memoizedState.deps)?o.memoizedState=Ni(t,u,n,s):(ye.flags|=e,o.memoizedState=Ni(1|t,u,n,s))}function Mh(e,t){ql(8390656,8,e,t)}function tu(e,t){Xl(2048,8,e,t)}function Zx(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=Hl(),ye.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function wh(e){var t=tt().memoizedState;return Zx({ref:t,nextImpl:e}),function(){if((Re&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function jh(e,t){return Xl(4,2,e,t)}function Oh(e,t){return Xl(4,4,e,t)}function Rh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zh(e,t,n){n=n!=null?n.concat([e]):null,Xl(4,4,Rh.bind(null,t,e),n)}function nu(){}function Bh(e,t){var n=tt();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Ko(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Vh(e,t){var n=tt();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Ko(t,s[1]))return s[0];if(s=e(),ka){ue(!0);try{e()}finally{ue(!1)}}return n.memoizedState=[s,t],s}function au(e,t,n){return n===void 0||(Dn&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Lm(),ye.lanes|=e,ia|=e,n)}function Lh(e,t,n,s){return Vt(n,t)?n:Ei.current!==null?(e=au(e,n,s),Vt(e,t)||(st=!0),e):(Dn&42)===0||(Dn&1073741824)!==0&&(De&261930)===0?(st=!0,e.memoizedState=n):(e=Lm(),ye.lanes|=e,ia|=e,t)}function Uh(e,t,n,s,o){var u=V.p;V.p=u!==0&&8>u?u:8;var h=N.T,x={};N.T=x,lu(e,!1,t,n);try{var T=o(),w=N.S;if(w!==null&&w(x,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var R=Yx(T,s);Ds(e,t,R,Yt(e))}else Ds(e,t,s,Yt(e))}catch(G){Ds(e,t,{then:function(){},status:"rejected",reason:G},Yt())}finally{V.p=u,h!==null&&x.types!==null&&(h.types=x.types),N.T=h}}function Fx(){}function iu(e,t,n,s){if(e.tag!==5)throw Error(r(476));var o=Gh(e).queue;Uh(e,o,t,$,n===null?Fx:function(){return Hh(e),n(s)})}function Gh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:$},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hh(e){var t=Gh(e);t.next===null&&(t=e.alternate.memoizedState),Ds(e,t.next.queue,{},Yt())}function su(){return vt(qs)}function kh(){return tt().memoizedState}function Yh(){return tt().memoizedState}function Jx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Yt();e=In(n);var s=Wn(t,e,n);s!==null&&(Rt(s,t,n),Ss(s,t,n)),t={cache:zo()},e.payload=t;return}t=t.return}}function $x(e,t,n){var s=Yt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Kl(e)?Xh(t,n):(n=Ao(e,t,n,s),n!==null&&(Rt(n,e,s),Kh(n,t,s)))}function qh(e,t,n){var s=Yt();Ds(e,t,n,s)}function Ds(e,t,n,s){var o={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kl(e))Xh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,x=u(h,n);if(o.hasEagerState=!0,o.eagerState=x,Vt(x,h))return Cl(e,t,o,0),He===null&&El(),!1}catch{}finally{}if(n=Ao(e,t,o,s),n!==null)return Rt(n,e,s),Kh(n,t,s),!0}return!1}function lu(e,t,n,s){if(s={lane:2,revertLane:Uu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Kl(e)){if(t)throw Error(r(479))}else t=Ao(e,n,s,2),t!==null&&Rt(t,e,2)}function Kl(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Xh(e,t){Ci=Ul=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kh(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,$f(e,n)}}var Ns={readContext:vt,use:kl,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};Ns.useEffectEvent=$e;var Qh={readContext:vt,use:kl,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Mh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ql(4194308,4,Rh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ql(4194308,4,e,t)},useInsertionEffect:function(e,t){ql(4,2,e,t)},useMemo:function(e,t){var n=Ct();t=t===void 0?null:t;var s=e();if(ka){ue(!0);try{e()}finally{ue(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=Ct();if(n!==void 0){var o=n(t);if(ka){ue(!0);try{n(t)}finally{ue(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=$x.bind(null,ye,e),[s.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:function(e){e=Wo(e);var t=e.queue,n=qh.bind(null,ye,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:nu,useDeferredValue:function(e,t){var n=Ct();return au(n,e,t)},useTransition:function(){var e=Wo(!1);return e=Uh.bind(null,ye,e.queue,!0,!1),Ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=ye,o=Ct();if(Me){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),He===null)throw Error(r(349));(De&127)!==0||hh(s,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,Mh(ph.bind(null,s,u,e),[e]),s.flags|=2048,Ni(9,{destroy:void 0},mh.bind(null,s,u,n,t),null),n},useId:function(){var e=Ct(),t=He.identifierPrefix;if(Me){var n=hn,s=dn;n=(s&~(1<<32-ge(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Gl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=qx++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:su,useFormState:Eh,useActionState:Eh,useOptimistic:function(e){var t=Ct();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=lu.bind(null,ye,!0,n),n.dispatch=t,[e,t]},useMemoCache:$o,useCacheRefresh:function(){return Ct().memoizedState=Jx.bind(null,ye)},useEffectEvent:function(e){var t=Ct(),n={impl:e};return t.memoizedState=n,function(){if((Re&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},ru={readContext:vt,use:kl,useCallback:Bh,useContext:vt,useEffect:tu,useImperativeHandle:zh,useInsertionEffect:jh,useLayoutEffect:Oh,useMemo:Vh,useReducer:Yl,useRef:_h,useState:function(){return Yl(Nn)},useDebugValue:nu,useDeferredValue:function(e,t){var n=tt();return Lh(n,Ve.memoizedState,e,t)},useTransition:function(){var e=Yl(Nn)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Cs(e),t]},useSyncExternalStore:dh,useId:kh,useHostTransitionStatus:su,useFormState:Ch,useActionState:Ch,useOptimistic:function(e,t){var n=tt();return vh(n,Ve,e,t)},useMemoCache:$o,useCacheRefresh:Yh};ru.useEffectEvent=wh;var Zh={readContext:vt,use:kl,useCallback:Bh,useContext:vt,useEffect:tu,useImperativeHandle:zh,useInsertionEffect:jh,useLayoutEffect:Oh,useMemo:Vh,useReducer:Io,useRef:_h,useState:function(){return Io(Nn)},useDebugValue:nu,useDeferredValue:function(e,t){var n=tt();return Ve===null?au(n,e,t):Lh(n,Ve.memoizedState,e,t)},useTransition:function(){var e=Io(Nn)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Cs(e),t]},useSyncExternalStore:dh,useId:kh,useHostTransitionStatus:su,useFormState:Nh,useActionState:Nh,useOptimistic:function(e,t){var n=tt();return Ve!==null?vh(n,Ve,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$o,useCacheRefresh:Yh};Zh.useEffectEvent=wh;function ou(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var uu={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Yt(),o=In(s);o.payload=t,n!=null&&(o.callback=n),t=Wn(e,o,s),t!==null&&(Rt(t,e,s),Ss(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Yt(),o=In(s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Wn(e,o,s),t!==null&&(Rt(t,e,s),Ss(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yt(),s=In(n);s.tag=2,t!=null&&(s.callback=t),t=Wn(e,s,n),t!==null&&(Rt(t,e,n),Ss(t,e,n))}};function Fh(e,t,n,s,o,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,h):t.prototype&&t.prototype.isPureReactComponent?!hs(n,s)||!hs(o,u):!0}function Jh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&uu.enqueueReplaceState(t,t.state,null)}function Ya(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function $h(e){Al(e)}function Ph(e){console.error(e)}function Ih(e){Al(e)}function Ql(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Wh(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function cu(e,t,n){return n=In(n),n.tag=3,n.payload={element:null},n.callback=function(){Ql(e,t)},n}function em(e){return e=In(e),e.tag=3,e}function tm(e,t,n,s){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){Wh(t,n,s)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Wh(t,n,s),typeof o!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function Px(e,t,n,s,o){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&xi(t,n,o,!0),n=Ut.current,n!==null){switch(n.tag){case 31:case 13:return It===null?ir():n.alternate===null&&Pe===0&&(Pe=3),n.flags&=-257,n.flags|=65536,n.lanes=o,s===Rl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Bu(e,s,o)),!1;case 22:return n.flags|=65536,s===Rl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Bu(e,s,o)),!1}throw Error(r(435,n.tag))}return Bu(e,s,o),ir(),!1}if(Me)return t=Ut.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Mo&&(e=Error(r(422),{cause:s}),gs(Ft(e,n)))):(s!==Mo&&(t=Error(r(423),{cause:s}),gs(Ft(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Ft(s,n),o=cu(e.stateNode,s,o),Ho(e,o),Pe!==4&&(Pe=2)),!1;var u=Error(r(520),{cause:s});if(u=Ft(u,n),Bs===null?Bs=[u]:Bs.push(u),Pe!==4&&(Pe=2),t===null)return!0;s=Ft(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=cu(n.stateNode,s,e),Ho(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(sa===null||!sa.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=em(o),tm(o,e,n,s),Ho(n,o),!1}n=n.return}while(n!==null);return!1}var fu=Error(r(461)),st=!1;function xt(e,t,n,s){t.child=e===null?sh(t,null,n,s):Ha(t,e.child,n,s)}function nm(e,t,n,s,o){n=n.render;var u=t.ref;if("ref"in s){var h={};for(var x in s)x!=="ref"&&(h[x]=s[x])}else h=s;return Va(t),s=Qo(e,t,n,h,u,o),x=Zo(),e!==null&&!st?(Fo(e,t,o),_n(e,t,o)):(Me&&x&&No(t),t.flags|=1,xt(e,t,s,o),t.child)}function am(e,t,n,s,o){if(e===null){var u=n.type;return typeof u=="function"&&!Eo(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,im(e,t,u,s,o)):(e=Nl(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!xu(e,o)){var h=u.memoizedProps;if(n=n.compare,n=n!==null?n:hs,n(h,s)&&e.ref===t.ref)return _n(e,t,o)}return t.flags|=1,e=Tn(u,s),e.ref=t.ref,e.return=t,t.child=e}function im(e,t,n,s,o){if(e!==null){var u=e.memoizedProps;if(hs(u,s)&&e.ref===t.ref)if(st=!1,t.pendingProps=s=u,xu(e,o))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,_n(e,t,o)}return du(e,t,n,s,o)}function sm(e,t,n,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return lm(e,t,u,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&jl(t,u!==null?u.cachePool:null),u!==null?oh(t,u):Yo(),uh(t);else return s=t.lanes=536870912,lm(e,t,u!==null?u.baseLanes|n:n,n,s)}else u!==null?(jl(t,u.cachePool),oh(t,u),ta(),t.memoizedState=null):(e!==null&&jl(t,null),Yo(),ta());return xt(e,t,o,n),t.child}function _s(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function lm(e,t,n,s,o){var u=Vo();return u=u===null?null:{parent:at._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&jl(t,null),Yo(),uh(t),e!==null&&xi(e,t,s,!0),t.childLanes=o,null}function Zl(e,t){return t=Jl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function rm(e,t,n){return Ha(t,e.child,null,n),e=Zl(t,t.pendingProps),e.flags|=2,Gt(t),t.memoizedState=null,e}function Ix(e,t,n){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Me){if(s.mode==="hidden")return e=Zl(t,s),t.lanes=536870912,_s(null,e);if(Xo(t),(e=Ye)?(e=x0(e,Pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:dn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},n=Xd(e),n.return=t,t.child=n,yt=t,Ye=null)):e=null,e===null)throw Jn(t);return t.lanes=536870912,null}return Zl(t,s)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(Xo(t),o)if(t.flags&256)t.flags&=-257,t=rm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(st||xi(e,t,n,!1),o=(n&e.childLanes)!==0,st||o){if(s=He,s!==null&&(h=Pf(s,n),h!==0&&h!==u.retryLane))throw u.retryLane=h,Oa(e,h),Rt(s,e,h),fu;ir(),t=rm(e,t,n)}else e=u.treeContext,Ye=Wt(h.nextSibling),yt=t,Me=!0,Fn=null,Pt=!1,e!==null&&Zd(t,e),t=Zl(t,s),t.flags|=4096;return t}return e=Tn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Fl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function du(e,t,n,s,o){return Va(t),n=Qo(e,t,n,s,void 0,o),s=Zo(),e!==null&&!st?(Fo(e,t,o),_n(e,t,o)):(Me&&s&&No(t),t.flags|=1,xt(e,t,n,o),t.child)}function om(e,t,n,s,o,u){return Va(t),t.updateQueue=null,n=fh(t,s,n,o),ch(e),s=Zo(),e!==null&&!st?(Fo(e,t,u),_n(e,t,u)):(Me&&s&&No(t),t.flags|=1,xt(e,t,n,u),t.child)}function um(e,t,n,s,o){if(Va(t),t.stateNode===null){var u=pi,h=n.contextType;typeof h=="object"&&h!==null&&(u=vt(h)),u=new n(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=uu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},Uo(t),h=n.contextType,u.context=typeof h=="object"&&h!==null?vt(h):pi,u.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(ou(t,n,h,s),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&uu.enqueueReplaceState(u,u.state,null),As(t,s,u,o),Ts(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var x=t.memoizedProps,T=Ya(n,x);u.props=T;var w=u.context,R=n.contextType;h=pi,typeof R=="object"&&R!==null&&(h=vt(R));var G=n.getDerivedStateFromProps;R=typeof G=="function"||typeof u.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,R||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x||w!==h)&&Jh(t,u,s,h),Pn=!1;var j=t.memoizedState;u.state=j,As(t,s,u,o),Ts(),w=t.memoizedState,x||j!==w||Pn?(typeof G=="function"&&(ou(t,n,G,s),w=t.memoizedState),(T=Pn||Fh(t,n,T,s,j,w,h))?(R||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=w),u.props=s,u.state=w,u.context=h,s=T):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,Go(e,t),h=t.memoizedProps,R=Ya(n,h),u.props=R,G=t.pendingProps,j=u.context,w=n.contextType,T=pi,typeof w=="object"&&w!==null&&(T=vt(w)),x=n.getDerivedStateFromProps,(w=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==G||j!==T)&&Jh(t,u,s,T),Pn=!1,j=t.memoizedState,u.state=j,As(t,s,u,o),Ts();var O=t.memoizedState;h!==G||j!==O||Pn||e!==null&&e.dependencies!==null&&Ml(e.dependencies)?(typeof x=="function"&&(ou(t,n,x,s),O=t.memoizedState),(R=Pn||Fh(t,n,R,s,j,O,T)||e!==null&&e.dependencies!==null&&Ml(e.dependencies))?(w||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,O,T),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,O,T)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=O),u.props=s,u.state=O,u.context=T,s=R):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,Fl(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=Ha(t,e.child,null,o),t.child=Ha(t,null,n,o)):xt(e,t,n,o),t.memoizedState=u.state,e=t.child):e=_n(e,t,o),e}function cm(e,t,n,s){return za(),t.flags|=256,xt(e,t,n,s),t.child}var hu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mu(e){return{baseLanes:e,cachePool:Wd()}}function pu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=kt),e}function fm(e,t,n){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(o?ea(t):ta(),(e=Ye)?(e=x0(e,Pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:dn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},n=Xd(e),n.return=t,t.child=n,yt=t,Ye=null)):e=null,e===null)throw Jn(t);return Pu(e)?t.lanes=32:t.lanes=536870912,null}var x=s.children;return s=s.fallback,o?(ta(),o=t.mode,x=Jl({mode:"hidden",children:x},o),s=Ra(s,o,n,null),x.return=t,s.return=t,x.sibling=s,t.child=x,s=t.child,s.memoizedState=mu(n),s.childLanes=pu(e,h,n),t.memoizedState=hu,_s(null,s)):(ea(t),gu(t,x))}var T=e.memoizedState;if(T!==null&&(x=T.dehydrated,x!==null)){if(u)t.flags&256?(ea(t),t.flags&=-257,t=yu(e,t,n)):t.memoizedState!==null?(ta(),t.child=e.child,t.flags|=128,t=null):(ta(),x=s.fallback,o=t.mode,s=Jl({mode:"visible",children:s.children},o),x=Ra(x,o,n,null),x.flags|=2,s.return=t,x.return=t,s.sibling=x,t.child=s,Ha(t,e.child,null,n),s=t.child,s.memoizedState=mu(n),s.childLanes=pu(e,h,n),t.memoizedState=hu,t=_s(null,s));else if(ea(t),Pu(x)){if(h=x.nextSibling&&x.nextSibling.dataset,h)var w=h.dgst;h=w,s=Error(r(419)),s.stack="",s.digest=h,gs({value:s,source:null,stack:null}),t=yu(e,t,n)}else if(st||xi(e,t,n,!1),h=(n&e.childLanes)!==0,st||h){if(h=He,h!==null&&(s=Pf(h,n),s!==0&&s!==T.retryLane))throw T.retryLane=s,Oa(e,s),Rt(h,e,s),fu;$u(x)||ir(),t=yu(e,t,n)}else $u(x)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Ye=Wt(x.nextSibling),yt=t,Me=!0,Fn=null,Pt=!1,e!==null&&Zd(t,e),t=gu(t,s.children),t.flags|=4096);return t}return o?(ta(),x=s.fallback,o=t.mode,T=e.child,w=T.sibling,s=Tn(T,{mode:"hidden",children:s.children}),s.subtreeFlags=T.subtreeFlags&65011712,w!==null?x=Tn(w,x):(x=Ra(x,o,n,null),x.flags|=2),x.return=t,s.return=t,s.sibling=x,t.child=s,_s(null,s),s=t.child,x=e.child.memoizedState,x===null?x=mu(n):(o=x.cachePool,o!==null?(T=at._currentValue,o=o.parent!==T?{parent:T,pool:T}:o):o=Wd(),x={baseLanes:x.baseLanes|n,cachePool:o}),s.memoizedState=x,s.childLanes=pu(e,h,n),t.memoizedState=hu,_s(e.child,s)):(ea(t),n=e.child,e=n.sibling,n=Tn(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function gu(e,t){return t=Jl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Jl(e,t){return e=Lt(22,e,null,t),e.lanes=0,e}function yu(e,t,n){return Ha(t,e.child,null,n),e=gu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dm(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Oo(e.return,t,n)}function vu(e,t,n,s,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o,treeForkCount:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=n,h.tailMode=o,h.treeForkCount=u)}function hm(e,t,n){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var h=et.current,x=(h&2)!==0;if(x?(h=h&1|2,t.flags|=128):h&=1,F(et,h),xt(e,t,s,n),s=Me?ps:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dm(e,n,t);else if(e.tag===19)dm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ll(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),vu(t,!1,o,n,u,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ll(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}vu(t,!0,n,null,u,s);break;case"together":vu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function _n(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ia|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(xi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=Tn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ml(e)))}function Wx(e,t,n){switch(t.tag){case 3:Xe(t,t.stateNode.containerInfo),$n(t,at,e.memoizedState.cache),za();break;case 27:case 5:vn(t);break;case 4:Xe(t,t.stateNode.containerInfo);break;case 10:$n(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Xo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ea(t),t.flags|=128,null):(n&t.child.childLanes)!==0?fm(e,t,n):(ea(t),e=_n(e,t,n),e!==null?e.sibling:null);ea(t);break;case 19:var o=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(xi(e,t,n,!1),s=(n&t.childLanes)!==0),o){if(s)return hm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),F(et,et.current),s)break;return null;case 22:return t.lanes=0,sm(e,t,n,t.pendingProps);case 24:$n(t,at,e.memoizedState.cache)}return _n(e,t,n)}function mm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!xu(e,n)&&(t.flags&128)===0)return st=!1,Wx(e,t,n);st=(e.flags&131072)!==0}else st=!1,Me&&(t.flags&1048576)!==0&&Qd(t,ps,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Ua(t.elementType),t.type=e,typeof e=="function")Eo(e)?(s=Ya(e,s),t.tag=1,t=um(null,t,e,s,n)):(t.tag=0,t=du(null,t,e,s,n));else{if(e!=null){var o=e.$$typeof;if(o===k){t.tag=11,t=nm(null,t,e,s,n);break e}else if(o===Z){t.tag=14,t=am(null,t,e,s,n);break e}}throw t=de(e)||e,Error(r(306,t,""))}}return t;case 0:return du(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,o=Ya(s,t.pendingProps),um(e,t,s,o,n);case 3:e:{if(Xe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,Go(e,t),As(t,s,null,n);var h=t.memoizedState;if(s=h.cache,$n(t,at,s),s!==u.cache&&Ro(t,[at],n,!0),Ts(),s=h.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=cm(e,t,s,n);break e}else if(s!==o){o=Ft(Error(r(424)),t),gs(o),t=cm(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=Wt(e.firstChild),yt=t,Me=!0,Fn=null,Pt=!0,n=sh(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(za(),s===o){t=_n(e,t,n);break e}xt(e,t,s,n)}t=t.child}return t;case 26:return Fl(e,t),e===null?(n=C0(t.type,null,t.pendingProps,null))?t.memoizedState=n:Me||(n=t.type,e=t.pendingProps,s=fr(he.current).createElement(n),s[gt]=t,s[Nt]=e,bt(s,n,e),ht(s),t.stateNode=s):t.memoizedState=C0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return vn(t),e===null&&Me&&(s=t.stateNode=T0(t.type,t.pendingProps,he.current),yt=t,Pt=!0,o=Ye,ua(t.type)?(Iu=o,Ye=Wt(s.firstChild)):Ye=o),xt(e,t,t.pendingProps.children,n),Fl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((o=s=Ye)&&(s=Mb(s,t.type,t.pendingProps,Pt),s!==null?(t.stateNode=s,yt=t,Ye=Wt(s.firstChild),Pt=!1,o=!0):o=!1),o||Jn(t)),vn(t),o=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,s=u.children,Zu(o,u)?s=null:h!==null&&Zu(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=Qo(e,t,Xx,null,null,n),qs._currentValue=o),Fl(e,t),xt(e,t,s,n),t.child;case 6:return e===null&&Me&&((e=n=Ye)&&(n=wb(n,t.pendingProps,Pt),n!==null?(t.stateNode=n,yt=t,Ye=null,e=!0):e=!1),e||Jn(t)),null;case 13:return fm(e,t,n);case 4:return Xe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ha(t,null,s,n):xt(e,t,s,n),t.child;case 11:return nm(e,t,t.type,t.pendingProps,n);case 7:return xt(e,t,t.pendingProps,n),t.child;case 8:return xt(e,t,t.pendingProps.children,n),t.child;case 12:return xt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,$n(t,t.type,s.value),xt(e,t,s.children,n),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,Va(t),o=vt(o),s=s(o),t.flags|=1,xt(e,t,s,n),t.child;case 14:return am(e,t,t.type,t.pendingProps,n);case 15:return im(e,t,t.type,t.pendingProps,n);case 19:return hm(e,t,n);case 31:return Ix(e,t,n);case 22:return sm(e,t,n,t.pendingProps);case 24:return Va(t),s=vt(at),e===null?(o=Vo(),o===null&&(o=He,u=zo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:s,cache:o},Uo(t),$n(t,at,o)):((e.lanes&n)!==0&&(Go(e,t),As(t,null,null,n),Ts()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),$n(t,at,s)):(s=u.cache,$n(t,at,s),s!==o.cache&&Ro(t,[at],n,!0))),xt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Mn(e){e.flags|=4}function bu(e,t,n,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(km())e.flags|=8192;else throw Ga=Rl,Lo}else e.flags&=-16777217}function pm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!w0(t))if(km())e.flags|=8192;else throw Ga=Rl,Lo}function $l(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ff():536870912,e.lanes|=t,ji|=t)}function Ms(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function eb(e,t,n){var s=t.pendingProps;switch(_o(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Cn(at),Ge(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(vi(t)?Mn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wo())),qe(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(Mn(t),u!==null?(qe(t),pm(t,u)):(qe(t),bu(t,o,null,s,n))):u?u!==e.memoizedState?(Mn(t),qe(t),pm(t,u)):(qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Mn(t),qe(t),bu(t,o,e,s,n)),null;case 27:if(Gn(t),n=he.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Mn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return qe(t),null}e=W.current,vi(t)?Fd(t):(e=T0(o,s,n),t.stateNode=e,Mn(t))}return qe(t),null;case 5:if(Gn(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Mn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return qe(t),null}if(u=W.current,vi(t))Fd(t);else{var h=fr(he.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?h.createElement("select",{is:s.is}):h.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?h.createElement(o,{is:s.is}):h.createElement(o)}}u[gt]=t,u[Nt]=s;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=u;e:switch(bt(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Mn(t)}}return qe(t),bu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Mn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=he.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,o=yt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[gt]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||f0(e.nodeValue,n)),e||Jn(t,!0)}else e=fr(e).createTextNode(s),e[gt]=t,t.stateNode=e}return qe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=vi(t),n!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[gt]=t}else za(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),e=!1}else n=wo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Gt(t),t):(Gt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return qe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=vi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[gt]=t}else za(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),o=!1}else o=wo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Gt(t),t):(Gt(t),null)}return Gt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),$l(t,t.updateQueue),qe(t),null);case 4:return Ge(),e===null&&Yu(t.stateNode.containerInfo),qe(t),null;case 10:return Cn(t.type),qe(t),null;case 19:if(L(et),s=t.memoizedState,s===null)return qe(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)Ms(s,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ll(e),u!==null){for(t.flags|=128,Ms(s,!1),e=u.updateQueue,t.updateQueue=e,$l(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)qd(n,e),n=n.sibling;return F(et,et.current&1|2),Me&&An(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ft()>tr&&(t.flags|=128,o=!0,Ms(s,!1),t.lanes=4194304)}else{if(!o)if(e=Ll(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,$l(t,e),Ms(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Me)return qe(t),null}else 2*ft()-s.renderingStartTime>tr&&n!==536870912&&(t.flags|=128,o=!0,Ms(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,n=et.current,F(et,o?n&1|2:n&1),Me&&An(t,s.treeForkCount),e):(qe(t),null);case 22:case 23:return Gt(t),qo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),n=t.updateQueue,n!==null&&$l(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&L(La),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Cn(at),qe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function tb(e,t){switch(_o(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cn(at),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Gn(t),null;case 31:if(t.memoizedState!==null){if(Gt(t),t.alternate===null)throw Error(r(340));za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(et),null;case 4:return Ge(),null;case 10:return Cn(t.type),null;case 22:case 23:return Gt(t),qo(),e!==null&&L(La),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Cn(at),null;case 25:return null;default:return null}}function gm(e,t){switch(_o(t),t.tag){case 3:Cn(at),Ge();break;case 26:case 27:case 5:Gn(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&Gt(t);break;case 13:Gt(t);break;case 19:L(et);break;case 10:Cn(t.type);break;case 22:case 23:Gt(t),qo(),e!==null&&L(La);break;case 24:Cn(at)}}function ws(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var o=s.next;n=o;do{if((n.tag&e)===e){s=void 0;var u=n.create,h=n.inst;s=u(),h.destroy=s}n=n.next}while(n!==o)}}catch(x){Be(t,t.return,x)}}function na(e,t,n){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var h=s.inst,x=h.destroy;if(x!==void 0){h.destroy=void 0,o=t;var T=n,w=x;try{w()}catch(R){Be(o,T,R)}}}s=s.next}while(s!==u)}}catch(R){Be(t,t.return,R)}}function ym(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{rh(t,n)}catch(s){Be(e,e.return,s)}}}function vm(e,t,n){n.props=Ya(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Be(e,t,s)}}function js(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(o){Be(e,t,o)}}function mn(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(o){Be(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Be(e,t,o)}else n.current=null}function xm(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(o){Be(e,e.return,o)}}function Su(e,t,n){try{var s=e.stateNode;Ab(s,e.type,n,t),s[Nt]=t}catch(o){Be(e,e.return,o)}}function bm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ua(e.type)||e.tag===4}function Tu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Au(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bn));else if(s!==4&&(s===27&&ua(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Au(e,t,n),e=e.sibling;e!==null;)Au(e,t,n),e=e.sibling}function Pl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&ua(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Pl(e,t,n),e=e.sibling;e!==null;)Pl(e,t,n),e=e.sibling}function Sm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);bt(t,s,n),t[gt]=e,t[Nt]=n}catch(u){Be(e,e.return,u)}}var wn=!1,lt=!1,Eu=!1,Tm=typeof WeakSet=="function"?WeakSet:Set,mt=null;function nb(e,t){if(e=e.containerInfo,Ku=vr,e=zd(e),yo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var h=0,x=-1,T=-1,w=0,R=0,G=e,j=null;t:for(;;){for(var O;G!==n||o!==0&&G.nodeType!==3||(x=h+o),G!==u||s!==0&&G.nodeType!==3||(T=h+s),G.nodeType===3&&(h+=G.nodeValue.length),(O=G.firstChild)!==null;)j=G,G=O;for(;;){if(G===e)break t;if(j===n&&++w===o&&(x=h),j===u&&++R===s&&(T=h),(O=G.nextSibling)!==null)break;G=j,j=G.parentNode}G=O}n=x===-1||T===-1?null:{start:x,end:T}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qu={focusedElem:e,selectionRange:n},vr=!1,mt=t;mt!==null;)if(t=mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,mt=e;else for(;mt!==null;){switch(t=mt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,s=n.stateNode;try{var te=Ya(n.type,o);e=s.getSnapshotBeforeUpdate(te,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(re){Be(n,n.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ju(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ju(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,mt=e;break}mt=t.return}}function Am(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:On(e,n),s&4&&ws(5,n);break;case 1:if(On(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){Be(n,n.return,h)}else{var o=Ya(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Be(n,n.return,h)}}s&64&&ym(n),s&512&&js(n,n.return);break;case 3:if(On(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{rh(e,t)}catch(h){Be(n,n.return,h)}}break;case 27:t===null&&s&4&&Sm(n);case 26:case 5:On(e,n),t===null&&s&4&&xm(n),s&512&&js(n,n.return);break;case 12:On(e,n);break;case 31:On(e,n),s&4&&Dm(e,n);break;case 13:On(e,n),s&4&&Nm(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=fb.bind(null,n),jb(e,n))));break;case 22:if(s=n.memoizedState!==null||wn,!s){t=t!==null&&t.memoizedState!==null||lt,o=wn;var u=lt;wn=s,(lt=t)&&!u?Rn(e,n,(n.subtreeFlags&8772)!==0):On(e,n),wn=o,lt=u}break;case 30:break;default:On(e,n)}}function Em(e){var t=e.alternate;t!==null&&(e.alternate=null,Em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Wr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,Mt=!1;function jn(e,t,n){for(n=n.child;n!==null;)Cm(e,t,n),n=n.sibling}function Cm(e,t,n){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(P,n)}catch{}switch(n.tag){case 26:lt||mn(n,t),jn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:lt||mn(n,t);var s=Ze,o=Mt;ua(n.type)&&(Ze=n.stateNode,Mt=!1),jn(e,t,n),Hs(n.stateNode),Ze=s,Mt=o;break;case 5:lt||mn(n,t);case 6:if(s=Ze,o=Mt,Ze=null,jn(e,t,n),Ze=s,Mt=o,Ze!==null)if(Mt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(n.stateNode)}catch(u){Be(n,t,u)}else try{Ze.removeChild(n.stateNode)}catch(u){Be(n,t,u)}break;case 18:Ze!==null&&(Mt?(e=Ze,y0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Gi(e)):y0(Ze,n.stateNode));break;case 4:s=Ze,o=Mt,Ze=n.stateNode.containerInfo,Mt=!0,jn(e,t,n),Ze=s,Mt=o;break;case 0:case 11:case 14:case 15:na(2,n,t),lt||na(4,n,t),jn(e,t,n);break;case 1:lt||(mn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&vm(n,t,s)),jn(e,t,n);break;case 21:jn(e,t,n);break;case 22:lt=(s=lt)||n.memoizedState!==null,jn(e,t,n),lt=s;break;default:jn(e,t,n)}}function Dm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gi(e)}catch(n){Be(t,t.return,n)}}}function Nm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gi(e)}catch(n){Be(t,t.return,n)}}function ab(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Tm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Tm),t;default:throw Error(r(435,e.tag))}}function Il(e,t){var n=ab(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var o=db.bind(null,e,s);s.then(o,o)}})}function wt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s],u=e,h=t,x=h;e:for(;x!==null;){switch(x.tag){case 27:if(ua(x.type)){Ze=x.stateNode,Mt=!1;break e}break;case 5:Ze=x.stateNode,Mt=!1;break e;case 3:case 4:Ze=x.stateNode.containerInfo,Mt=!0;break e}x=x.return}if(Ze===null)throw Error(r(160));Cm(u,h,o),Ze=null,Mt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_m(t,e),t=t.sibling}var on=null;function _m(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),jt(e),s&4&&(na(3,e,e.return),ws(3,e),na(5,e,e.return));break;case 1:wt(t,e),jt(e),s&512&&(lt||n===null||mn(n,n.return)),s&64&&wn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var o=on;if(wt(t,e),jt(e),s&512&&(lt||n===null||mn(n,n.return)),s&4){var u=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[is]||u[gt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),bt(u,s,n),u[gt]=e,ht(u),s=u;break e;case"link":var h=_0("link","href",o).get(s+(n.href||""));if(h){for(var x=0;x<h.length;x++)if(u=h[x],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(x,1);break t}}u=o.createElement(s),bt(u,s,n),o.head.appendChild(u);break;case"meta":if(h=_0("meta","content",o).get(s+(n.content||""))){for(x=0;x<h.length;x++)if(u=h[x],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(x,1);break t}}u=o.createElement(s),bt(u,s,n),o.head.appendChild(u);break;default:throw Error(r(468,s))}u[gt]=e,ht(u),s=u}e.stateNode=s}else M0(o,e.type,e.stateNode);else e.stateNode=N0(o,s,e.memoizedProps);else u!==s?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,s===null?M0(o,e.type,e.stateNode):N0(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Su(e,e.memoizedProps,n.memoizedProps)}break;case 27:wt(t,e),jt(e),s&512&&(lt||n===null||mn(n,n.return)),n!==null&&s&4&&Su(e,e.memoizedProps,n.memoizedProps);break;case 5:if(wt(t,e),jt(e),s&512&&(lt||n===null||mn(n,n.return)),e.flags&32){o=e.stateNode;try{oi(o,"")}catch(te){Be(e,e.return,te)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Su(e,o,n!==null?n.memoizedProps:o)),s&1024&&(Eu=!0);break;case 6:if(wt(t,e),jt(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(te){Be(e,e.return,te)}}break;case 3:if(mr=null,o=on,on=dr(t.containerInfo),wt(t,e),on=o,jt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Gi(t.containerInfo)}catch(te){Be(e,e.return,te)}Eu&&(Eu=!1,Mm(e));break;case 4:s=on,on=dr(e.stateNode.containerInfo),wt(t,e),jt(e),on=s;break;case 12:wt(t,e),jt(e);break;case 31:wt(t,e),jt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Il(e,s)));break;case 13:wt(t,e),jt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(er=ft()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Il(e,s)));break;case 22:o=e.memoizedState!==null;var T=n!==null&&n.memoizedState!==null,w=wn,R=lt;if(wn=w||o,lt=R||T,wt(t,e),lt=R,wn=w,jt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||T||wn||lt||qa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){T=n=t;try{if(u=T.stateNode,o)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{x=T.stateNode;var G=T.memoizedProps.style,j=G!=null&&G.hasOwnProperty("display")?G.display:null;x.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(te){Be(T,T.return,te)}}}else if(t.tag===6){if(n===null){T=t;try{T.stateNode.nodeValue=o?"":T.memoizedProps}catch(te){Be(T,T.return,te)}}}else if(t.tag===18){if(n===null){T=t;try{var O=T.stateNode;o?v0(O,!0):v0(T.stateNode,!1)}catch(te){Be(T,T.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Il(e,n))));break;case 19:wt(t,e),jt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Il(e,s)));break;case 30:break;case 21:break;default:wt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(bm(s)){n=s;break}s=s.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var o=n.stateNode,u=Tu(e);Pl(e,u,o);break;case 5:var h=n.stateNode;n.flags&32&&(oi(h,""),n.flags&=-33);var x=Tu(e);Pl(e,x,h);break;case 3:case 4:var T=n.stateNode.containerInfo,w=Tu(e);Au(e,w,T);break;default:throw Error(r(161))}}catch(R){Be(e,e.return,R)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Mm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function On(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Am(e,t.alternate,t),t=t.sibling}function qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:na(4,t,t.return),qa(t);break;case 1:mn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&vm(t,t.return,n),qa(t);break;case 27:Hs(t.stateNode);case 26:case 5:mn(t,t.return),qa(t);break;case 22:t.memoizedState===null&&qa(t);break;case 30:qa(t);break;default:qa(t)}e=e.sibling}}function Rn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:Rn(o,u,n),ws(4,u);break;case 1:if(Rn(o,u,n),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(w){Be(s,s.return,w)}if(s=u,o=s.updateQueue,o!==null){var x=s.stateNode;try{var T=o.shared.hiddenCallbacks;if(T!==null)for(o.shared.hiddenCallbacks=null,o=0;o<T.length;o++)lh(T[o],x)}catch(w){Be(s,s.return,w)}}n&&h&64&&ym(u),js(u,u.return);break;case 27:Sm(u);case 26:case 5:Rn(o,u,n),n&&s===null&&h&4&&xm(u),js(u,u.return);break;case 12:Rn(o,u,n);break;case 31:Rn(o,u,n),n&&h&4&&Dm(o,u);break;case 13:Rn(o,u,n),n&&h&4&&Nm(o,u);break;case 22:u.memoizedState===null&&Rn(o,u,n),js(u,u.return);break;case 30:break;default:Rn(o,u,n)}t=t.sibling}}function Cu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ys(n))}function Du(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ys(e))}function un(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wm(e,t,n,s),t=t.sibling}function wm(e,t,n,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:un(e,t,n,s),o&2048&&ws(9,t);break;case 1:un(e,t,n,s);break;case 3:un(e,t,n,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ys(e)));break;case 12:if(o&2048){un(e,t,n,s),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,x=u.onPostCommit;typeof x=="function"&&x(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Be(t,t.return,T)}}else un(e,t,n,s);break;case 31:un(e,t,n,s);break;case 13:un(e,t,n,s);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?un(e,t,n,s):Os(e,t):u._visibility&2?un(e,t,n,s):(u._visibility|=2,_i(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Cu(h,t);break;case 24:un(e,t,n,s),o&2048&&Du(t.alternate,t);break;default:un(e,t,n,s)}}function _i(e,t,n,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,h=t,x=n,T=s,w=h.flags;switch(h.tag){case 0:case 11:case 15:_i(u,h,x,T,o),ws(8,h);break;case 23:break;case 22:var R=h.stateNode;h.memoizedState!==null?R._visibility&2?_i(u,h,x,T,o):Os(u,h):(R._visibility|=2,_i(u,h,x,T,o)),o&&w&2048&&Cu(h.alternate,h);break;case 24:_i(u,h,x,T,o),o&&w&2048&&Du(h.alternate,h);break;default:_i(u,h,x,T,o)}t=t.sibling}}function Os(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,o=s.flags;switch(s.tag){case 22:Os(n,s),o&2048&&Cu(s.alternate,s);break;case 24:Os(n,s),o&2048&&Du(s.alternate,s);break;default:Os(n,s)}t=t.sibling}}var Rs=8192;function Mi(e,t,n){if(e.subtreeFlags&Rs)for(e=e.child;e!==null;)jm(e,t,n),e=e.sibling}function jm(e,t,n){switch(e.tag){case 26:Mi(e,t,n),e.flags&Rs&&e.memoizedState!==null&&qb(n,on,e.memoizedState,e.memoizedProps);break;case 5:Mi(e,t,n);break;case 3:case 4:var s=on;on=dr(e.stateNode.containerInfo),Mi(e,t,n),on=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Rs,Rs=16777216,Mi(e,t,n),Rs=s):Mi(e,t,n));break;default:Mi(e,t,n)}}function Om(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function zs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];mt=s,zm(s,e)}Om(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rm(e),e=e.sibling}function Rm(e){switch(e.tag){case 0:case 11:case 15:zs(e),e.flags&2048&&na(9,e,e.return);break;case 3:zs(e);break;case 12:zs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wl(e)):zs(e);break;default:zs(e)}}function Wl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];mt=s,zm(s,e)}Om(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:na(8,t,t.return),Wl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Wl(t));break;default:Wl(t)}e=e.sibling}}function zm(e,t){for(;mt!==null;){var n=mt;switch(n.tag){case 0:case 11:case 15:na(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ys(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,mt=s;else e:for(n=e;mt!==null;){s=mt;var o=s.sibling,u=s.return;if(Em(s),s===n){mt=null;break e}if(o!==null){o.return=u,mt=o;break e}mt=u}}}var ib={getCacheForType:function(e){var t=vt(at),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return vt(at).controller.signal}},sb=typeof WeakMap=="function"?WeakMap:Map,Re=0,He=null,Ee=null,De=0,ze=0,Ht=null,aa=!1,wi=!1,Nu=!1,zn=0,Pe=0,ia=0,Xa=0,_u=0,kt=0,ji=0,Bs=null,Ot=null,Mu=!1,er=0,Bm=0,tr=1/0,nr=null,sa=null,ot=0,la=null,Oi=null,Bn=0,wu=0,ju=null,Vm=null,Vs=0,Ou=null;function Yt(){return(Re&2)!==0&&De!==0?De&-De:N.T!==null?Uu():If()}function Lm(){if(kt===0)if((De&536870912)===0||Me){var e=Qe;Qe<<=1,(Qe&3932160)===0&&(Qe=262144),kt=e}else kt=536870912;return e=Ut.current,e!==null&&(e.flags|=32),kt}function Rt(e,t,n){(e===He&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(Ri(e,0),ra(e,De,kt,!1)),as(e,n),((Re&2)===0||e!==He)&&(e===He&&((Re&2)===0&&(Xa|=n),Pe===4&&ra(e,De,kt,!1)),pn(e))}function Um(e,t,n){if((Re&6)!==0)throw Error(r(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ns(e,t),o=s?ob(e,t):zu(e,t,!0),u=s;do{if(o===0){wi&&!s&&ra(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!lb(n)){o=zu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var x=e;o=Bs;var T=x.current.memoizedState.isDehydrated;if(T&&(Ri(x,h).flags|=256),h=zu(x,h,!1),h!==2){if(Nu&&!T){x.errorRecoveryDisabledLanes|=u,Xa|=u,o=4;break e}u=Ot,Ot=o,u!==null&&(Ot===null?Ot=u:Ot.push.apply(Ot,u))}o=h}if(u=!1,o!==2)continue}}if(o===1){Ri(e,0),ra(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:ra(s,t,kt,!aa);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=er+300-ft(),10<o)){if(ra(s,t,kt,!aa),ti(s,0,!0)!==0)break e;Bn=t,s.timeoutHandle=p0(Gm.bind(null,s,n,Ot,nr,Mu,t,kt,Xa,ji,aa,u,"Throttled",-0,0),o);break e}Gm(s,n,Ot,nr,Mu,t,kt,Xa,ji,aa,u,null,-0,0)}}break}while(!0);pn(e)}function Gm(e,t,n,s,o,u,h,x,T,w,R,G,j,O){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bn},jm(t,u,G);var te=(u&62914560)===u?er-ft():(u&4194048)===u?Bm-ft():0;if(te=Xb(G,te),te!==null){Bn=u,e.cancelPendingCommit=te(Zm.bind(null,e,t,u,n,s,o,h,x,T,R,G,null,j,O)),ra(e,u,h,!w);return}}Zm(e,t,u,n,s,o,h,x,T)}function lb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var o=n[s],u=o.getSnapshot;o=o.value;try{if(!Vt(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ra(e,t,n,s){t&=~_u,t&=~Xa,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-ge(o),h=1<<u;s[u]=-1,o&=~h}n!==0&&Jf(e,n,t)}function ar(){return(Re&6)===0?(Ls(0),!1):!0}function Ru(){if(Ee!==null){if(ze===0)var e=Ee.return;else e=Ee,En=Ba=null,Jo(e),Ai=null,xs=0,e=Ee;for(;e!==null;)gm(e.alternate,e),e=e.return;Ee=null}}function Ri(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Db(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Bn=0,Ru(),He=e,Ee=n=Tn(e.current,null),De=t,ze=0,Ht=null,aa=!1,wi=ns(e,t),Nu=!1,ji=kt=_u=Xa=ia=Pe=0,Ot=Bs=null,Mu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-ge(s),u=1<<o;t|=e[o],s&=~u}return zn=t,El(),n}function Hm(e,t){ye=null,N.H=Ns,t===Ti||t===Ol?(t=nh(),ze=3):t===Lo?(t=nh(),ze=4):ze=t===fu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ht=t,Ee===null&&(Pe=1,Ql(e,Ft(t,e.current)))}function km(){var e=Ut.current;return e===null?!0:(De&4194048)===De?It===null:(De&62914560)===De||(De&536870912)!==0?e===It:!1}function Ym(){var e=N.H;return N.H=Ns,e===null?Ns:e}function qm(){var e=N.A;return N.A=ib,e}function ir(){Pe=4,aa||(De&4194048)!==De&&Ut.current!==null||(wi=!0),(ia&134217727)===0&&(Xa&134217727)===0||He===null||ra(He,De,kt,!1)}function zu(e,t,n){var s=Re;Re|=2;var o=Ym(),u=qm();(He!==e||De!==t)&&(nr=null,Ri(e,t)),t=!1;var h=Pe;e:do try{if(ze!==0&&Ee!==null){var x=Ee,T=Ht;switch(ze){case 8:Ru(),h=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(t=!0);var w=ze;if(ze=0,Ht=null,zi(e,x,T,w),n&&wi){h=0;break e}break;default:w=ze,ze=0,Ht=null,zi(e,x,T,w)}}rb(),h=Pe;break}catch(R){Hm(e,R)}while(!0);return t&&e.shellSuspendCounter++,En=Ba=null,Re=s,N.H=o,N.A=u,Ee===null&&(He=null,De=0,El()),h}function rb(){for(;Ee!==null;)Xm(Ee)}function ob(e,t){var n=Re;Re|=2;var s=Ym(),o=qm();He!==e||De!==t?(nr=null,tr=ft()+500,Ri(e,t)):wi=ns(e,t);e:do try{if(ze!==0&&Ee!==null){t=Ee;var u=Ht;t:switch(ze){case 1:ze=0,Ht=null,zi(e,t,u,1);break;case 2:case 9:if(eh(u)){ze=0,Ht=null,Km(t);break}t=function(){ze!==2&&ze!==9||He!==e||(ze=7),pn(e)},u.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:eh(u)?(ze=0,Ht=null,Km(t)):(ze=0,Ht=null,zi(e,t,u,7));break;case 5:var h=null;switch(Ee.tag){case 26:h=Ee.memoizedState;case 5:case 27:var x=Ee;if(h?w0(h):x.stateNode.complete){ze=0,Ht=null;var T=x.sibling;if(T!==null)Ee=T;else{var w=x.return;w!==null?(Ee=w,sr(w)):Ee=null}break t}}ze=0,Ht=null,zi(e,t,u,5);break;case 6:ze=0,Ht=null,zi(e,t,u,6);break;case 8:Ru(),Pe=6;break e;default:throw Error(r(462))}}ub();break}catch(R){Hm(e,R)}while(!0);return En=Ba=null,N.H=s,N.A=o,Re=n,Ee!==null?0:(He=null,De=0,El(),Pe)}function ub(){for(;Ee!==null&&!Wa();)Xm(Ee)}function Xm(e){var t=mm(e.alternate,e,zn);e.memoizedProps=e.pendingProps,t===null?sr(e):Ee=t}function Km(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=om(n,t,t.pendingProps,t.type,void 0,De);break;case 11:t=om(n,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:Jo(t);default:gm(n,t),t=Ee=qd(t,zn),t=mm(n,t,zn)}e.memoizedProps=e.pendingProps,t===null?sr(e):Ee=t}function zi(e,t,n,s){En=Ba=null,Jo(t),Ai=null,xs=0;var o=t.return;try{if(Px(e,o,t,n,De)){Pe=1,Ql(e,Ft(n,e.current)),Ee=null;return}}catch(u){if(o!==null)throw Ee=o,u;Pe=1,Ql(e,Ft(n,e.current)),Ee=null;return}t.flags&32768?(Me||s===1?e=!0:wi||(De&536870912)!==0?e=!1:(aa=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ut.current,s!==null&&s.tag===13&&(s.flags|=16384))),Qm(t,e)):sr(t)}function sr(e){var t=e;do{if((t.flags&32768)!==0){Qm(t,aa);return}e=t.return;var n=eb(t.alternate,t,zn);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Pe===0&&(Pe=5)}function Qm(e,t){do{var n=tb(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);Pe=6,Ee=null}function Zm(e,t,n,s,o,u,h,x,T){e.cancelPendingCommit=null;do lr();while(ot!==0);if((Re&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=To,Yv(e,n,u,h,x,T),e===He&&(Ee=He=null,De=0),Oi=t,la=e,Bn=n,wu=u,ju=o,Vm=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hb(fn,function(){return Im(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=N.T,N.T=null,o=V.p,V.p=2,h=Re,Re|=4;try{nb(e,t,n)}finally{Re=h,V.p=o,N.T=s}}ot=1,Fm(),Jm(),$m()}}function Fm(){if(ot===1){ot=0;var e=la,t=Oi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=N.T,N.T=null;var s=V.p;V.p=2;var o=Re;Re|=4;try{_m(t,e);var u=Qu,h=zd(e.containerInfo),x=u.focusedElem,T=u.selectionRange;if(h!==x&&x&&x.ownerDocument&&Rd(x.ownerDocument.documentElement,x)){if(T!==null&&yo(x)){var w=T.start,R=T.end;if(R===void 0&&(R=w),"selectionStart"in x)x.selectionStart=w,x.selectionEnd=Math.min(R,x.value.length);else{var G=x.ownerDocument||document,j=G&&G.defaultView||window;if(j.getSelection){var O=j.getSelection(),te=x.textContent.length,re=Math.min(T.start,te),Ue=T.end===void 0?re:Math.min(T.end,te);!O.extend&&re>Ue&&(h=Ue,Ue=re,re=h);var D=Od(x,re),E=Od(x,Ue);if(D&&E&&(O.rangeCount!==1||O.anchorNode!==D.node||O.anchorOffset!==D.offset||O.focusNode!==E.node||O.focusOffset!==E.offset)){var _=G.createRange();_.setStart(D.node,D.offset),O.removeAllRanges(),re>Ue?(O.addRange(_),O.extend(E.node,E.offset)):(_.setEnd(E.node,E.offset),O.addRange(_))}}}}for(G=[],O=x;O=O.parentNode;)O.nodeType===1&&G.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<G.length;x++){var U=G[x];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}vr=!!Ku,Qu=Ku=null}finally{Re=o,V.p=s,N.T=n}}e.current=t,ot=2}}function Jm(){if(ot===2){ot=0;var e=la,t=Oi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=N.T,N.T=null;var s=V.p;V.p=2;var o=Re;Re|=4;try{Am(e,t.alternate,t)}finally{Re=o,V.p=s,N.T=n}}ot=3}}function $m(){if(ot===4||ot===3){ot=0,ei();var e=la,t=Oi,n=Bn,s=Vm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ot=5:(ot=0,Oi=la=null,Pm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(sa=null),Pr(n),t=t.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(P,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=N.T,o=V.p,V.p=2,N.T=null;try{for(var u=e.onRecoverableError,h=0;h<s.length;h++){var x=s[h];u(x.value,{componentStack:x.stack})}}finally{N.T=t,V.p=o}}(Bn&3)!==0&&lr(),pn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Ou?Vs++:(Vs=0,Ou=e):Vs=0,Ls(0)}}function Pm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ys(t)))}function lr(){return Fm(),Jm(),$m(),Im()}function Im(){if(ot!==5)return!1;var e=la,t=wu;wu=0;var n=Pr(Bn),s=N.T,o=V.p;try{V.p=32>n?32:n,N.T=null,n=ju,ju=null;var u=la,h=Bn;if(ot=0,Oi=la=null,Bn=0,(Re&6)!==0)throw Error(r(331));var x=Re;if(Re|=4,Rm(u.current),wm(u,u.current,h,n),Re=x,Ls(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(P,u)}catch{}return!0}finally{V.p=o,N.T=s,Pm(e,t)}}function Wm(e,t,n){t=Ft(n,t),t=cu(e.stateNode,t,2),e=Wn(e,t,2),e!==null&&(as(e,2),pn(e))}function Be(e,t,n){if(e.tag===3)Wm(e,e,n);else for(;t!==null;){if(t.tag===3){Wm(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(sa===null||!sa.has(s))){e=Ft(n,e),n=em(2),s=Wn(t,n,2),s!==null&&(tm(n,s,t,e),as(s,2),pn(s));break}}t=t.return}}function Bu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new sb;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(Nu=!0,o.add(n),e=cb.bind(null,e,t,n),t.then(e,e))}function cb(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,He===e&&(De&n)===n&&(Pe===4||Pe===3&&(De&62914560)===De&&300>ft()-er?(Re&2)===0&&Ri(e,0):_u|=n,ji===De&&(ji=0)),pn(e)}function e0(e,t){t===0&&(t=Ff()),e=Oa(e,t),e!==null&&(as(e,t),pn(e))}function fb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),e0(e,n)}function db(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),e0(e,n)}function hb(e,t){return Yn(e,t)}var rr=null,Bi=null,Vu=!1,or=!1,Lu=!1,oa=0;function pn(e){e!==Bi&&e.next===null&&(Bi===null?rr=Bi=e:Bi=Bi.next=e),or=!0,Vu||(Vu=!0,pb())}function Ls(e,t){if(!Lu&&or){Lu=!0;do for(var n=!1,s=rr;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var h=s.suspendedLanes,x=s.pingedLanes;u=(1<<31-ge(42|e)+1)-1,u&=o&~(h&~x),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,i0(s,u))}else u=De,u=ti(s,s===He?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||ns(s,u)||(n=!0,i0(s,u));s=s.next}while(n);Lu=!1}}function mb(){t0()}function t0(){or=Vu=!1;var e=0;oa!==0&&Cb()&&(e=oa);for(var t=ft(),n=null,s=rr;s!==null;){var o=s.next,u=n0(s,t);u===0?(s.next=null,n===null?rr=o:n.next=o,o===null&&(Bi=n)):(n=s,(e!==0||(u&3)!==0)&&(or=!0)),s=o}ot!==0&&ot!==5||Ls(e),oa!==0&&(oa=0)}function n0(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-ge(u),x=1<<h,T=o[h];T===-1?((x&n)===0||(x&s)!==0)&&(o[h]=kv(x,t)):T<=t&&(e.expiredLanes|=x),u&=~x}if(t=He,n=De,n=ti(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&qn(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ns(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&qn(s),Pr(n)){case 2:case 8:n=Da;break;case 32:n=fn;break;case 268435456:n=_e;break;default:n=fn}return s=a0.bind(null,e),n=Yn(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&qn(s),e.callbackPriority=2,e.callbackNode=null,2}function a0(e,t){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lr()&&e.callbackNode!==n)return null;var s=De;return s=ti(e,e===He?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Um(e,s,t),n0(e,ft()),e.callbackNode!=null&&e.callbackNode===n?a0.bind(null,e):null)}function i0(e,t){if(lr())return null;Um(e,t,!0)}function pb(){Nb(function(){(Re&6)!==0?Yn(Ca,mb):t0()})}function Uu(){if(oa===0){var e=bi;e===0&&(e=be,be<<=1,(be&261888)===0&&(be=256)),oa=e}return oa}function s0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gl(""+e)}function l0(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function gb(e,t,n,s,o){if(t==="submit"&&n&&n.stateNode===o){var u=s0((o[Nt]||null).action),h=s.submitter;h&&(t=(t=h[Nt]||null)?s0(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var x=new bl("action","action",null,s,o);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(oa!==0){var T=h?l0(o,h):new FormData(o);iu(n,{pending:!0,data:T,method:o.method,action:u},null,T)}}else typeof u=="function"&&(x.preventDefault(),T=h?l0(o,h):new FormData(o),iu(n,{pending:!0,data:T,method:o.method,action:u},u,T))},currentTarget:o}]})}}for(var Gu=0;Gu<So.length;Gu++){var Hu=So[Gu],yb=Hu.toLowerCase(),vb=Hu[0].toUpperCase()+Hu.slice(1);rn(yb,"on"+vb)}rn(Ld,"onAnimationEnd"),rn(Ud,"onAnimationIteration"),rn(Gd,"onAnimationStart"),rn("dblclick","onDoubleClick"),rn("focusin","onFocus"),rn("focusout","onBlur"),rn(zx,"onTransitionRun"),rn(Bx,"onTransitionStart"),rn(Vx,"onTransitionCancel"),rn(Hd,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Us));function r0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var h=s.length-1;0<=h;h--){var x=s[h],T=x.instance,w=x.currentTarget;if(x=x.listener,T!==u&&o.isPropagationStopped())break e;u=x,o.currentTarget=w;try{u(o)}catch(R){Al(R)}o.currentTarget=null,u=T}else for(h=0;h<s.length;h++){if(x=s[h],T=x.instance,w=x.currentTarget,x=x.listener,T!==u&&o.isPropagationStopped())break e;u=x,o.currentTarget=w;try{u(o)}catch(R){Al(R)}o.currentTarget=null,u=T}}}}function Ce(e,t){var n=t[Ir];n===void 0&&(n=t[Ir]=new Set);var s=e+"__bubble";n.has(s)||(o0(t,e,2,!1),n.add(s))}function ku(e,t,n){var s=0;t&&(s|=4),o0(n,e,s,t)}var ur="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[ur]){e[ur]=!0,td.forEach(function(n){n!=="selectionchange"&&(xb.has(n)||ku(n,!1,e),ku(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ur]||(t[ur]=!0,ku("selectionchange",!1,t))}}function o0(e,t,n,s){switch(L0(t)){case 2:var o=Zb;break;case 8:o=Fb;break;default:o=ac}n=o.bind(null,t,n,e),o=void 0,!ro||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function qu(e,t,n,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var x=s.stateNode.containerInfo;if(x===o)break;if(h===4)for(h=s.return;h!==null;){var T=h.tag;if((T===3||T===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;x!==null;){if(h=ai(x),h===null)return;if(T=h.tag,T===5||T===6||T===26||T===27){s=u=h;continue e}x=x.parentNode}}s=s.return}hd(function(){var w=u,R=so(n),G=[];e:{var j=kd.get(e);if(j!==void 0){var O=bl,te=e;switch(e){case"keypress":if(vl(n)===0)break e;case"keydown":case"keyup":O=dx;break;case"focusin":te="focus",O=fo;break;case"focusout":te="blur",O=fo;break;case"beforeblur":case"afterblur":O=fo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=ex;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=px;break;case Ld:case Ud:case Gd:O=ax;break;case Hd:O=yx;break;case"scroll":case"scrollend":O=Iv;break;case"wheel":O=xx;break;case"copy":case"cut":case"paste":O=sx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=vd;break;case"toggle":case"beforetoggle":O=Sx}var re=(t&4)!==0,Ue=!re&&(e==="scroll"||e==="scrollend"),D=re?j!==null?j+"Capture":null:j;re=[];for(var E=w,_;E!==null;){var U=E;if(_=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||_===null||D===null||(U=ls(E,D),U!=null&&re.push(Gs(E,U,_))),Ue)break;E=E.return}0<re.length&&(j=new O(j,te,null,n,R),G.push({event:j,listeners:re}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",j&&n!==io&&(te=n.relatedTarget||n.fromElement)&&(ai(te)||te[ni]))break e;if((O||j)&&(j=R.window===R?R:(j=R.ownerDocument)?j.defaultView||j.parentWindow:window,O?(te=n.relatedTarget||n.toElement,O=w,te=te?ai(te):null,te!==null&&(Ue=d(te),re=te.tag,te!==Ue||re!==5&&re!==27&&re!==6)&&(te=null)):(O=null,te=w),O!==te)){if(re=gd,U="onMouseLeave",D="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(re=vd,U="onPointerLeave",D="onPointerEnter",E="pointer"),Ue=O==null?j:ss(O),_=te==null?j:ss(te),j=new re(U,E+"leave",O,n,R),j.target=Ue,j.relatedTarget=_,U=null,ai(R)===w&&(re=new re(D,E+"enter",te,n,R),re.target=_,re.relatedTarget=Ue,U=re),Ue=U,O&&te)t:{for(re=bb,D=O,E=te,_=0,U=D;U;U=re(U))_++;U=0;for(var se=E;se;se=re(se))U++;for(;0<_-U;)D=re(D),_--;for(;0<U-_;)E=re(E),U--;for(;_--;){if(D===E||E!==null&&D===E.alternate){re=D;break t}D=re(D),E=re(E)}re=null}else re=null;O!==null&&u0(G,j,O,re,!1),te!==null&&Ue!==null&&u0(G,Ue,te,re,!0)}}e:{if(j=w?ss(w):window,O=j.nodeName&&j.nodeName.toLowerCase(),O==="select"||O==="input"&&j.type==="file")var je=Dd;else if(Ed(j))if(Nd)je=jx;else{je=Mx;var ae=_x}else O=j.nodeName,!O||O.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?w&&ao(w.elementType)&&(je=Dd):je=wx;if(je&&(je=je(e,w))){Cd(G,je,n,R);break e}ae&&ae(e,j,w),e==="focusout"&&w&&j.type==="number"&&w.memoizedProps.value!=null&&no(j,"number",j.value)}switch(ae=w?ss(w):window,e){case"focusin":(Ed(ae)||ae.contentEditable==="true")&&(di=ae,vo=w,ms=null);break;case"focusout":ms=vo=di=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,Bd(G,n,R);break;case"selectionchange":if(Rx)break;case"keydown":case"keyup":Bd(G,n,R)}var ve;if(mo)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else fi?Td(e,n)&&(Ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ne="onCompositionStart");Ne&&(xd&&n.locale!=="ko"&&(fi||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&fi&&(ve=md()):(Qn=R,oo="value"in Qn?Qn.value:Qn.textContent,fi=!0)),ae=cr(w,Ne),0<ae.length&&(Ne=new yd(Ne,e,null,n,R),G.push({event:Ne,listeners:ae}),ve?Ne.data=ve:(ve=Ad(n),ve!==null&&(Ne.data=ve)))),(ve=Ax?Ex(e,n):Cx(e,n))&&(Ne=cr(w,"onBeforeInput"),0<Ne.length&&(ae=new yd("onBeforeInput","beforeinput",null,n,R),G.push({event:ae,listeners:Ne}),ae.data=ve)),gb(G,e,w,n,R)}r0(G,t)})}function Gs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cr(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=ls(e,n),o!=null&&s.unshift(Gs(e,o,u)),o=ls(e,t),o!=null&&s.push(Gs(e,o,u))),e.tag===3)return s;e=e.return}return[]}function bb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function u0(e,t,n,s,o){for(var u=t._reactName,h=[];n!==null&&n!==s;){var x=n,T=x.alternate,w=x.stateNode;if(x=x.tag,T!==null&&T===s)break;x!==5&&x!==26&&x!==27||w===null||(T=w,o?(w=ls(n,u),w!=null&&h.unshift(Gs(n,w,T))):o||(w=ls(n,u),w!=null&&h.push(Gs(n,w,T)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Sb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function c0(e){return(typeof e=="string"?e:""+e).replace(Sb,`
`).replace(Tb,"")}function f0(e,t){return t=c0(t),c0(e)===t}function Le(e,t,n,s,o,u){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||oi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&oi(e,""+s);break;case"className":ml(e,"class",s);break;case"tabIndex":ml(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ml(e,n,s);break;case"style":fd(e,s,u);break;case"data":if(t!=="object"){ml(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=gl(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Le(e,t,"name",o.name,o,null),Le(e,t,"formEncType",o.formEncType,o,null),Le(e,t,"formMethod",o.formMethod,o,null),Le(e,t,"formTarget",o.formTarget,o,null)):(Le(e,t,"encType",o.encType,o,null),Le(e,t,"method",o.method,o,null),Le(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=gl(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=bn);break;case"onScroll":s!=null&&Ce("scroll",e);break;case"onScrollEnd":s!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=gl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),hl(e,"popover",s);break;case"xlinkActuate":xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":xn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":xn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":xn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":xn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":hl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=$v.get(n)||n,hl(e,n,s))}}function Xu(e,t,n,s,o,u){switch(n){case"style":fd(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof s=="string"?oi(e,s):(typeof s=="number"||typeof s=="bigint")&&oi(e,""+s);break;case"onScroll":s!=null&&Ce("scroll",e);break;case"onScrollEnd":s!=null&&Ce("scrollend",e);break;case"onClick":s!=null&&(e.onclick=bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[Nt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,o);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):hl(e,n,s)}}}function bt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var s=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var h=n[u];if(h!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Le(e,t,u,h,n,null)}}o&&Le(e,t,"srcSet",n.srcSet,n,null),s&&Le(e,t,"src",n.src,n,null);return;case"input":Ce("invalid",e);var x=u=h=o=null,T=null,w=null;for(s in n)if(n.hasOwnProperty(s)){var R=n[s];if(R!=null)switch(s){case"name":o=R;break;case"type":h=R;break;case"checked":T=R;break;case"defaultChecked":w=R;break;case"value":u=R;break;case"defaultValue":x=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:Le(e,t,s,R,n,null)}}rd(e,u,x,T,w,h,o,!1);return;case"select":Ce("invalid",e),s=h=u=null;for(o in n)if(n.hasOwnProperty(o)&&(x=n[o],x!=null))switch(o){case"value":u=x;break;case"defaultValue":h=x;break;case"multiple":s=x;default:Le(e,t,o,x,n,null)}t=u,n=h,e.multiple=!!s,t!=null?ri(e,!!s,t,!1):n!=null&&ri(e,!!s,n,!0);return;case"textarea":Ce("invalid",e),u=o=s=null;for(h in n)if(n.hasOwnProperty(h)&&(x=n[h],x!=null))switch(h){case"value":s=x;break;case"defaultValue":o=x;break;case"children":u=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:Le(e,t,h,x,n,null)}ud(e,s,o,u);return;case"option":for(T in n)if(n.hasOwnProperty(T)&&(s=n[T],s!=null))switch(T){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Le(e,t,T,s,n,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(s=0;s<Us.length;s++)Ce(Us[s],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in n)if(n.hasOwnProperty(w)&&(s=n[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Le(e,t,w,s,n,null)}return;default:if(ao(t)){for(R in n)n.hasOwnProperty(R)&&(s=n[R],s!==void 0&&Xu(e,t,R,s,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(s=n[x],s!=null&&Le(e,t,x,s,n,null))}function Ab(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,h=null,x=null,T=null,w=null,R=null;for(O in n){var G=n[O];if(n.hasOwnProperty(O)&&G!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":T=G;default:s.hasOwnProperty(O)||Le(e,t,O,null,s,G)}}for(var j in s){var O=s[j];if(G=n[j],s.hasOwnProperty(j)&&(O!=null||G!=null))switch(j){case"type":u=O;break;case"name":o=O;break;case"checked":w=O;break;case"defaultChecked":R=O;break;case"value":h=O;break;case"defaultValue":x=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:O!==G&&Le(e,t,j,O,s,G)}}to(e,h,x,T,w,R,u,o);return;case"select":O=h=x=j=null;for(u in n)if(T=n[u],n.hasOwnProperty(u)&&T!=null)switch(u){case"value":break;case"multiple":O=T;default:s.hasOwnProperty(u)||Le(e,t,u,null,s,T)}for(o in s)if(u=s[o],T=n[o],s.hasOwnProperty(o)&&(u!=null||T!=null))switch(o){case"value":j=u;break;case"defaultValue":x=u;break;case"multiple":h=u;default:u!==T&&Le(e,t,o,u,s,T)}t=x,n=h,s=O,j!=null?ri(e,!!n,j,!1):!!s!=!!n&&(t!=null?ri(e,!!n,t,!0):ri(e,!!n,n?[]:"",!1));return;case"textarea":O=j=null;for(x in n)if(o=n[x],n.hasOwnProperty(x)&&o!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Le(e,t,x,null,s,o)}for(h in s)if(o=s[h],u=n[h],s.hasOwnProperty(h)&&(o!=null||u!=null))switch(h){case"value":j=o;break;case"defaultValue":O=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&Le(e,t,h,o,s,u)}od(e,j,O);return;case"option":for(var te in n)if(j=n[te],n.hasOwnProperty(te)&&j!=null&&!s.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:Le(e,t,te,null,s,j)}for(T in s)if(j=s[T],O=n[T],s.hasOwnProperty(T)&&j!==O&&(j!=null||O!=null))switch(T){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Le(e,t,T,j,s,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in n)j=n[re],n.hasOwnProperty(re)&&j!=null&&!s.hasOwnProperty(re)&&Le(e,t,re,null,s,j);for(w in s)if(j=s[w],O=n[w],s.hasOwnProperty(w)&&j!==O&&(j!=null||O!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,t));break;default:Le(e,t,w,j,s,O)}return;default:if(ao(t)){for(var Ue in n)j=n[Ue],n.hasOwnProperty(Ue)&&j!==void 0&&!s.hasOwnProperty(Ue)&&Xu(e,t,Ue,void 0,s,j);for(R in s)j=s[R],O=n[R],!s.hasOwnProperty(R)||j===O||j===void 0&&O===void 0||Xu(e,t,R,j,s,O);return}}for(var D in n)j=n[D],n.hasOwnProperty(D)&&j!=null&&!s.hasOwnProperty(D)&&Le(e,t,D,null,s,j);for(G in s)j=s[G],O=n[G],!s.hasOwnProperty(G)||j===O||j==null&&O==null||Le(e,t,G,j,s,O)}function d0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Eb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var o=n[s],u=o.transferSize,h=o.initiatorType,x=o.duration;if(u&&x&&d0(h)){for(h=0,x=o.responseEnd,s+=1;s<n.length;s++){var T=n[s],w=T.startTime;if(w>x)break;var R=T.transferSize,G=T.initiatorType;R&&d0(G)&&(T=T.responseEnd,h+=R*(T<x?1:(x-w)/(T-w)))}if(--s,t+=8*(u+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ku=null,Qu=null;function fr(e){return e.nodeType===9?e:e.ownerDocument}function h0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fu=null;function Cb(){var e=window.event;return e&&e.type==="popstate"?e===Fu?!1:(Fu=e,!0):(Fu=null,!1)}var p0=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,Nb=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(e){return g0.resolve(null).then(e).catch(_b)}:p0;function _b(e){setTimeout(function(){throw e})}function ua(e){return e==="head"}function y0(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(o),Gi(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")Hs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Hs(n);for(var u=n.firstChild;u;){var h=u.nextSibling,x=u.nodeName;u[is]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=h}}else n==="body"&&Hs(e.ownerDocument.body);n=o}while(n);Gi(t)}function v0(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function Ju(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ju(n),Wr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Mb(e,t,n,s){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[is])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function wb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Wt(e.nextSibling),e===null))return null;return e}function x0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wt(e.nextSibling),e===null))return null;return e}function $u(e){return e.data==="$?"||e.data==="$~"}function Pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function jb(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Iu=null;function b0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Wt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function S0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function T0(e,t,n){switch(t=fr(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Hs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Wr(e)}var en=new Map,A0=new Set;function dr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vn=V.d;V.d={f:Ob,r:Rb,D:zb,C:Bb,L:Vb,m:Lb,X:Gb,S:Ub,M:Hb};function Ob(){var e=Vn.f(),t=ar();return e||t}function Rb(e){var t=ii(e);t!==null&&t.tag===5&&t.type==="form"?Hh(t):Vn.r(e)}var Vi=typeof document>"u"?null:document;function E0(e,t,n){var s=Vi;if(s&&typeof t=="string"&&t){var o=Qt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),A0.has(o)||(A0.add(o),e={rel:e,crossOrigin:n,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),bt(t,"link",e),ht(t),s.head.appendChild(t)))}}function zb(e){Vn.D(e),E0("dns-prefetch",e,null)}function Bb(e,t){Vn.C(e,t),E0("preconnect",e,t)}function Vb(e,t,n){Vn.L(e,t,n);var s=Vi;if(s&&e&&t){var o='link[rel="preload"][as="'+Qt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Qt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Qt(n.imageSizes)+'"]')):o+='[href="'+Qt(e)+'"]';var u=o;switch(t){case"style":u=Li(e);break;case"script":u=Ui(e)}en.has(u)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),en.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(ks(u))||t==="script"&&s.querySelector(Ys(u))||(t=s.createElement("link"),bt(t,"link",e),ht(t),s.head.appendChild(t)))}}function Lb(e,t){Vn.m(e,t);var n=Vi;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Qt(s)+'"][href="'+Qt(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ui(e)}if(!en.has(u)&&(e=b({rel:"modulepreload",href:e},t),en.set(u,e),n.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ys(u)))return}s=n.createElement("link"),bt(s,"link",e),ht(s),n.head.appendChild(s)}}}function Ub(e,t,n){Vn.S(e,t,n);var s=Vi;if(s&&e){var o=si(s).hoistableStyles,u=Li(e);t=t||"default";var h=o.get(u);if(!h){var x={loading:0,preload:null};if(h=s.querySelector(ks(u)))x.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=en.get(u))&&Wu(e,n);var T=h=s.createElement("link");ht(T),bt(T,"link",e),T._p=new Promise(function(w,R){T.onload=w,T.onerror=R}),T.addEventListener("load",function(){x.loading|=1}),T.addEventListener("error",function(){x.loading|=2}),x.loading|=4,hr(h,t,s)}h={type:"stylesheet",instance:h,count:1,state:x},o.set(u,h)}}}function Gb(e,t){Vn.X(e,t);var n=Vi;if(n&&e){var s=si(n).hoistableScripts,o=Ui(e),u=s.get(o);u||(u=n.querySelector(Ys(o)),u||(e=b({src:e,async:!0},t),(t=en.get(o))&&ec(e,t),u=n.createElement("script"),ht(u),bt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function Hb(e,t){Vn.M(e,t);var n=Vi;if(n&&e){var s=si(n).hoistableScripts,o=Ui(e),u=s.get(o);u||(u=n.querySelector(Ys(o)),u||(e=b({src:e,async:!0,type:"module"},t),(t=en.get(o))&&ec(e,t),u=n.createElement("script"),ht(u),bt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function C0(e,t,n,s){var o=(o=he.current)?dr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Li(n.href),n=si(o).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Li(n.href);var u=si(o).hoistableStyles,h=u.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=o.querySelector(ks(e)))&&!u._p&&(h.instance=u,h.state.loading=5),en.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},en.set(e,n),u||kb(o,e,n,h.state))),t&&s===null)throw Error(r(528,""));return h}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ui(n),n=si(o).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Li(e){return'href="'+Qt(e)+'"'}function ks(e){return'link[rel="stylesheet"]['+e+"]"}function D0(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function kb(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),bt(t,"link",n),ht(t),e.head.appendChild(t))}function Ui(e){return'[src="'+Qt(e)+'"]'}function Ys(e){return"script[async]"+e}function N0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Qt(n.href)+'"]');if(s)return t.instance=s,ht(s),s;var o=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ht(s),bt(s,"style",o),hr(s,n.precedence,e),t.instance=s;case"stylesheet":o=Li(n.href);var u=e.querySelector(ks(o));if(u)return t.state.loading|=4,t.instance=u,ht(u),u;s=D0(n),(o=en.get(o))&&Wu(s,o),u=(e.ownerDocument||e).createElement("link"),ht(u);var h=u;return h._p=new Promise(function(x,T){h.onload=x,h.onerror=T}),bt(u,"link",s),t.state.loading|=4,hr(u,n.precedence,e),t.instance=u;case"script":return u=Ui(n.src),(o=e.querySelector(Ys(u)))?(t.instance=o,ht(o),o):(s=n,(o=en.get(u))&&(s=b({},n),ec(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),ht(o),bt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,hr(s,n.precedence,e));return t.instance}function hr(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,h=0;h<s.length;h++){var x=s[h];if(x.dataset.precedence===t)u=x;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ec(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var mr=null;function _0(e,t,n){if(mr===null){var s=new Map,o=mr=new Map;o.set(n,s)}else o=mr,s=o.get(n),s||(s=new Map,o.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[is]||u[gt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var x=s.get(h);x?x.push(u):s.set(h,[u])}}return s}function M0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Yb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function w0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function qb(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Li(s.href),u=t.querySelector(ks(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=pr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,ht(u);return}u=t.ownerDocument||t,s=D0(s),(o=en.get(o))&&Wu(s,o),u=u.createElement("link"),ht(u);var h=u;h._p=new Promise(function(x,T){h.onload=x,h.onerror=T}),bt(u,"link",s),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=pr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var tc=0;function Xb(e,t){return e.stylesheets&&e.count===0&&yr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&yr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&tc===0&&(tc=62500*Eb());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>tc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function pr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gr=null;function yr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gr=new Map,t.forEach(Kb,e),gr=null,pr.call(e))}function Kb(e,t){if(!(t.state.loading&4)){var n=gr.get(e);if(n)var s=n.get(null);else{n=new Map,gr.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var h=o[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),s=h)}s&&n.set(null,s)}o=t.instance,h=o.getAttribute("data-precedence"),u=n.get(h)||s,u===s&&n.set(null,o),n.set(h,o),this.count++,s=pr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var qs={$$typeof:X,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Qb(e,t,n,s,o,u,h,x,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function j0(e,t,n,s,o,u,h,x,T,w,R,G){return e=new Qb(e,t,n,h,T,w,R,G,x),t=1,u===!0&&(t|=24),u=Lt(3,null,null,t),e.current=u,u.stateNode=e,t=zo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:n,cache:t},Uo(u),e}function O0(e){return e?(e=pi,e):pi}function R0(e,t,n,s,o,u){o=O0(o),s.context===null?s.context=o:s.pendingContext=o,s=In(t),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=Wn(e,s,t),n!==null&&(Rt(n,e,t),Ss(n,e,t))}function z0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nc(e,t){z0(e,t),(e=e.alternate)&&z0(e,t)}function B0(e){if(e.tag===13||e.tag===31){var t=Oa(e,67108864);t!==null&&Rt(t,e,67108864),nc(e,67108864)}}function V0(e){if(e.tag===13||e.tag===31){var t=Yt();t=$r(t);var n=Oa(e,t);n!==null&&Rt(n,e,t),nc(e,t)}}var vr=!0;function Zb(e,t,n,s){var o=N.T;N.T=null;var u=V.p;try{V.p=2,ac(e,t,n,s)}finally{V.p=u,N.T=o}}function Fb(e,t,n,s){var o=N.T;N.T=null;var u=V.p;try{V.p=8,ac(e,t,n,s)}finally{V.p=u,N.T=o}}function ac(e,t,n,s){if(vr){var o=ic(s);if(o===null)qu(e,t,s,xr,n),U0(e,s);else if($b(o,e,t,n,s))s.stopPropagation();else if(U0(e,s),t&4&&-1<Jb.indexOf(e)){for(;o!==null;){var u=ii(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=Xt(u.pendingLanes);if(h!==0){var x=u;for(x.pendingLanes|=2,x.entangledLanes|=2;h;){var T=1<<31-ge(h);x.entanglements[1]|=T,h&=~T}pn(u),(Re&6)===0&&(tr=ft()+500,Ls(0))}}break;case 31:case 13:x=Oa(u,2),x!==null&&Rt(x,u,2),ar(),nc(u,2)}if(u=ic(s),u===null&&qu(e,t,s,xr,n),u===o)break;o=u}o!==null&&s.stopPropagation()}else qu(e,t,s,null,n)}}function ic(e){return e=so(e),sc(e)}var xr=null;function sc(e){if(xr=null,e=ai(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return xr=e,null}function L0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xn()){case Ca:return 2;case Da:return 8;case fn:case Na:return 32;case _e:return 268435456;default:return 32}default:return 32}}var lc=!1,ca=null,fa=null,da=null,Xs=new Map,Ks=new Map,ha=[],Jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U0(e,t){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(t.pointerId)}}function Qs(e,t,n,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=ii(t),t!==null&&B0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function $b(e,t,n,s,o){switch(t){case"focusin":return ca=Qs(ca,e,t,n,s,o),!0;case"dragenter":return fa=Qs(fa,e,t,n,s,o),!0;case"mouseover":return da=Qs(da,e,t,n,s,o),!0;case"pointerover":var u=o.pointerId;return Xs.set(u,Qs(Xs.get(u)||null,e,t,n,s,o)),!0;case"gotpointercapture":return u=o.pointerId,Ks.set(u,Qs(Ks.get(u)||null,e,t,n,s,o)),!0}return!1}function G0(e){var t=ai(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,Wf(e.priority,function(){V0(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,Wf(e.priority,function(){V0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function br(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ic(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);io=s,n.target.dispatchEvent(s),io=null}else return t=ii(n),t!==null&&B0(t),e.blockedOn=n,!1;t.shift()}return!0}function H0(e,t,n){br(e)&&n.delete(t)}function Pb(){lc=!1,ca!==null&&br(ca)&&(ca=null),fa!==null&&br(fa)&&(fa=null),da!==null&&br(da)&&(da=null),Xs.forEach(H0),Ks.forEach(H0)}function Sr(e,t){e.blockedOn===t&&(e.blockedOn=null,lc||(lc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Pb)))}var Tr=null;function k0(e){Tr!==e&&(Tr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Tr===e&&(Tr=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(sc(s||n)===null)continue;break}var u=ii(n);u!==null&&(e.splice(t,3),t-=3,iu(u,{pending:!0,data:o,method:n.method,action:s},s,o))}}))}function Gi(e){function t(T){return Sr(T,e)}ca!==null&&Sr(ca,e),fa!==null&&Sr(fa,e),da!==null&&Sr(da,e),Xs.forEach(t),Ks.forEach(t);for(var n=0;n<ha.length;n++){var s=ha[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ha.length&&(n=ha[0],n.blockedOn===null);)G0(n),n.blockedOn===null&&ha.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],h=o[Nt]||null;if(typeof u=="function")h||k0(n);else if(h){var x=null;if(u&&u.hasAttribute("formAction")){if(o=u,h=u[Nt]||null)x=h.formAction;else if(sc(o)!==null)continue}else x=h.action;typeof x=="function"?n[s+1]=x:(n.splice(s,3),s-=3),k0(n)}}}function Y0(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function rc(e){this._internalRoot=e}Ar.prototype.render=rc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,s=Yt();R0(n,s,e,t,null,null)},Ar.prototype.unmount=rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;R0(e.current,2,null,e,null,null),ar(),t[ni]=null}};function Ar(e){this._internalRoot=e}Ar.prototype.unstable_scheduleHydration=function(e){if(e){var t=If();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ha.length&&t!==0&&t<ha[n].priority;n++);ha.splice(n,0,e),n===0&&G0(e)}};var q0=i.version;if(q0!=="19.2.0")throw Error(r(527,q0,"19.2.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Ib={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Er=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Er.isDisabled&&Er.supportsFiber)try{P=Er.inject(Ib),ee=Er}catch{}}return Fs.createRoot=function(e,t){if(!c(e))throw Error(r(299));var n=!1,s="",o=$h,u=Ph,h=Ih;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=j0(e,1,!1,null,null,n,s,null,o,u,h,Y0),e[ni]=t.current,Yu(e),new rc(t)},Fs.hydrateRoot=function(e,t,n){if(!c(e))throw Error(r(299));var s=!1,o="",u=$h,h=Ph,x=Ih,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(T=n.formState)),t=j0(e,1,!0,t,n??null,s,o,T,u,h,x,Y0),t.context=O0(null),n=t.current,s=Yt(),s=$r(s),o=In(s),o.callback=null,Wn(n,o,s),n=s,t.current.lanes=n,as(t,n),pn(t),e[ni]=t.current,Yu(e),new Ar(t)},Fs.version="19.2.0",Fs}var W0;function u1(){if(W0)return cc.exports;W0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),cc.exports=o1(),cc.exports}var c1=u1();const f1=Dg(c1);var Se=(a=>(a.NEUTRAL="neutral",a.HAPPY="happy",a.SAD="sad",a.ANGRY="angry",a.BLUSH="blush",a.SURPRISED="surprised",a.SHY="shy",a.FEAR="fear",a))(Se||{}),Te=(a=>(a.SCHOOL_ROOFTOP="school_rooftop",a.CLASSROOM="classroom",a.SCHOOL_GATE="school_gate",a.SCHOOL_CORRIDOR="school_corridor",a.LIBRARY="library",a.STREET_SUNSET="street_sunset",a.RIVERSIDE="riverside",a.CONVENIENCE_STORE="convenience_store",a.CAFE="cafe",a.PARK_NIGHT="park_night",a.TRAIN_STATION="train_station",a.BEDROOM="bedroom",a.PALACE_HALL="palace_hall",a.PALACE_GARDEN="palace_garden",a.PALACE_BALCONY="palace_balcony",a.CASTLE_CORRIDOR="castle_corridor",a.ROYAL_BEDROOM="royal_bedroom",a.TRAINING_GROUND="training_ground",a.ABANDONED_GARDEN="abandoned_garden",a))(Te||{}),pt=(a=>(a.DAILY="daily",a.HAPPY="happy",a.SAD="sad",a.TENSE="tense",a.ROMANTIC="romantic",a.MYSTERIOUS="mysterious",a))(pt||{});const ep={[Te.SCHOOL_ROOFTOP]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/school_rooftop.png",fallbackGradient:"linear-gradient(to bottom, #ff7e5f 0%, #feb47b 30%, #ffcda5 50%, #87CEEB 70%, #4a90a4 100%)",overlay:"linear-gradient(to bottom, rgba(255,100,50,0.1) 0%, transparent 50%)",particles:"sakura",brightness:.9},[Te.CLASSROOM]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/classroom.png",fallbackGradient:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 50%, #ee9ca7 100%)",overlay:"linear-gradient(to right, rgba(255,200,100,0.1) 0%, transparent 50%)",particles:"dust",brightness:.9},[Te.SCHOOL_GATE]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/school_gate.png",fallbackGradient:"linear-gradient(to bottom, #87CEEB 0%, #98D8C8 50%, #F7DC6F 100%)",particles:"sakura",brightness:.9},[Te.SCHOOL_CORRIDOR]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/school_corridor.png",fallbackGradient:"linear-gradient(135deg, #E8E8E8 0%, #F5F5DC 50%, #FFEFD5 100%)",particles:"dust",brightness:.9},[Te.LIBRARY]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/library.png",fallbackGradient:"linear-gradient(to bottom, #8B4513 0%, #A0522D 50%, #D2691E 100%)",brightness:.85},[Te.STREET_SUNSET]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/street_sunset.png",fallbackGradient:"linear-gradient(to bottom, #ff6b6b 0%, #feca57 30%, #ff9ff3 60%, #54a0ff 100%)",overlay:"linear-gradient(to top, rgba(0,0,0,0.2) 0%, transparent 50%)",particles:"sakura",brightness:.9},[Te.RIVERSIDE]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/riverside.png",fallbackGradient:"linear-gradient(to bottom, #FFB6C1 0%, #87CEEB 50%, #98D8C8 100%)",particles:"sakura",brightness:.9},[Te.CONVENIENCE_STORE]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/convenience_store.png",fallbackGradient:"linear-gradient(to bottom, #FFFFFF 0%, #F0F0F0 50%, #E0E0E0 100%)",brightness:.9},[Te.CAFE]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/cafe.png",fallbackGradient:"linear-gradient(to bottom right, #3d2914 0%, #5d4037 30%, #6d4c41 60%, #4e342e 100%)",overlay:"radial-gradient(circle at 30% 40%, rgba(255,180,100,0.15) 0%, transparent 60%)",brightness:.85},[Te.PARK_NIGHT]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/park_night.png",fallbackGradient:"linear-gradient(to bottom, #0c1445 0%, #1a237e 30%, #283593 60%, #1a1a2e 100%)",overlay:"radial-gradient(circle at 50% 30%, rgba(100,150,255,0.1) 0%, transparent 50%)",particles:"stars",brightness:.8},[Te.TRAIN_STATION]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/train_station.png",fallbackGradient:"linear-gradient(to bottom, #FF6347 0%, #FFA500 30%, #4682B4 70%, #2F4F4F 100%)",brightness:.9},[Te.BEDROOM]:{imageUrl:"/stories/01_tsundere_wenxi/backgrounds/bedroom.png",fallbackGradient:"linear-gradient(to bottom, #FFB6C1 0%, #FFC0CB 30%, #FFE4E1 60%, #FFFAF0 100%)",overlay:"radial-gradient(circle at 20% 50%, rgba(255,150,80,0.1) 0%, transparent 50%)",brightness:.85},[Te.PALACE_HALL]:{imageUrl:"/stories/02_princess_elena/backgrounds/palace_hall.png",fallbackGradient:"linear-gradient(to bottom, #DAA520 0%, #FFD700 30%, #FFF8DC 60%, #FFFFF0 100%)",overlay:"radial-gradient(circle at 50% 30%, rgba(255,215,0,0.15) 0%, transparent 60%)",brightness:.9},[Te.PALACE_GARDEN]:{imageUrl:"/stories/02_princess_elena/backgrounds/palace_garden.png",fallbackGradient:"linear-gradient(to bottom, #191970 0%, #483D8B 30%, #6A5ACD 60%, #9370DB 100%)",overlay:"radial-gradient(circle at 50% 50%, rgba(200,200,255,0.1) 0%, transparent 50%)",particles:"stars",brightness:.8},[Te.PALACE_BALCONY]:{imageUrl:"/stories/02_princess_elena/backgrounds/palace_balcony.png",fallbackGradient:"linear-gradient(to bottom, #FF6347 0%, #FFA500 30%, #FFD700 60%, #87CEEB 100%)",particles:"sakura",brightness:.9},[Te.CASTLE_CORRIDOR]:{imageUrl:"/stories/02_princess_elena/backgrounds/castle_corridor.png",fallbackGradient:"linear-gradient(to bottom, #2F4F4F 0%, #696969 30%, #808080 60%, #A9A9A9 100%)",brightness:.75},[Te.ROYAL_BEDROOM]:{imageUrl:"/stories/02_princess_elena/backgrounds/royal_bedroom.png",fallbackGradient:"linear-gradient(to bottom, #8B0000 0%, #DC143C 30%, #FF69B4 60%, #FFB6C1 100%)",overlay:"radial-gradient(circle at 30% 40%, rgba(255,200,150,0.15) 0%, transparent 50%)",brightness:.8},[Te.TRAINING_GROUND]:{imageUrl:"/stories/02_princess_elena/backgrounds/training_ground.png",fallbackGradient:"linear-gradient(to bottom, #87CEEB 0%, #ADD8E6 30%, #F0E68C 60%, #DEB887 100%)",brightness:.9},[Te.ABANDONED_GARDEN]:{imageUrl:"/stories/02_princess_elena/backgrounds/abandoned_garden.png",fallbackGradient:"linear-gradient(to bottom, #2F4F4F 0%, #556B2F 30%, #8B8682 60%, #696969 100%)",overlay:"radial-gradient(circle at 50% 50%, rgba(100,150,100,0.1) 0%, transparent 50%)",particles:"dust",brightness:.7}},d1=a=>Array.from({length:a},(i,l)=>({id:l,left:Math.random()*100,top:Math.random()*100,delay:Math.random()*5,duration:5+Math.random()*5})),h1=d1(15),Ng=C.memo(({type:a,parallaxOffset:i={x:0,y:0},cgImage:l})=>{const[r,c]=C.useState(!1),[d,f]=C.useState(!1),[m,g]=C.useState(!1),p=C.useMemo(()=>ep[a]||ep[Te.SCHOOL_ROOFTOP],[a]),v=!!l;return y.jsxs("div",{className:"absolute inset-0 w-full h-full z-0 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0",style:{background:v?"#000":p.fallbackGradient}}),v&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 ${m?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${l})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"#000"}},l),y.jsx("img",{src:l,alt:"CG",className:"hidden",onLoad:()=>g(!0)})]}),!v&&!d&&y.jsx("div",{className:`absolute transition-all duration-1000 ease-in-out ${r?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${p.imageUrl})`,backgroundSize:"cover",backgroundPosition:"center",filter:`brightness(${p.brightness||.8})`,transform:`translate(${-i.x}px, ${-i.y}px) scale(1.05)`,top:"-2.5%",left:"-2.5%",width:"105%",height:"105%"}},a),!v&&y.jsx("img",{src:p.imageUrl,alt:"",className:"hidden",onLoad:()=>c(!0),onError:()=>f(!0)}),!v&&p.overlay&&y.jsx("div",{className:"absolute inset-0 transition-opacity duration-1000",style:{background:p.overlay}}),!v&&p.particles&&y.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:h1.map(b=>y.jsx("div",{className:`absolute rounded-full animate-float ${p.particles==="sakura"?"w-2 h-2":(p.particles==="stars","w-1 h-1")}`,style:{left:`${b.left}%`,top:`${b.top}%`,background:p.particles==="stars"?"rgba(255,255,255,0.9)":p.particles==="sakura"?"rgba(255, 182, 193, 0.8)":"rgba(255,255,200,0.5)",animationDelay:`${b.delay}s`,animationDuration:`${b.duration}s`,filter:p.particles==="stars"?"blur(0px)":"blur(0.5px)",boxShadow:p.particles==="stars"?"0 0 4px rgba(255,255,255,0.9)":p.particles==="sakura"?"0 0 3px rgba(255, 182, 193, 0.6)":"none"}},b.id))}),!v&&y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/60 via-transparent to-slate-900/20"})]})});Ng.displayName="Background";const tp={:{[Se.NEUTRAL]:"/stories/01_tsundere_wenxi/expressions/wenxi_neutral.png",[Se.HAPPY]:"/stories/01_tsundere_wenxi/expressions/wenxi_happy.png",[Se.SAD]:"/stories/01_tsundere_wenxi/expressions/wenxi_sad.png",[Se.ANGRY]:"/stories/01_tsundere_wenxi/expressions/wenxi_angry.png",[Se.BLUSH]:"/stories/01_tsundere_wenxi/expressions/wenxi_blush.png",[Se.SURPRISED]:"/stories/01_tsundere_wenxi/expressions/wenxi_surprised.png",[Se.SHY]:"/stories/01_tsundere_wenxi/expressions/wenxi_blush.png",[Se.FEAR]:"/stories/01_tsundere_wenxi/expressions/wenxi_surprised.png"},:{[Se.NEUTRAL]:"/stories/02_princess_elena/expressions/smiling.png",[Se.HAPPY]:"/stories/02_princess_elena/expressions/smiling.png",[Se.SAD]:"/stories/02_princess_elena/expressions/sadness.png",[Se.ANGRY]:"/stories/02_princess_elena/expressions/anger.png",[Se.BLUSH]:"/stories/02_princess_elena/expressions/blushing.png",[Se.SURPRISED]:"/stories/02_princess_elena/expressions/surprise.png",[Se.SHY]:"/stories/02_princess_elena/expressions/blushing.png",[Se.FEAR]:"/stories/02_princess_elena/expressions/sadness.png"},:{[Se.NEUTRAL]:"/stories/01_tsundere_wenxi/expressions/wenxi_neutral.png",[Se.HAPPY]:"/stories/01_tsundere_wenxi/expressions/wenxi_happy.png",[Se.SAD]:"/stories/01_tsundere_wenxi/expressions/wenxi_sad.png",[Se.ANGRY]:"/stories/01_tsundere_wenxi/expressions/wenxi_angry.png",[Se.BLUSH]:"/stories/01_tsundere_wenxi/expressions/wenxi_blush.png",[Se.SURPRISED]:"/stories/01_tsundere_wenxi/expressions/wenxi_surprised.png",[Se.SHY]:"/stories/01_tsundere_wenxi/expressions/wenxi_blush.png",[Se.FEAR]:"/stories/01_tsundere_wenxi/expressions/wenxi_surprised.png"}},m1="",_g=C.memo(({expression:a,isVisible:i,characterName:l="",isSpeaking:r=!1,parallaxOffset:c={x:0,y:0}})=>{const[d,f]=C.useState(!1),m=C.useMemo(()=>tp[l]||tp[m1],[l]),g=m[Se.NEUTRAL],[p,v]=C.useState(m[a]||g);return C.useEffect(()=>{f(!1);const b=m[a]||g,S=new Image;S.onload=()=>{v(b),f(!0)},S.onerror=()=>{v(g),f(!0)},S.src=b},[a,m,g]),y.jsx("div",{className:`absolute bottom-0 left-1/2 transition-all duration-500 z-10 flex justify-center items-end pointer-events-none
        ${i?"opacity-100":"opacity-0"}`,style:{height:"95vh",width:"80%",maxWidth:"90vh",transform:`translateX(-50%) translate(${c.x*.3}px, ${c.y*.2}px)`},children:y.jsx("div",{className:`relative w-full flex items-end justify-center transition-transform duration-300 ${r?"scale-[1.02]":"scale-100"}`,style:{height:"100%"},children:y.jsx("img",{src:p,alt:`${l} - ${a}`,className:`h-full w-auto object-contain transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,style:{filter:"drop-shadow(0 10px 30px rgba(0,0,0,0.5))",maxWidth:"none"},onLoad:()=>f(!0)})})})});_g.displayName="CharacterSprite";const p1=30,g1=5,mc=0,pc=100,Mr=50,np=.4,gc=1,ap=24e3,y1=800,v1="openrouter",Mg="https://openrouter.ai/api/v1",wg="google/gemini-2.5-flash",x1=.8;const b1={[pt.DAILY]:"https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3?filename=lofi-study-112778.mp3",[pt.HAPPY]:"https://cdn.pixabay.com/download/audio/2024/09/16/audio_4123547f6d.mp3?filename=happy-day-240507.mp3",[pt.SAD]:"https://cdn.pixabay.com/download/audio/2021/11/24/audio_8233772213.mp3?filename=sad-piano-111555.mp3",[pt.TENSE]:"https://cdn.pixabay.com/download/audio/2022/03/10/audio_51cc6c8104.mp3?filename=suspense-108253.mp3",[pt.ROMANTIC]:"https://cdn.pixabay.com/download/audio/2022/02/10/audio_fc8c857701.mp3?filename=romantic-piano-110753.mp3",[pt.MYSTERIOUS]:"https://cdn.pixabay.com/download/audio/2022/10/25/audio_5d2b378051.mp3?filename=mystery-124317.mp3"};function S1(a){const i=atob(a),l=i.length,r=new Uint8Array(l);for(let c=0;c<l;c++)r[c]=i.charCodeAt(c);return r}async function T1(a,i,l=24e3,r=1){const c=new Int16Array(a.buffer),d=c.length/r,f=i.createBuffer(r,d,l);for(let m=0;m<r;m++){const g=f.getChannelData(m);for(let p=0;p<d;p++)g[p]=c[p*r+m]/32768}return f}class A1{constructor(){this.audioContext=null,this.bgmElement=null,this.currentMood=null,this.isMuted=!1,this.currentVoiceSource=null,this.currentVoiceElement=null}async init(){var i;if(!this.audioContext){const l=window.AudioContext||window.webkitAudioContext;this.audioContext=new l({sampleRate:ap})}((i=this.audioContext)==null?void 0:i.state)==="suspended"&&await this.audioContext.resume()}playBgm(i){if(this.currentMood===i)return;this.currentMood=i,this.bgmElement&&(this.bgmElement.pause(),this.bgmElement.currentTime=0);const l=b1[i];if(!l)return;this.bgmElement=new Audio(l),this.bgmElement.loop=!0,this.bgmElement.volume=this.isMuted?0:np;const r=this.bgmElement.play();r!==void 0&&r.catch(c=>{console.warn("BGM autoplay was prevented:",c)})}playSfx(i){if(!(this.isMuted||!this.audioContext))try{const l=this.audioContext.createOscillator(),r=this.audioContext.createGain();l.connect(r),r.connect(this.audioContext.destination);const c=this.audioContext.currentTime;i==="type"?(l.type="sine",l.frequency.setValueAtTime(600,c),r.gain.setValueAtTime(.015,c),r.gain.exponentialRampToValueAtTime(.001,c+.03),l.start(c),l.stop(c+.03)):i==="click"?(l.type="triangle",l.frequency.setValueAtTime(600,c),l.frequency.exponentialRampToValueAtTime(1200,c+.1),r.gain.setValueAtTime(.05,c),r.gain.exponentialRampToValueAtTime(.001,c+.1),l.start(c),l.stop(c+.1)):i==="hover"?(l.type="sine",l.frequency.setValueAtTime(300,c),r.gain.setValueAtTime(.01,c),r.gain.linearRampToValueAtTime(0,c+.05),l.start(c),l.stop(c+.05)):i==="start"?(l.type="sine",l.frequency.setValueAtTime(220,c),l.frequency.linearRampToValueAtTime(880,c+.8),r.gain.setValueAtTime(0,c),r.gain.linearRampToValueAtTime(.1,c+.1),r.gain.linearRampToValueAtTime(0,c+.8),l.start(c),l.stop(c+.8)):i==="next"&&(l.type="sine",l.frequency.setValueAtTime(400,c),r.gain.setValueAtTime(.03,c),r.gain.exponentialRampToValueAtTime(.001,c+.1),l.start(c),l.stop(c+.1))}catch(l){console.error("AudioContext error",l)}}async playVoice(i){if(!(this.isMuted||!i)){this.stopVoice();try{if(i.startsWith("http://")||i.startsWith("https://")||i.startsWith("blob:"))this.currentVoiceElement=new Audio(i),this.currentVoiceElement.volume=gc,await this.currentVoiceElement.play();else if(i.startsWith("data:"))this.currentVoiceElement=new Audio(i),this.currentVoiceElement.volume=gc,await this.currentVoiceElement.play();else{if(!this.audioContext)return;const l=S1(i),r=await T1(l,this.audioContext,ap),c=this.audioContext.createBufferSource();c.buffer=r;const d=this.audioContext.createGain();d.gain.value=gc,c.connect(d),d.connect(this.audioContext.destination),c.start(),this.currentVoiceSource=c}}catch(l){console.error("Failed to play voice:",l)}}}stopVoice(){if(this.currentVoiceSource){try{this.currentVoiceSource.stop()}catch{}this.currentVoiceSource=null}this.currentVoiceElement&&(this.currentVoiceElement.pause(),this.currentVoiceElement.currentTime=0,this.currentVoiceElement=null)}toggleMute(){return this.isMuted=!this.isMuted,this.bgmElement&&(this.bgmElement.volume=this.isMuted?0:np),this.isMuted&&this.stopVoice(),this.isMuted}}const ut=new A1,ki={glass:{name:"",dialogueBox:{background:"rgba(15, 23, 42, 0.85)",border:"1px solid rgba(100, 116, 139, 0.5)",textColor:"#f1f5f9",speakerBg:"rgba(30, 41, 59, 1)",speakerText:"#f9a8d4",backdropBlur:"blur(12px)"},choiceButton:{background:"rgba(30, 41, 59, 0.9)",hoverBackground:"rgba(51, 65, 85, 0.95)",border:"1px solid rgba(236, 72, 153, 0.3)",textColor:"#f1f5f9"}},retro:{name:"",dialogueBox:{background:"#1a1a2e",border:"4px solid #eee8d5",textColor:"#eee8d5",speakerBg:"#16213e",speakerText:"#ffd700",backdropBlur:"none"},choiceButton:{background:"#16213e",hoverBackground:"#0f3460",border:"3px solid #e94560",textColor:"#eee8d5"}},parchment:{name:"",dialogueBox:{background:"linear-gradient(135deg, #f5e6d3 0%, #e8d4b8 100%)",border:"3px solid #8b7355",textColor:"#3d2914",speakerBg:"#c9b896",speakerText:"#5c4033",backdropBlur:"none"},choiceButton:{background:"#e8d4b8",hoverBackground:"#d4c4a8",border:"2px solid #8b7355",textColor:"#3d2914"}},neon:{name:"",dialogueBox:{background:"rgba(10, 10, 30, 0.95)",border:"2px solid #00ffff",textColor:"#00ffff",speakerBg:"rgba(0, 255, 255, 0.1)",speakerText:"#ff00ff",backdropBlur:"blur(8px)"},choiceButton:{background:"rgba(10, 10, 30, 0.9)",hoverBackground:"rgba(0, 255, 255, 0.2)",border:"2px solid #ff00ff",textColor:"#00ffff"}}},jg=C.createContext(void 0),E1=({children:a})=>{const[i,l]=C.useState(()=>localStorage.getItem("ui-theme")||"glass"),r=C.useCallback(d=>{l(d),localStorage.setItem("ui-theme",d)},[]),c={theme:i,themeConfig:ki[i],setTheme:r,availableThemes:Object.keys(ki)};return y.jsx(jg.Provider,{value:c,children:a})},Kr=()=>{const a=C.useContext(jg);if(!a)throw new Error("useTheme must be used within a ThemeProvider");return a},C1=["","","","",".","!","?","","~","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],D1=[[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""]],N1=[[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[/(?!)/g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""],[//g,""]];function wr(a){if(!a)return"";let i=a;for(const[l,r]of D1)i=i.replace(l,r);i=i.replace(/(.)\1{1,}/g,(l,r)=>C1.includes(r)?l.length>3?r.repeat(3):l:r);for(const[l,r]of N1)i=i.replace(l,r);return i.includes("")&&!i.includes("")&&(i=""+i),i.trim()}const Og=C.memo(({speaker:a,text:i,onNext:l,isTyping:r,setIsTyping:c,isVoiceEnabled:d,toggleVoice:f,isVoiceLoading:m,isAutoPlay:g=!1,toggleAutoPlay:p,opacity:v=90})=>{const[b,S]=C.useState(""),{themeConfig:M}=Kr(),z=C.useMemo(()=>wr(i),[i]);C.useEffect(()=>{const B=z;if(!B||B.length===0){S(""),c(!1);return}S(""),c(!0);let H=0,Q="";if(Q=B.charAt(0),S(Q),ut.playSfx("type"),H=1,B.length===1){c(!1);return}const X=setInterval(()=>{H<B.length?(Q+=B.charAt(H),S(Q),H%g1===0&&ut.playSfx("type"),H++):(c(!1),clearInterval(X))},p1);return()=>clearInterval(X)},[z,c]),C.useEffect(()=>{const B=H=>{var Q,X;if(H.code==="Space"){if(H.preventDefault(),((Q=document.activeElement)==null?void 0:Q.tagName)==="INPUT"||((X=document.activeElement)==null?void 0:X.tagName)==="TEXTAREA")return;r?(S(z),c(!1),ut.playSfx("next")):(ut.playSfx("next"),l())}};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[r,z,c,l]);const Y=B=>{B.target.closest("button")||(r?(S(z),c(!1),ut.playSfx("next")):(ut.playSfx("next"),l()))};return y.jsx("div",{className:"absolute bottom-0 w-full p-4 md:p-8 z-20 flex justify-center cursor-pointer",onClick:Y,children:y.jsxs("div",{className:"w-full max-w-4xl relative group",children:[y.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-pink-600 via-purple-600 to-indigo-600 rounded-xl opacity-75 group-hover:opacity-100 blur transition duration-1000 group-hover:duration-200 animate-gradient-xy"}),y.jsxs("div",{className:"relative w-full rounded-xl shadow-2xl overflow-hidden min-h-[160px] flex flex-col p-6 md:p-8",style:{background:M.dialogueBox.background,border:M.dialogueBox.border,backdropFilter:M.dialogueBox.backdropBlur,opacity:v/100},children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a&&y.jsxs("div",{className:"relative inline-block group-speaker",children:[y.jsx("div",{className:"absolute inset-0 blur-md opacity-20 rounded-full",style:{background:M.dialogueBox.speakerText}}),y.jsxs("div",{className:"relative px-5 py-1.5 rounded-full font-bold tracking-wider text-sm shadow-sm flex items-center gap-2",style:{background:M.dialogueBox.speakerBg,color:M.dialogueBox.speakerText,border:`1px solid ${M.dialogueBox.speakerText}40`},children:[y.jsx("span",{className:"inline-block w-2 h-2 rounded-full animate-pulse",style:{background:M.dialogueBox.speakerText}}),a]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[p&&y.jsx("button",{onClick:B=>{B.stopPropagation(),p()},className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold transition-all border
                            ${g?"bg-cyan-600/20 text-cyan-300 border-cyan-500/50 shadow-[0_0_10px_rgba(6,182,212,0.3)]":"bg-slate-800 text-slate-500 border-slate-700 hover:text-slate-300"}
                        `,title:"/ ",children:y.jsx("span",{children:g?" ":" "})}),y.jsx("button",{onClick:B=>{B.stopPropagation(),f()},className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold transition-all border
                        ${d?"bg-pink-600/20 text-pink-300 border-pink-500/50 shadow-[0_0_10px_rgba(236,72,153,0.3)]":"bg-slate-800 text-slate-500 border-slate-700 hover:text-slate-300"}
                    `,title:"/ ",children:m?y.jsx("span",{className:"animate-spin h-3 w-3 border-2 border-current border-t-transparent rounded-full"}):y.jsx("span",{children:d?" ":" "})})]})]}),y.jsxs("p",{className:"text-lg md:text-xl leading-relaxed font-medium drop-shadow-md font-sans",style:{color:M.dialogueBox.textColor},children:[b,r&&y.jsx("span",{className:"animate-pulse ml-1 inline-block w-2 h-5 align-middle",style:{background:M.dialogueBox.speakerText,boxShadow:`0 0 10px ${M.dialogueBox.speakerText}`}})]}),!r&&y.jsx("div",{className:"absolute bottom-4 right-6 text-2xl animate-bounce-custom",style:{color:M.dialogueBox.speakerText},children:""})]})]})})});Og.displayName="DialogueBox";const Rg=C.memo(({choices:a,onChoose:i,visible:l})=>{const{themeConfig:r}=Kr();return l?y.jsxs("div",{className:"absolute inset-0 z-30 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center p-4 animate-fadeIn",children:[y.jsx("h3",{className:"text-white text-3xl mb-10 font-thin tracking-[0.3em] uppercase drop-shadow-[0_0_10px_rgba(255,255,255,0.5)] border-b border-white/20 pb-4 px-12",children:""}),y.jsx("div",{className:"flex flex-col gap-6 w-full max-w-xl",children:a.map(c=>y.jsxs("button",{onMouseEnter:()=>ut.playSfx("hover"),onClick:d=>{d.stopPropagation(),ut.playSfx("click"),i(c.text)},className:`group relative px-8 py-5 text-lg rounded-xl
                       overflow-hidden transition-all duration-300 ease-out 
                       hover:scale-105 animate-slideIn`,style:{background:r.choiceButton.background,border:r.choiceButton.border,color:r.choiceButton.textColor},children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-900/0 via-pink-900/40 to-purple-900/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[100%] ease-in-out",style:{transitionDuration:"1s"}}),y.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-pink-500 transform scale-y-0 group-hover:scale-y-100 transition-transform duration-300 origin-center"}),y.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",children:[y.jsx("span",{className:"font-medium tracking-wide group-hover:text-white transition-colors",children:c.text}),y.jsx("span",{className:"opacity-0 group-hover:opacity-100 transform translate-x-4 group-hover:translate-x-0 transition-all duration-300 text-pink-400",children:""})]})]},c.text))})]}):null});Rg.displayName="ChoiceMenu";const zg=C.memo(({triggerKey:a,type:i="fade"})=>{const[l,r]=C.useState(!1);return C.useEffect(()=>{r(!0);const d=setTimeout(()=>{r(!1)},y1);return()=>clearTimeout(d)},[a]),(()=>{switch(i){case"black":return y.jsx("div",{className:`absolute inset-0 z-20 bg-black pointer-events-none transition-opacity duration-700 ease-in-out ${l?"opacity-100":"opacity-0"}`});case"blur":return y.jsx("div",{className:`absolute inset-0 z-20 bg-white/30 backdrop-blur-sm pointer-events-none transition-all duration-700 ease-in-out ${l?"opacity-100":"opacity-0"}`});case"slide":return y.jsx("div",{className:`absolute inset-0 z-20 bg-gradient-to-r from-black via-black/50 to-transparent pointer-events-none transition-transform duration-700 ease-in-out ${l?"translate-x-0":"-translate-x-full"}`});case"fade":default:return y.jsx("div",{className:`absolute inset-0 z-20 bg-black/50 pointer-events-none transition-opacity duration-700 ease-in-out ${l?"opacity-100":"opacity-0"}`})}})()});zg.displayName="SceneTransition";const Bg=C.memo(({turn:a,affection:i,isMuted:l,onToggleMute:r,onPause:c,onOpenHistory:d})=>{const{themeConfig:f}=Kr(),m={background:f.dialogueBox.background,border:f.dialogueBox.border,color:f.dialogueBox.textColor,backdropFilter:f.dialogueBox.backdropBlur};return y.jsxs("div",{className:"absolute top-4 left-4 z-40 flex gap-4",children:[y.jsxs("div",{className:"rounded-lg px-4 py-2 text-sm font-mono shadow-lg flex items-center",style:m,children:[y.jsx("span",{className:"opacity-70 mr-2",children:""}),y.jsx("span",{className:"font-bold",children:a})]}),y.jsxs("div",{className:"rounded-lg px-4 py-2 text-sm font-mono shadow-lg flex items-center",style:m,children:[y.jsx("span",{className:"text-pink-400 mr-2",children:""}),y.jsx("div",{className:"w-24 h-2 bg-black/20 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-gradient-to-r from-pink-600 to-pink-400 transition-all duration-1000",style:{width:`${i}%`}})})]}),y.jsx("button",{onClick:r,className:"rounded-lg w-10 h-10 flex items-center justify-center transition-transform hover:scale-105 active:scale-95",style:m,children:l?"":""}),d&&y.jsx("button",{onClick:d,className:"rounded-lg w-10 h-10 flex items-center justify-center transition-transform hover:scale-105 active:scale-95",style:m,title:"",children:""}),c&&y.jsx("button",{onClick:c,className:"rounded-lg w-10 h-10 flex items-center justify-center transition-transform hover:scale-105 active:scale-95",style:m,children:""})]})});Bg.displayName="StatusPanel";const rf=C.memo(({isLoading:a})=>a?y.jsx("div",{className:"absolute inset-0 z-50 bg-black/40 backdrop-blur-[2px] flex items-center justify-center",children:y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-12 h-12 border-4 border-pink-500 border-t-transparent rounded-full animate-spin mb-4"}),y.jsx("span",{className:"text-white font-light tracking-widest animate-pulse",children:"..."})]})}):null);rf.displayName="LoadingOverlay";const of=C.memo(({error:a,onClose:i})=>a?y.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center p-8",children:y.jsxs("div",{className:"bg-slate-800 border border-red-500 p-6 rounded-lg max-w-md text-center",children:[y.jsx("h2",{className:"text-red-400 text-xl font-bold mb-2",children:""}),y.jsx("p",{className:"text-slate-300 mb-4",children:a}),y.jsx("button",{onClick:i,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded text-white transition-colors",children:""})]})}):null);of.displayName="ErrorOverlay";const Vg=C.createContext({});function _1(a){const i=C.useRef(null);return i.current===null&&(i.current=a()),i.current}const uf=typeof window<"u",M1=uf?C.useLayoutEffect:C.useEffect,cf=C.createContext(null);function ff(a,i){a.indexOf(i)===-1&&a.push(i)}function df(a,i){const l=a.indexOf(i);l>-1&&a.splice(l,1)}const Ln=(a,i,l)=>l>i?i:l<a?a:l;let hf=()=>{};const Un={},Lg=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function Ug(a){return typeof a=="object"&&a!==null}const Gg=a=>/^0[^.\s]+$/u.test(a);function mf(a){let i;return()=>(i===void 0&&(i=a()),i)}const sn=a=>a,w1=(a,i)=>l=>i(a(l)),ol=(...a)=>a.reduce(w1),nl=(a,i,l)=>{const r=i-a;return r===0?1:(l-a)/r};class pf{constructor(){this.subscriptions=[]}add(i){return ff(this.subscriptions,i),()=>df(this.subscriptions,i)}notify(i,l,r){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](i,l,r);else for(let d=0;d<c;d++){const f=this.subscriptions[d];f&&f(i,l,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gn=a=>a*1e3,an=a=>a/1e3;function Hg(a,i){return i?a*(1e3/i):0}const kg=(a,i,l)=>(((1-3*l+3*i)*a+(3*l-6*i))*a+3*i)*a,j1=1e-7,O1=12;function R1(a,i,l,r,c){let d,f,m=0;do f=i+(l-i)/2,d=kg(f,r,c)-a,d>0?l=f:i=f;while(Math.abs(d)>j1&&++m<O1);return f}function ul(a,i,l,r){if(a===i&&l===r)return sn;const c=d=>R1(d,0,1,a,l);return d=>d===0||d===1?d:kg(c(d),i,r)}const Yg=a=>i=>i<=.5?a(2*i)/2:(2-a(2*(1-i)))/2,qg=a=>i=>1-a(1-i),Xg=ul(.33,1.53,.69,.99),gf=qg(Xg),Kg=Yg(gf),Qg=a=>(a*=2)<1?.5*gf(a):.5*(2-Math.pow(2,-10*(a-1))),yf=a=>1-Math.sin(Math.acos(a)),Zg=qg(yf),Fg=Yg(yf),z1=ul(.42,0,1,1),B1=ul(0,0,.58,1),Jg=ul(.42,0,.58,1),V1=a=>Array.isArray(a)&&typeof a[0]!="number",$g=a=>Array.isArray(a)&&typeof a[0]=="number",L1={linear:sn,easeIn:z1,easeInOut:Jg,easeOut:B1,circIn:yf,circInOut:Fg,circOut:Zg,backIn:gf,backInOut:Kg,backOut:Xg,anticipate:Qg},U1=a=>typeof a=="string",ip=a=>{if($g(a)){hf(a.length===4);const[i,l,r,c]=a;return ul(i,l,r,c)}else if(U1(a))return L1[a];return a},Cr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function G1(a,i){let l=new Set,r=new Set,c=!1,d=!1;const f=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(v){f.has(v)&&(p.schedule(v),a()),v(m)}const p={schedule:(v,b=!1,S=!1)=>{const z=S&&c?l:r;return b&&f.add(v),z.has(v)||z.add(v),v},cancel:v=>{r.delete(v),f.delete(v)},process:v=>{if(m=v,c){d=!0;return}c=!0,[l,r]=[r,l],l.forEach(g),l.clear(),c=!1,d&&(d=!1,p.process(v))}};return p}const H1=40;function Pg(a,i){let l=!1,r=!0;const c={delta:0,timestamp:0,isProcessing:!1},d=()=>l=!0,f=Cr.reduce((X,k)=>(X[k]=G1(d),X),{}),{setup:m,read:g,resolveKeyframes:p,preUpdate:v,update:b,preRender:S,render:M,postRender:z}=f,Y=()=>{const X=Un.useManualTiming?c.timestamp:performance.now();l=!1,Un.useManualTiming||(c.delta=r?1e3/60:Math.max(Math.min(X-c.timestamp,H1),1)),c.timestamp=X,c.isProcessing=!0,m.process(c),g.process(c),p.process(c),v.process(c),b.process(c),S.process(c),M.process(c),z.process(c),c.isProcessing=!1,l&&i&&(r=!1,a(Y))},B=()=>{l=!0,r=!0,c.isProcessing||a(Y)};return{schedule:Cr.reduce((X,k)=>{const q=f[k];return X[k]=(ne,Z=!1,I=!1)=>(l||B(),q.schedule(ne,Z,I)),X},{}),cancel:X=>{for(let k=0;k<Cr.length;k++)f[Cr[k]].cancel(X)},state:c,steps:f}}const{schedule:Fe,cancel:Sa,state:St,steps:yc}=Pg(typeof requestAnimationFrame<"u"?requestAnimationFrame:sn,!0);let jr;function k1(){jr=void 0}const Bt={now:()=>(jr===void 0&&Bt.set(St.isProcessing||Un.useManualTiming?St.timestamp:performance.now()),jr),set:a=>{jr=a,queueMicrotask(k1)}},Ig=a=>i=>typeof i=="string"&&i.startsWith(a),vf=Ig("--"),Y1=Ig("var(--"),xf=a=>Y1(a)?q1.test(a.split("/*")[0].trim()):!1,q1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Pi={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},al={...Pi,transform:a=>Ln(0,1,a)},Dr={...Pi,default:1},Ps=a=>Math.round(a*1e5)/1e5,bf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function X1(a){return a==null}const K1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sf=(a,i)=>l=>!!(typeof l=="string"&&K1.test(l)&&l.startsWith(a)||i&&!X1(l)&&Object.prototype.hasOwnProperty.call(l,i)),Wg=(a,i,l)=>r=>{if(typeof r!="string")return r;const[c,d,f,m]=r.match(bf);return{[a]:parseFloat(c),[i]:parseFloat(d),[l]:parseFloat(f),alpha:m!==void 0?parseFloat(m):1}},Q1=a=>Ln(0,255,a),vc={...Pi,transform:a=>Math.round(Q1(a))},Za={test:Sf("rgb","red"),parse:Wg("red","green","blue"),transform:({red:a,green:i,blue:l,alpha:r=1})=>"rgba("+vc.transform(a)+", "+vc.transform(i)+", "+vc.transform(l)+", "+Ps(al.transform(r))+")"};function Z1(a){let i="",l="",r="",c="";return a.length>5?(i=a.substring(1,3),l=a.substring(3,5),r=a.substring(5,7),c=a.substring(7,9)):(i=a.substring(1,2),l=a.substring(2,3),r=a.substring(3,4),c=a.substring(4,5),i+=i,l+=l,r+=r,c+=c),{red:parseInt(i,16),green:parseInt(l,16),blue:parseInt(r,16),alpha:c?parseInt(c,16)/255:1}}const Lc={test:Sf("#"),parse:Z1,transform:Za.transform},cl=a=>({test:i=>typeof i=="string"&&i.endsWith(a)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${a}`}),ga=cl("deg"),yn=cl("%"),fe=cl("px"),F1=cl("vh"),J1=cl("vw"),sp={...yn,parse:a=>yn.parse(a)/100,transform:a=>yn.transform(a*100)},Yi={test:Sf("hsl","hue"),parse:Wg("hue","saturation","lightness"),transform:({hue:a,saturation:i,lightness:l,alpha:r=1})=>"hsla("+Math.round(a)+", "+yn.transform(Ps(i))+", "+yn.transform(Ps(l))+", "+Ps(al.transform(r))+")"},rt={test:a=>Za.test(a)||Lc.test(a)||Yi.test(a),parse:a=>Za.test(a)?Za.parse(a):Yi.test(a)?Yi.parse(a):Lc.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?Za.transform(a):Yi.transform(a),getAnimatableNone:a=>{const i=rt.parse(a);return i.alpha=0,rt.transform(i)}},$1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function P1(a){var i,l;return isNaN(a)&&typeof a=="string"&&(((i=a.match(bf))==null?void 0:i.length)||0)+(((l=a.match($1))==null?void 0:l.length)||0)>0}const ey="number",ty="color",I1="var",W1="var(",lp="${}",eS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function il(a){const i=a.toString(),l=[],r={color:[],number:[],var:[]},c=[];let d=0;const m=i.replace(eS,g=>(rt.test(g)?(r.color.push(d),c.push(ty),l.push(rt.parse(g))):g.startsWith(W1)?(r.var.push(d),c.push(I1),l.push(g)):(r.number.push(d),c.push(ey),l.push(parseFloat(g))),++d,lp)).split(lp);return{values:l,split:m,indexes:r,types:c}}function ny(a){return il(a).values}function ay(a){const{split:i,types:l}=il(a),r=i.length;return c=>{let d="";for(let f=0;f<r;f++)if(d+=i[f],c[f]!==void 0){const m=l[f];m===ey?d+=Ps(c[f]):m===ty?d+=rt.transform(c[f]):d+=c[f]}return d}}const tS=a=>typeof a=="number"?0:rt.test(a)?rt.getAnimatableNone(a):a;function nS(a){const i=ny(a);return ay(a)(i.map(tS))}const Ta={test:P1,parse:ny,createTransformer:ay,getAnimatableNone:nS};function xc(a,i,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?a+(i-a)*6*l:l<1/2?i:l<2/3?a+(i-a)*(2/3-l)*6:a}function aS({hue:a,saturation:i,lightness:l,alpha:r}){a/=360,i/=100,l/=100;let c=0,d=0,f=0;if(!i)c=d=f=l;else{const m=l<.5?l*(1+i):l+i-l*i,g=2*l-m;c=xc(g,m,a+1/3),d=xc(g,m,a),f=xc(g,m,a-1/3)}return{red:Math.round(c*255),green:Math.round(d*255),blue:Math.round(f*255),alpha:r}}function Vr(a,i){return l=>l>0?i:a}const Je=(a,i,l)=>a+(i-a)*l,bc=(a,i,l)=>{const r=a*a,c=l*(i*i-r)+r;return c<0?0:Math.sqrt(c)},iS=[Lc,Za,Yi],sS=a=>iS.find(i=>i.test(a));function rp(a){const i=sS(a);if(!i)return!1;let l=i.parse(a);return i===Yi&&(l=aS(l)),l}const op=(a,i)=>{const l=rp(a),r=rp(i);if(!l||!r)return Vr(a,i);const c={...l};return d=>(c.red=bc(l.red,r.red,d),c.green=bc(l.green,r.green,d),c.blue=bc(l.blue,r.blue,d),c.alpha=Je(l.alpha,r.alpha,d),Za.transform(c))},Uc=new Set(["none","hidden"]);function lS(a,i){return Uc.has(a)?l=>l<=0?a:i:l=>l>=1?i:a}function rS(a,i){return l=>Je(a,i,l)}function Tf(a){return typeof a=="number"?rS:typeof a=="string"?xf(a)?Vr:rt.test(a)?op:cS:Array.isArray(a)?iy:typeof a=="object"?rt.test(a)?op:oS:Vr}function iy(a,i){const l=[...a],r=l.length,c=a.map((d,f)=>Tf(d)(d,i[f]));return d=>{for(let f=0;f<r;f++)l[f]=c[f](d);return l}}function oS(a,i){const l={...a,...i},r={};for(const c in l)a[c]!==void 0&&i[c]!==void 0&&(r[c]=Tf(a[c])(a[c],i[c]));return c=>{for(const d in r)l[d]=r[d](c);return l}}function uS(a,i){const l=[],r={color:0,var:0,number:0};for(let c=0;c<i.values.length;c++){const d=i.types[c],f=a.indexes[d][r[d]],m=a.values[f]??0;l[c]=m,r[d]++}return l}const cS=(a,i)=>{const l=Ta.createTransformer(i),r=il(a),c=il(i);return r.indexes.var.length===c.indexes.var.length&&r.indexes.color.length===c.indexes.color.length&&r.indexes.number.length>=c.indexes.number.length?Uc.has(a)&&!c.values.length||Uc.has(i)&&!r.values.length?lS(a,i):ol(iy(uS(r,c),c.values),l):Vr(a,i)};function sy(a,i,l){return typeof a=="number"&&typeof i=="number"&&typeof l=="number"?Je(a,i,l):Tf(a)(a,i)}const fS=a=>{const i=({timestamp:l})=>a(l);return{start:(l=!0)=>Fe.update(i,l),stop:()=>Sa(i),now:()=>St.isProcessing?St.timestamp:Bt.now()}},ly=(a,i,l=10)=>{let r="";const c=Math.max(Math.round(i/l),2);for(let d=0;d<c;d++)r+=Math.round(a(d/(c-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Lr=2e4;function Af(a){let i=0;const l=50;let r=a.next(i);for(;!r.done&&i<Lr;)i+=l,r=a.next(i);return i>=Lr?1/0:i}function dS(a,i=100,l){const r=l({...a,keyframes:[0,i]}),c=Math.min(Af(r),Lr);return{type:"keyframes",ease:d=>r.next(c*d).value/i,duration:an(c)}}const hS=5;function ry(a,i,l){const r=Math.max(i-hS,0);return Hg(l-a(r),i-r)}const Ie={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sc=.001;function mS({duration:a=Ie.duration,bounce:i=Ie.bounce,velocity:l=Ie.velocity,mass:r=Ie.mass}){let c,d,f=1-i;f=Ln(Ie.minDamping,Ie.maxDamping,f),a=Ln(Ie.minDuration,Ie.maxDuration,an(a)),f<1?(c=p=>{const v=p*f,b=v*a,S=v-l,M=Gc(p,f),z=Math.exp(-b);return Sc-S/M*z},d=p=>{const b=p*f*a,S=b*l+l,M=Math.pow(f,2)*Math.pow(p,2)*a,z=Math.exp(-b),Y=Gc(Math.pow(p,2),f);return(-c(p)+Sc>0?-1:1)*((S-M)*z)/Y}):(c=p=>{const v=Math.exp(-p*a),b=(p-l)*a+1;return-Sc+v*b},d=p=>{const v=Math.exp(-p*a),b=(l-p)*(a*a);return v*b});const m=5/a,g=gS(c,d,m);if(a=gn(a),isNaN(g))return{stiffness:Ie.stiffness,damping:Ie.damping,duration:a};{const p=Math.pow(g,2)*r;return{stiffness:p,damping:f*2*Math.sqrt(r*p),duration:a}}}const pS=12;function gS(a,i,l){let r=l;for(let c=1;c<pS;c++)r=r-a(r)/i(r);return r}function Gc(a,i){return a*Math.sqrt(1-i*i)}const yS=["duration","bounce"],vS=["stiffness","damping","mass"];function up(a,i){return i.some(l=>a[l]!==void 0)}function xS(a){let i={velocity:Ie.velocity,stiffness:Ie.stiffness,damping:Ie.damping,mass:Ie.mass,isResolvedFromDuration:!1,...a};if(!up(a,vS)&&up(a,yS))if(a.visualDuration){const l=a.visualDuration,r=2*Math.PI/(l*1.2),c=r*r,d=2*Ln(.05,1,1-(a.bounce||0))*Math.sqrt(c);i={...i,mass:Ie.mass,stiffness:c,damping:d}}else{const l=mS(a);i={...i,...l,mass:Ie.mass},i.isResolvedFromDuration=!0}return i}function Ur(a=Ie.visualDuration,i=Ie.bounce){const l=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:i}:a;let{restSpeed:r,restDelta:c}=l;const d=l.keyframes[0],f=l.keyframes[l.keyframes.length-1],m={done:!1,value:d},{stiffness:g,damping:p,mass:v,duration:b,velocity:S,isResolvedFromDuration:M}=xS({...l,velocity:-an(l.velocity||0)}),z=S||0,Y=p/(2*Math.sqrt(g*v)),B=f-d,H=an(Math.sqrt(g/v)),Q=Math.abs(B)<5;r||(r=Q?Ie.restSpeed.granular:Ie.restSpeed.default),c||(c=Q?Ie.restDelta.granular:Ie.restDelta.default);let X;if(Y<1){const q=Gc(H,Y);X=ne=>{const Z=Math.exp(-Y*H*ne);return f-Z*((z+Y*H*B)/q*Math.sin(q*ne)+B*Math.cos(q*ne))}}else if(Y===1)X=q=>f-Math.exp(-H*q)*(B+(z+H*B)*q);else{const q=H*Math.sqrt(Y*Y-1);X=ne=>{const Z=Math.exp(-Y*H*ne),I=Math.min(q*ne,300);return f-Z*((z+Y*H*B)*Math.sinh(I)+q*B*Math.cosh(I))/q}}const k={calculatedDuration:M&&b||null,next:q=>{const ne=X(q);if(M)m.done=q>=b;else{let Z=q===0?z:0;Y<1&&(Z=q===0?gn(z):ry(X,q,ne));const I=Math.abs(Z)<=r,oe=Math.abs(f-ne)<=c;m.done=I&&oe}return m.value=m.done?f:ne,m},toString:()=>{const q=Math.min(Af(k),Lr),ne=ly(Z=>k.next(q*Z).value,q,30);return q+"ms "+ne},toTransition:()=>{}};return k}Ur.applyToOptions=a=>{const i=dS(a,100,Ur);return a.ease=i.ease,a.duration=gn(i.duration),a.type="keyframes",a};function Hc({keyframes:a,velocity:i=0,power:l=.8,timeConstant:r=325,bounceDamping:c=10,bounceStiffness:d=500,modifyTarget:f,min:m,max:g,restDelta:p=.5,restSpeed:v}){const b=a[0],S={done:!1,value:b},M=I=>m!==void 0&&I<m||g!==void 0&&I>g,z=I=>m===void 0?g:g===void 0||Math.abs(m-I)<Math.abs(g-I)?m:g;let Y=l*i;const B=b+Y,H=f===void 0?B:f(B);H!==B&&(Y=H-b);const Q=I=>-Y*Math.exp(-I/r),X=I=>H+Q(I),k=I=>{const oe=Q(I),ie=X(I);S.done=Math.abs(oe)<=p,S.value=S.done?H:ie};let q,ne;const Z=I=>{M(S.value)&&(q=I,ne=Ur({keyframes:[S.value,z(S.value)],velocity:ry(X,I,S.value),damping:c,stiffness:d,restDelta:p,restSpeed:v}))};return Z(0),{calculatedDuration:null,next:I=>{let oe=!1;return!ne&&q===void 0&&(oe=!0,k(I),Z(I)),q!==void 0&&I>=q?ne.next(I-q):(!oe&&k(I),S)}}}function bS(a,i,l){const r=[],c=l||Un.mix||sy,d=a.length-1;for(let f=0;f<d;f++){let m=c(a[f],a[f+1]);if(i){const g=Array.isArray(i)?i[f]||sn:i;m=ol(g,m)}r.push(m)}return r}function SS(a,i,{clamp:l=!0,ease:r,mixer:c}={}){const d=a.length;if(hf(d===i.length),d===1)return()=>i[0];if(d===2&&i[0]===i[1])return()=>i[1];const f=a[0]===a[1];a[0]>a[d-1]&&(a=[...a].reverse(),i=[...i].reverse());const m=bS(i,r,c),g=m.length,p=v=>{if(f&&v<a[0])return i[0];let b=0;if(g>1)for(;b<a.length-2&&!(v<a[b+1]);b++);const S=nl(a[b],a[b+1],v);return m[b](S)};return l?v=>p(Ln(a[0],a[d-1],v)):p}function TS(a,i){const l=a[a.length-1];for(let r=1;r<=i;r++){const c=nl(0,i,r);a.push(Je(l,1,c))}}function AS(a){const i=[0];return TS(i,a.length-1),i}function ES(a,i){return a.map(l=>l*i)}function CS(a,i){return a.map(()=>i||Jg).splice(0,a.length-1)}function Is({duration:a=300,keyframes:i,times:l,ease:r="easeInOut"}){const c=V1(r)?r.map(ip):ip(r),d={done:!1,value:i[0]},f=ES(l&&l.length===i.length?l:AS(i),a),m=SS(f,i,{ease:Array.isArray(c)?c:CS(i,c)});return{calculatedDuration:a,next:g=>(d.value=m(g),d.done=g>=a,d)}}const DS=a=>a!==null;function Ef(a,{repeat:i,repeatType:l="loop"},r,c=1){const d=a.filter(DS),m=c<0||i&&l!=="loop"&&i%2===1?0:d.length-1;return!m||r===void 0?d[m]:r}const NS={decay:Hc,inertia:Hc,tween:Is,keyframes:Is,spring:Ur};function oy(a){typeof a.type=="string"&&(a.type=NS[a.type])}class Cf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(i=>{this.resolve=i})}notifyFinished(){this.resolve()}then(i,l){return this.finished.then(i,l)}}const _S=a=>a/100;class Df extends Cf{constructor(i){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,c;const{motionValue:l}=this.options;l&&l.updatedAt!==Bt.now()&&this.tick(Bt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(c=(r=this.options).onStop)==null||c.call(r))},this.options=i,this.initAnimation(),this.play(),i.autoplay===!1&&this.pause()}initAnimation(){const{options:i}=this;oy(i);const{type:l=Is,repeat:r=0,repeatDelay:c=0,repeatType:d,velocity:f=0}=i;let{keyframes:m}=i;const g=l||Is;g!==Is&&typeof m[0]!="number"&&(this.mixKeyframes=ol(_S,sy(m[0],m[1])),m=[0,100]);const p=g({...i,keyframes:m});d==="mirror"&&(this.mirroredGenerator=g({...i,keyframes:[...m].reverse(),velocity:-f})),p.calculatedDuration===null&&(p.calculatedDuration=Af(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+c,this.totalDuration=this.resolvedDuration*(r+1)-c,this.generator=p}updateTime(i){const l=Math.round(i-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=l}tick(i,l=!1){const{generator:r,totalDuration:c,mixKeyframes:d,mirroredGenerator:f,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:S,repeatDelay:M,type:z,onUpdate:Y,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-c/this.speed,this.startTime)),l?this.currentTime=i:this.updateTime(i);const H=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?H<0:H>c;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let X=this.currentTime,k=r;if(b){const I=Math.min(this.currentTime,c)/m;let oe=Math.floor(I),ie=I%1;!ie&&I>=1&&(ie=1),ie===1&&oe--,oe=Math.min(oe,b+1),!!(oe%2)&&(S==="reverse"?(ie=1-ie,M&&(ie-=M/m)):S==="mirror"&&(k=f)),X=Ln(0,1,ie)*m}const q=Q?{done:!1,value:v[0]}:k.next(X);d&&(q.value=d(q.value));let{done:ne}=q;!Q&&g!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return Z&&z!==Hc&&(q.value=Ef(v,this.options,B,this.speed)),Y&&Y(q.value),Z&&this.finish(),q}then(i,l){return this.finished.then(i,l)}get duration(){return an(this.calculatedDuration)}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+an(i)}get time(){return an(this.currentTime)}set time(i){var l;i=gn(i),this.currentTime=i,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.playbackSpeed),(l=this.driver)==null||l.start(!1)}get speed(){return this.playbackSpeed}set speed(i){this.updateTime(Bt.now());const l=this.playbackSpeed!==i;this.playbackSpeed=i,l&&(this.time=an(this.currentTime))}play(){var c,d;if(this.isStopped)return;const{driver:i=fS,startTime:l}=this.options;this.driver||(this.driver=i(f=>this.tick(f))),(d=(c=this.options).onPlay)==null||d.call(c);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=l??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var i,l;this.notifyFinished(),this.teardown(),this.state="finished",(l=(i=this.options).onComplete)==null||l.call(i)}cancel(){var i,l;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(l=(i=this.options).onCancel)==null||l.call(i)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}attachTimeline(i){var l;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(l=this.driver)==null||l.stop(),i.observe(this)}}function MS(a){for(let i=1;i<a.length;i++)a[i]??(a[i]=a[i-1])}const Fa=a=>a*180/Math.PI,kc=a=>{const i=Fa(Math.atan2(a[1],a[0]));return Yc(i)},wS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:kc,rotateZ:kc,skewX:a=>Fa(Math.atan(a[1])),skewY:a=>Fa(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},Yc=a=>(a=a%360,a<0&&(a+=360),a),cp=kc,fp=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),dp=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),jS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fp,scaleY:dp,scale:a=>(fp(a)+dp(a))/2,rotateX:a=>Yc(Fa(Math.atan2(a[6],a[5]))),rotateY:a=>Yc(Fa(Math.atan2(-a[2],a[0]))),rotateZ:cp,rotate:cp,skewX:a=>Fa(Math.atan(a[4])),skewY:a=>Fa(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function qc(a){return a.includes("scale")?1:0}function Xc(a,i){if(!a||a==="none")return qc(i);const l=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,c;if(l)r=jS,c=l;else{const m=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=wS,c=m}if(!c)return qc(i);const d=r[i],f=c[1].split(",").map(RS);return typeof d=="function"?d(f):f[d]}const OS=(a,i)=>{const{transform:l="none"}=getComputedStyle(a);return Xc(l,i)};function RS(a){return parseFloat(a.trim())}const Ii=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wi=new Set(Ii),hp=a=>a===Pi||a===fe,zS=new Set(["x","y","z"]),BS=Ii.filter(a=>!zS.has(a));function VS(a){const i=[];return BS.forEach(l=>{const r=a.getValue(l);r!==void 0&&(i.push([l,r.get()]),r.set(l.startsWith("scale")?1:0))}),i}const Ja={width:({x:a},{paddingLeft:i="0",paddingRight:l="0"})=>a.max-a.min-parseFloat(i)-parseFloat(l),height:({y:a},{paddingTop:i="0",paddingBottom:l="0"})=>a.max-a.min-parseFloat(i)-parseFloat(l),top:(a,{top:i})=>parseFloat(i),left:(a,{left:i})=>parseFloat(i),bottom:({y:a},{top:i})=>parseFloat(i)+(a.max-a.min),right:({x:a},{left:i})=>parseFloat(i)+(a.max-a.min),x:(a,{transform:i})=>Xc(i,"x"),y:(a,{transform:i})=>Xc(i,"y")};Ja.translateX=Ja.x;Ja.translateY=Ja.y;const $a=new Set;let Kc=!1,Qc=!1,Zc=!1;function uy(){if(Qc){const a=Array.from($a).filter(r=>r.needsMeasurement),i=new Set(a.map(r=>r.element)),l=new Map;i.forEach(r=>{const c=VS(r);c.length&&(l.set(r,c),r.render())}),a.forEach(r=>r.measureInitialState()),i.forEach(r=>{r.render();const c=l.get(r);c&&c.forEach(([d,f])=>{var m;(m=r.getValue(d))==null||m.set(f)})}),a.forEach(r=>r.measureEndState()),a.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qc=!1,Kc=!1,$a.forEach(a=>a.complete(Zc)),$a.clear()}function cy(){$a.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Qc=!0)})}function LS(){Zc=!0,cy(),uy(),Zc=!1}class Nf{constructor(i,l,r,c,d,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...i],this.onComplete=l,this.name=r,this.motionValue=c,this.element=d,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?($a.add(this),Kc||(Kc=!0,Fe.read(cy),Fe.resolveKeyframes(uy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:l,element:r,motionValue:c}=this;if(i[0]===null){const d=c==null?void 0:c.get(),f=i[i.length-1];if(d!==void 0)i[0]=d;else if(r&&l){const m=r.readValue(l,f);m!=null&&(i[0]=m)}i[0]===void 0&&(i[0]=f),c&&d===void 0&&c.set(i[0])}MS(i)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(i=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,i),$a.delete(this)}cancel(){this.state==="scheduled"&&($a.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const US=a=>a.startsWith("--");function GS(a,i,l){US(i)?a.style.setProperty(i,l):a.style[i]=l}const HS=mf(()=>window.ScrollTimeline!==void 0),kS={};function YS(a,i){const l=mf(a);return()=>kS[i]??l()}const fy=YS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$s=([a,i,l,r])=>`cubic-bezier(${a}, ${i}, ${l}, ${r})`,mp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$s([0,.65,.55,1]),circOut:$s([.55,0,1,.45]),backIn:$s([.31,.01,.66,-.59]),backOut:$s([.33,1.53,.69,.99])};function dy(a,i){if(a)return typeof a=="function"?fy()?ly(a,i):"ease-out":$g(a)?$s(a):Array.isArray(a)?a.map(l=>dy(l,i)||mp.easeOut):mp[a]}function qS(a,i,l,{delay:r=0,duration:c=300,repeat:d=0,repeatType:f="loop",ease:m="easeOut",times:g}={},p=void 0){const v={[i]:l};g&&(v.offset=g);const b=dy(m,c);Array.isArray(b)&&(v.easing=b);const S={delay:r,duration:c,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:d+1,direction:f==="reverse"?"alternate":"normal"};return p&&(S.pseudoElement=p),a.animate(v,S)}function hy(a){return typeof a=="function"&&"applyToOptions"in a}function XS({type:a,...i}){return hy(a)&&fy()?a.applyToOptions(i):(i.duration??(i.duration=300),i.ease??(i.ease="easeOut"),i)}class KS extends Cf{constructor(i){if(super(),this.finishedTime=null,this.isStopped=!1,!i)return;const{element:l,name:r,keyframes:c,pseudoElement:d,allowFlatten:f=!1,finalKeyframe:m,onComplete:g}=i;this.isPseudoElement=!!d,this.allowFlatten=f,this.options=i,hf(typeof i.type!="string");const p=XS(i);this.animation=qS(l,r,c,p,d),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!d){const v=Ef(c,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):GS(l,r,v),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var i,l;(l=(i=this.animation).finish)==null||l.call(i)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:i}=this;i==="idle"||i==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var i,l;this.isPseudoElement||(l=(i=this.animation).commitStyles)==null||l.call(i)}get duration(){var l,r;const i=((r=(l=this.animation.effect)==null?void 0:l.getComputedTiming)==null?void 0:r.call(l).duration)||0;return an(Number(i))}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+an(i)}get time(){return an(Number(this.animation.currentTime)||0)}set time(i){this.finishedTime=null,this.animation.currentTime=gn(i)}get speed(){return this.animation.playbackRate}set speed(i){i<0&&(this.finishedTime=null),this.animation.playbackRate=i}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(i){this.animation.startTime=i}attachTimeline({timeline:i,observe:l}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,i&&HS()?(this.animation.timeline=i,sn):l(this)}}const my={anticipate:Qg,backInOut:Kg,circInOut:Fg};function QS(a){return a in my}function ZS(a){typeof a.ease=="string"&&QS(a.ease)&&(a.ease=my[a.ease])}const pp=10;class FS extends KS{constructor(i){ZS(i),oy(i),super(i),i.startTime&&(this.startTime=i.startTime),this.options=i}updateMotionValue(i){const{motionValue:l,onUpdate:r,onComplete:c,element:d,...f}=this.options;if(!l)return;if(i!==void 0){l.set(i);return}const m=new Df({...f,autoplay:!1}),g=gn(this.finishedTime??this.time);l.setWithVelocity(m.sample(g-pp).value,m.sample(g).value,pp),m.stop()}}const gp=(a,i)=>i==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(Ta.test(a)||a==="0")&&!a.startsWith("url("));function JS(a){const i=a[0];if(a.length===1)return!0;for(let l=0;l<a.length;l++)if(a[l]!==i)return!0}function $S(a,i,l,r){const c=a[0];if(c===null)return!1;if(i==="display"||i==="visibility")return!0;const d=a[a.length-1],f=gp(c,i),m=gp(d,i);return!f||!m?!1:JS(a)||(l==="spring"||hy(l))&&r}function Fc(a){a.duration=0,a.type="keyframes"}const PS=new Set(["opacity","clipPath","filter","transform"]),IS=mf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function WS(a){var v;const{motionValue:i,name:l,repeatDelay:r,repeatType:c,damping:d,type:f}=a;if(!(((v=i==null?void 0:i.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=i.owner.getProps();return IS()&&l&&PS.has(l)&&(l!=="transform"||!p)&&!g&&!r&&c!=="mirror"&&d!==0&&f!=="inertia"}const e2=40;class t2 extends Cf{constructor({autoplay:i=!0,delay:l=0,type:r="keyframes",repeat:c=0,repeatDelay:d=0,repeatType:f="loop",keyframes:m,name:g,motionValue:p,element:v,...b}){var z;super(),this.stop=()=>{var Y,B;this._animation&&(this._animation.stop(),(Y=this.stopTimeline)==null||Y.call(this)),(B=this.keyframeResolver)==null||B.cancel()},this.createdAt=Bt.now();const S={autoplay:i,delay:l,type:r,repeat:c,repeatDelay:d,repeatType:f,name:g,motionValue:p,element:v,...b},M=(v==null?void 0:v.KeyframeResolver)||Nf;this.keyframeResolver=new M(m,(Y,B,H)=>this.onKeyframesResolved(Y,B,S,!H),g,p,v),(z=this.keyframeResolver)==null||z.scheduleResolve()}onKeyframesResolved(i,l,r,c){this.keyframeResolver=void 0;const{name:d,type:f,velocity:m,delay:g,isHandoff:p,onUpdate:v}=r;this.resolvedAt=Bt.now(),$S(i,d,f,m)||((Un.instantAnimations||!g)&&(v==null||v(Ef(i,r,l))),i[0]=i[i.length-1],Fc(r),r.repeat=0);const S={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>e2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:l,...r,keyframes:i},M=!p&&WS(S)?new FS({...S,element:S.motionValue.owner.current}):new Df(S);M.finished.then(()=>this.notifyFinished()).catch(sn),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(i,l){return this.finished.finally(i).then(()=>{})}get animation(){var i;return this._animation||((i=this.keyframeResolver)==null||i.resume(),LS()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(i){this.animation.time=i}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(i){this.animation.speed=i}get startTime(){return this.animation.startTime}attachTimeline(i){return this._animation?this.stopTimeline=this.animation.attachTimeline(i):this.pendingTimeline=i,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var i;this._animation&&this.animation.cancel(),(i=this.keyframeResolver)==null||i.cancel()}}const n2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a2(a){const i=n2.exec(a);if(!i)return[,];const[,l,r,c]=i;return[`--${l??r}`,c]}function py(a,i,l=1){const[r,c]=a2(a);if(!r)return;const d=window.getComputedStyle(i).getPropertyValue(r);if(d){const f=d.trim();return Lg(f)?parseFloat(f):f}return xf(c)?py(c,i,l+1):c}function _f(a,i){return(a==null?void 0:a[i])??(a==null?void 0:a.default)??a}const gy=new Set(["width","height","top","left","right","bottom",...Ii]),i2={test:a=>a==="auto",parse:a=>a},yy=a=>i=>i.test(a),vy=[Pi,fe,yn,ga,J1,F1,i2],yp=a=>vy.find(yy(a));function s2(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||Gg(a):!0}const l2=new Set(["brightness","contrast","saturate","opacity"]);function r2(a){const[i,l]=a.slice(0,-1).split("(");if(i==="drop-shadow")return a;const[r]=l.match(bf)||[];if(!r)return a;const c=l.replace(r,"");let d=l2.has(i)?1:0;return r!==l&&(d*=100),i+"("+d+c+")"}const o2=/\b([a-z-]*)\(.*?\)/gu,Jc={...Ta,getAnimatableNone:a=>{const i=a.match(o2);return i?i.map(r2).join(" "):a}},vp={...Pi,transform:Math.round},u2={rotate:ga,rotateX:ga,rotateY:ga,rotateZ:ga,scale:Dr,scaleX:Dr,scaleY:Dr,scaleZ:Dr,skew:ga,skewX:ga,skewY:ga,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:al,originX:sp,originY:sp,originZ:fe},Mf={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,backgroundPositionX:fe,backgroundPositionY:fe,...u2,zIndex:vp,fillOpacity:al,strokeOpacity:al,numOctaves:vp},c2={...Mf,color:rt,backgroundColor:rt,outlineColor:rt,fill:rt,stroke:rt,borderColor:rt,borderTopColor:rt,borderRightColor:rt,borderBottomColor:rt,borderLeftColor:rt,filter:Jc,WebkitFilter:Jc},xy=a=>c2[a];function by(a,i){let l=xy(a);return l!==Jc&&(l=Ta),l.getAnimatableNone?l.getAnimatableNone(i):void 0}const f2=new Set(["auto","none","0"]);function d2(a,i,l){let r=0,c;for(;r<a.length&&!c;){const d=a[r];typeof d=="string"&&!f2.has(d)&&il(d).values.length&&(c=a[r]),r++}if(c&&l)for(const d of i)a[d]=by(l,c)}class h2 extends Nf{constructor(i,l,r,c,d){super(i,l,r,c,d,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:l,name:r}=this;if(!l||!l.current)return;super.readKeyframes();for(let g=0;g<i.length;g++){let p=i[g];if(typeof p=="string"&&(p=p.trim(),xf(p))){const v=py(p,l.current);v!==void 0&&(i[g]=v),g===i.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!gy.has(r)||i.length!==2)return;const[c,d]=i,f=yp(c),m=yp(d);if(f!==m)if(hp(f)&&hp(m))for(let g=0;g<i.length;g++){const p=i[g];typeof p=="string"&&(i[g]=parseFloat(p))}else Ja[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:l}=this,r=[];for(let c=0;c<i.length;c++)(i[c]===null||s2(i[c]))&&r.push(c);r.length&&d2(i,r,l)}measureInitialState(){const{element:i,unresolvedKeyframes:l,name:r}=this;if(!i||!i.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ja[r](i.measureViewportBox(),window.getComputedStyle(i.current)),l[0]=this.measuredOrigin;const c=l[l.length-1];c!==void 0&&i.getValue(r,c).jump(c,!1)}measureEndState(){var m;const{element:i,name:l,unresolvedKeyframes:r}=this;if(!i||!i.current)return;const c=i.getValue(l);c&&c.jump(this.measuredOrigin,!1);const d=r.length-1,f=r[d];r[d]=Ja[l](i.measureViewportBox(),window.getComputedStyle(i.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([g,p])=>{i.getValue(g).set(p)}),this.resolveNoneKeyframes()}}function m2(a,i,l){if(a instanceof EventTarget)return[a];if(typeof a=="string"){let r=document;const c=(l==null?void 0:l[a])??r.querySelectorAll(a);return c?Array.from(c):[]}return Array.from(a)}const Sy=(a,i)=>i&&typeof a=="number"?i.transform(a):a;function p2(a){return Ug(a)&&"offsetHeight"in a}const xp=30,g2=a=>!isNaN(parseFloat(a));class y2{constructor(i,l={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var d;const c=Bt.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((d=this.events.change)==null||d.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty()},this.hasAnimated=!1,this.setCurrent(i),this.owner=l.owner}setCurrent(i){this.current=i,this.updatedAt=Bt.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=g2(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,l){this.events[i]||(this.events[i]=new pf);const r=this.events[i].add(l);return i==="change"?()=>{r(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,l){this.passiveEffect=i,this.stopPassiveEffect=l}set(i){this.passiveEffect?this.passiveEffect(i,this.updateAndNotify):this.updateAndNotify(i)}setWithVelocity(i,l,r){this.set(l),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-r}jump(i,l=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,l&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var i;(i=this.events.change)==null||i.notify(this.current)}addDependent(i){this.dependents||(this.dependents=new Set),this.dependents.add(i)}removeDependent(i){this.dependents&&this.dependents.delete(i)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=Bt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>xp)return 0;const l=Math.min(this.updatedAt-this.prevUpdatedAt,xp);return Hg(parseFloat(this.current)-parseFloat(this.prevFrameValue),l)}start(i){return this.stop(),new Promise(l=>{this.hasAnimated=!0,this.animation=i(l),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var i,l;(i=this.dependents)==null||i.clear(),(l=this.events.destroy)==null||l.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ji(a,i){return new y2(a,i)}const{schedule:wf}=Pg(queueMicrotask,!1),cn={x:!1,y:!1};function Ty(){return cn.x||cn.y}function v2(a){return a==="x"||a==="y"?cn[a]?null:(cn[a]=!0,()=>{cn[a]=!1}):cn.x||cn.y?null:(cn.x=cn.y=!0,()=>{cn.x=cn.y=!1})}function Ay(a,i){const l=m2(a),r=new AbortController,c={passive:!0,...i,signal:r.signal};return[l,c,()=>r.abort()]}function bp(a){return!(a.pointerType==="touch"||Ty())}function x2(a,i,l={}){const[r,c,d]=Ay(a,l),f=m=>{if(!bp(m))return;const{target:g}=m,p=i(g,m);if(typeof p!="function"||!g)return;const v=b=>{bp(b)&&(p(b),g.removeEventListener("pointerleave",v))};g.addEventListener("pointerleave",v,c)};return r.forEach(m=>{m.addEventListener("pointerenter",f,c)}),d}const Ey=(a,i)=>i?a===i?!0:Ey(a,i.parentElement):!1,jf=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,b2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function S2(a){return b2.has(a.tagName)||a.tabIndex!==-1}const Or=new WeakSet;function Sp(a){return i=>{i.key==="Enter"&&a(i)}}function Tc(a,i){a.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const T2=(a,i)=>{const l=a.currentTarget;if(!l)return;const r=Sp(()=>{if(Or.has(l))return;Tc(l,"down");const c=Sp(()=>{Tc(l,"up")}),d=()=>Tc(l,"cancel");l.addEventListener("keyup",c,i),l.addEventListener("blur",d,i)});l.addEventListener("keydown",r,i),l.addEventListener("blur",()=>l.removeEventListener("keydown",r),i)};function Tp(a){return jf(a)&&!Ty()}function A2(a,i,l={}){const[r,c,d]=Ay(a,l),f=m=>{const g=m.currentTarget;if(!Tp(m))return;Or.add(g);const p=i(g,m),v=(M,z)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",S),Or.has(g)&&Or.delete(g),Tp(M)&&typeof p=="function"&&p(M,{success:z})},b=M=>{v(M,g===window||g===document||l.useGlobalTarget||Ey(g,M.target))},S=M=>{v(M,!1)};window.addEventListener("pointerup",b,c),window.addEventListener("pointercancel",S,c)};return r.forEach(m=>{(l.useGlobalTarget?window:m).addEventListener("pointerdown",f,c),p2(m)&&(m.addEventListener("focus",p=>T2(p,c)),!S2(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),d}function Cy(a){return Ug(a)&&"ownerSVGElement"in a}function E2(a){return Cy(a)&&a.tagName==="svg"}const At=a=>!!(a&&a.getVelocity),C2=[...vy,rt,Ta],D2=a=>C2.find(yy(a)),Dy=C.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function N2(a=!0){const i=C.useContext(cf);if(i===null)return[!0,null];const{isPresent:l,onExitComplete:r,register:c}=i,d=C.useId();C.useEffect(()=>{if(a)return c(d)},[a]);const f=C.useCallback(()=>a&&r&&r(d),[d,r,a]);return!l&&r?[!1,f]:[!0]}const Ny=C.createContext({strict:!1}),Ap={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$i={};for(const a in Ap)$i[a]={isEnabled:i=>Ap[a].some(l=>!!i[l])};function _2(a){for(const i in a)$i[i]={...$i[i],...a[i]}}const M2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gr(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||M2.has(a)}let _y=a=>!Gr(a);function w2(a){typeof a=="function"&&(_y=i=>i.startsWith("on")?!Gr(i):a(i))}try{w2(require("@emotion/is-prop-valid").default)}catch{}function j2(a,i,l){const r={};for(const c in a)c==="values"&&typeof a.values=="object"||(_y(c)||l===!0&&Gr(c)||!i&&!Gr(c)||a.draggable&&c.startsWith("onDrag"))&&(r[c]=a[c]);return r}const Qr=C.createContext({});function Zr(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function sl(a){return typeof a=="string"||Array.isArray(a)}const Of=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rf=["initial",...Of];function Fr(a){return Zr(a.animate)||Rf.some(i=>sl(a[i]))}function My(a){return!!(Fr(a)||a.variants)}function O2(a,i){if(Fr(a)){const{initial:l,animate:r}=a;return{initial:l===!1||sl(l)?l:void 0,animate:sl(r)?r:void 0}}return a.inherit!==!1?i:{}}function R2(a){const{initial:i,animate:l}=O2(a,C.useContext(Qr));return C.useMemo(()=>({initial:i,animate:l}),[Ep(i),Ep(l)])}function Ep(a){return Array.isArray(a)?a.join(" "):a}const ll={};function z2(a){for(const i in a)ll[i]=a[i],vf(i)&&(ll[i].isCSSVariable=!0)}function wy(a,{layout:i,layoutId:l}){return Wi.has(a)||a.startsWith("origin")||(i||l!==void 0)&&(!!ll[a]||a==="opacity")}const B2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V2=Ii.length;function L2(a,i,l){let r="",c=!0;for(let d=0;d<V2;d++){const f=Ii[d],m=a[f];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(f.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||l){const p=Sy(m,Mf[f]);if(!g){c=!1;const v=B2[f]||f;r+=`${v}(${p}) `}l&&(i[f]=p)}}return r=r.trim(),l?r=l(i,c?"":r):c&&(r="none"),r}function zf(a,i,l){const{style:r,vars:c,transformOrigin:d}=a;let f=!1,m=!1;for(const g in i){const p=i[g];if(Wi.has(g)){f=!0;continue}else if(vf(g)){c[g]=p;continue}else{const v=Sy(p,Mf[g]);g.startsWith("origin")?(m=!0,d[g]=v):r[g]=v}}if(i.transform||(f||l?r.transform=L2(i,a.transform,l):r.transform&&(r.transform="none")),m){const{originX:g="50%",originY:p="50%",originZ:v=0}=d;r.transformOrigin=`${g} ${p} ${v}`}}const Bf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jy(a,i,l){for(const r in i)!At(i[r])&&!wy(r,l)&&(a[r]=i[r])}function U2({transformTemplate:a},i){return C.useMemo(()=>{const l=Bf();return zf(l,i,a),Object.assign({},l.vars,l.style)},[i])}function G2(a,i){const l=a.style||{},r={};return jy(r,l,a),Object.assign(r,U2(a,i)),r}function H2(a,i){const l={},r=G2(a,i);return a.drag&&a.dragListener!==!1&&(l.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(l.tabIndex=0),l.style=r,l}const k2={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y2={offset:"strokeDashoffset",array:"strokeDasharray"};function q2(a,i,l=1,r=0,c=!0){a.pathLength=1;const d=c?k2:Y2;a[d.offset]=fe.transform(-r);const f=fe.transform(i),m=fe.transform(l);a[d.array]=`${f} ${m}`}function Oy(a,{attrX:i,attrY:l,attrScale:r,pathLength:c,pathSpacing:d=1,pathOffset:f=0,...m},g,p,v){if(zf(a,m,p),g){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:b,style:S}=a;b.transform&&(S.transform=b.transform,delete b.transform),(S.transform||b.transformOrigin)&&(S.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),S.transform&&(S.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete b.transformBox),i!==void 0&&(b.x=i),l!==void 0&&(b.y=l),r!==void 0&&(b.scale=r),c!==void 0&&q2(b,c,d,f,!1)}const Ry=()=>({...Bf(),attrs:{}}),zy=a=>typeof a=="string"&&a.toLowerCase()==="svg";function X2(a,i,l,r){const c=C.useMemo(()=>{const d=Ry();return Oy(d,i,zy(r),a.transformTemplate,a.style),{...d.attrs,style:{...d.style}}},[i]);if(a.style){const d={};jy(d,a.style,a),c.style={...d,...c.style}}return c}const K2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vf(a){return typeof a!="string"||a.includes("-")?!1:!!(K2.indexOf(a)>-1||/[A-Z]/u.test(a))}function Q2(a,i,l,{latestValues:r},c,d=!1){const m=(Vf(a)?X2:H2)(i,r,c,a),g=j2(i,typeof a=="string",d),p=a!==C.Fragment?{...g,...m,ref:l}:{},{children:v}=i,b=C.useMemo(()=>At(v)?v.get():v,[v]);return C.createElement(a,{...p,children:b})}function Cp(a){const i=[{},{}];return a==null||a.values.forEach((l,r)=>{i[0][r]=l.get(),i[1][r]=l.getVelocity()}),i}function Lf(a,i,l,r){if(typeof i=="function"){const[c,d]=Cp(r);i=i(l!==void 0?l:a.custom,c,d)}if(typeof i=="string"&&(i=a.variants&&a.variants[i]),typeof i=="function"){const[c,d]=Cp(r);i=i(l!==void 0?l:a.custom,c,d)}return i}function Rr(a){return At(a)?a.get():a}function Z2({scrapeMotionValuesFromProps:a,createRenderState:i},l,r,c){return{latestValues:F2(l,r,c,a),renderState:i()}}function F2(a,i,l,r){const c={},d=r(a,{});for(const S in d)c[S]=Rr(d[S]);let{initial:f,animate:m}=a;const g=Fr(a),p=My(a);i&&p&&!g&&a.inherit!==!1&&(f===void 0&&(f=i.initial),m===void 0&&(m=i.animate));let v=l?l.initial===!1:!1;v=v||f===!1;const b=v?m:f;if(b&&typeof b!="boolean"&&!Zr(b)){const S=Array.isArray(b)?b:[b];for(let M=0;M<S.length;M++){const z=Lf(a,S[M]);if(z){const{transitionEnd:Y,transition:B,...H}=z;for(const Q in H){let X=H[Q];if(Array.isArray(X)){const k=v?X.length-1:0;X=X[k]}X!==null&&(c[Q]=X)}for(const Q in Y)c[Q]=Y[Q]}}}return c}const By=a=>(i,l)=>{const r=C.useContext(Qr),c=C.useContext(cf),d=()=>Z2(a,i,r,c);return l?d():_1(d)};function Uf(a,i,l){var d;const{style:r}=a,c={};for(const f in r)(At(r[f])||i.style&&At(i.style[f])||wy(f,a)||((d=l==null?void 0:l.getValue(f))==null?void 0:d.liveStyle)!==void 0)&&(c[f]=r[f]);return c}const J2=By({scrapeMotionValuesFromProps:Uf,createRenderState:Bf});function Vy(a,i,l){const r=Uf(a,i,l);for(const c in a)if(At(a[c])||At(i[c])){const d=Ii.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;r[d]=a[c]}return r}const $2=By({scrapeMotionValuesFromProps:Vy,createRenderState:Ry}),P2=Symbol.for("motionComponentSymbol");function qi(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function I2(a,i,l){return C.useCallback(r=>{r&&a.onMount&&a.onMount(r),i&&(r?i.mount(r):i.unmount()),l&&(typeof l=="function"?l(r):qi(l)&&(l.current=r))},[i])}const Gf=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),W2="framerAppearId",Ly="data-"+Gf(W2),Uy=C.createContext({});function eT(a,i,l,r,c){var Y,B;const{visualElement:d}=C.useContext(Qr),f=C.useContext(Ny),m=C.useContext(cf),g=C.useContext(Dy).reducedMotion,p=C.useRef(null);r=r||f.renderer,!p.current&&r&&(p.current=r(a,{visualState:i,parent:d,props:l,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const v=p.current,b=C.useContext(Uy);v&&!v.projection&&c&&(v.type==="html"||v.type==="svg")&&tT(p.current,l,c,b);const S=C.useRef(!1);C.useInsertionEffect(()=>{v&&S.current&&v.update(l,m)});const M=l[Ly],z=C.useRef(!!M&&!((Y=window.MotionHandoffIsComplete)!=null&&Y.call(window,M))&&((B=window.MotionHasOptimisedAnimation)==null?void 0:B.call(window,M)));return M1(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),z.current&&v.animationState&&v.animationState.animateChanges())}),C.useEffect(()=>{v&&(!z.current&&v.animationState&&v.animationState.animateChanges(),z.current&&(queueMicrotask(()=>{var H;(H=window.MotionHandoffMarkAsComplete)==null||H.call(window,M)}),z.current=!1),v.enteringChildren=void 0)}),v}function tT(a,i,l,r){const{layoutId:c,layout:d,drag:f,dragConstraints:m,layoutScroll:g,layoutRoot:p,layoutCrossfade:v}=i;a.projection=new l(a.latestValues,i["data-framer-portal-id"]?void 0:Gy(a.parent)),a.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!f||m&&qi(m),visualElement:a,animationType:typeof d=="string"?d:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:g,layoutRoot:p})}function Gy(a){if(a)return a.options.allowProjection!==!1?a.projection:Gy(a.parent)}function Ac(a,{forwardMotionProps:i=!1}={},l,r){l&&_2(l);const c=Vf(a)?$2:J2;function d(m,g){let p;const v={...C.useContext(Dy),...m,layoutId:nT(m)},{isStatic:b}=v,S=R2(m),M=c(m,b);if(!b&&uf){aT();const z=iT(v);p=z.MeasureLayout,S.visualElement=eT(a,M,v,r,z.ProjectionNode)}return y.jsxs(Qr.Provider,{value:S,children:[p&&S.visualElement?y.jsx(p,{visualElement:S.visualElement,...v}):null,Q2(a,m,I2(M,S.visualElement,g),M,b,i)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const f=C.forwardRef(d);return f[P2]=a,f}function nT({layoutId:a}){const i=C.useContext(Vg).id;return i&&a!==void 0?i+"-"+a:a}function aT(a,i){C.useContext(Ny).strict}function iT(a){const{drag:i,layout:l}=$i;if(!i&&!l)return{};const r={...i,...l};return{MeasureLayout:i!=null&&i.isEnabled(a)||l!=null&&l.isEnabled(a)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function sT(a,i){if(typeof Proxy>"u")return Ac;const l=new Map,r=(d,f)=>Ac(d,f,a,i),c=(d,f)=>r(d,f);return new Proxy(c,{get:(d,f)=>f==="create"?r:(l.has(f)||l.set(f,Ac(f,void 0,a,i)),l.get(f))})}function Hy({top:a,left:i,right:l,bottom:r}){return{x:{min:i,max:l},y:{min:a,max:r}}}function lT({x:a,y:i}){return{top:i.min,right:a.max,bottom:i.max,left:a.min}}function rT(a,i){if(!i)return a;const l=i({x:a.left,y:a.top}),r=i({x:a.right,y:a.bottom});return{top:l.y,left:l.x,bottom:r.y,right:r.x}}function Ec(a){return a===void 0||a===1}function $c({scale:a,scaleX:i,scaleY:l}){return!Ec(a)||!Ec(i)||!Ec(l)}function Qa(a){return $c(a)||ky(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function ky(a){return Dp(a.x)||Dp(a.y)}function Dp(a){return a&&a!=="0%"}function Hr(a,i,l){const r=a-l,c=i*r;return l+c}function Np(a,i,l,r,c){return c!==void 0&&(a=Hr(a,c,r)),Hr(a,l,r)+i}function Pc(a,i=0,l=1,r,c){a.min=Np(a.min,i,l,r,c),a.max=Np(a.max,i,l,r,c)}function Yy(a,{x:i,y:l}){Pc(a.x,i.translate,i.scale,i.originPoint),Pc(a.y,l.translate,l.scale,l.originPoint)}const _p=.999999999999,Mp=1.0000000000001;function oT(a,i,l,r=!1){const c=l.length;if(!c)return;i.x=i.y=1;let d,f;for(let m=0;m<c;m++){d=l[m],f=d.projectionDelta;const{visualElement:g}=d.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ki(a,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),f&&(i.x*=f.x.scale,i.y*=f.y.scale,Yy(a,f)),r&&Qa(d.latestValues)&&Ki(a,d.latestValues))}i.x<Mp&&i.x>_p&&(i.x=1),i.y<Mp&&i.y>_p&&(i.y=1)}function Xi(a,i){a.min=a.min+i,a.max=a.max+i}function wp(a,i,l,r,c=.5){const d=Je(a.min,a.max,c);Pc(a,i,l,d,r)}function Ki(a,i){wp(a.x,i.x,i.scaleX,i.scale,i.originX),wp(a.y,i.y,i.scaleY,i.scale,i.originY)}function qy(a,i){return Hy(rT(a.getBoundingClientRect(),i))}function uT(a,i,l){const r=qy(a,l),{scroll:c}=i;return c&&(Xi(r.x,c.offset.x),Xi(r.y,c.offset.y)),r}const jp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qi=()=>({x:jp(),y:jp()}),Op=()=>({min:0,max:0}),nt=()=>({x:Op(),y:Op()}),Ic={current:null},Xy={current:!1};function cT(){if(Xy.current=!0,!!uf)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),i=()=>Ic.current=a.matches;a.addEventListener("change",i),i()}else Ic.current=!1}const fT=new WeakMap;function dT(a,i,l){for(const r in i){const c=i[r],d=l[r];if(At(c))a.addValue(r,c);else if(At(d))a.addValue(r,Ji(c,{owner:a}));else if(d!==c)if(a.hasValue(r)){const f=a.getValue(r);f.liveStyle===!0?f.jump(c):f.hasAnimated||f.set(c)}else{const f=a.getStaticValue(r);a.addValue(r,Ji(f!==void 0?f:c,{owner:a}))}}for(const r in l)i[r]===void 0&&a.removeValue(r);return i}const Rp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hT{scrapeMotionValuesFromProps(i,l,r){return{}}constructor({parent:i,props:l,presenceContext:r,reducedMotionConfig:c,blockInitialAnimation:d,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Bt.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Fe.render(this.render,!1,!0))};const{latestValues:g,renderState:p}=f;this.latestValues=g,this.baseTarget={...g},this.initialValues=l.initial?{...g}:{},this.renderState=p,this.parent=i,this.props=l,this.presenceContext=r,this.depth=i?i.depth+1:0,this.reducedMotionConfig=c,this.options=m,this.blockInitialAnimation=!!d,this.isControllingVariants=Fr(l),this.isVariantNode=My(l),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(l,{},this);for(const S in b){const M=b[S];g[S]!==void 0&&At(M)&&M.set(g[S])}}mount(i){var l;this.current=i,fT.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,c)=>this.bindToMotionValue(c,r)),Xy.current||cT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ic.current,(l=this.parent)==null||l.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var i;this.projection&&this.projection.unmount(),Sa(this.notifyUpdate),Sa(this.render),this.valueSubscriptions.forEach(l=>l()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(i=this.parent)==null||i.removeChild(this);for(const l in this.events)this.events[l].clear();for(const l in this.features){const r=this.features[l];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(i){this.children.add(i),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(i)}removeChild(i){this.children.delete(i),this.enteringChildren&&this.enteringChildren.delete(i)}bindToMotionValue(i,l){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const r=Wi.has(i);r&&this.onBindTransform&&this.onBindTransform();const c=l.on("change",f=>{this.latestValues[i]=f,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,i,l)),this.valueSubscriptions.set(i,()=>{c(),d&&d(),l.owner&&l.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in $i){const l=$i[i];if(!l)continue;const{isEnabled:r,Feature:c}=l;if(!this.features[i]&&c&&r(this.props)&&(this.features[i]=new c(this)),this.features[i]){const d=this.features[i];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,l){this.latestValues[i]=l}update(i,l){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=l;for(let r=0;r<Rp.length;r++){const c=Rp[r];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const d="on"+c,f=i[d];f&&(this.propEventSubscriptions[c]=this.on(c,f))}this.prevMotionValues=dT(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const l=this.getClosestVariantNode();if(l)return l.variantChildren&&l.variantChildren.add(i),()=>l.variantChildren.delete(i)}addValue(i,l){const r=this.values.get(i);l!==r&&(r&&this.removeValue(i),this.bindToMotionValue(i,l),this.values.set(i,l),this.latestValues[i]=l.get())}removeValue(i){this.values.delete(i);const l=this.valueSubscriptions.get(i);l&&(l(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,l){if(this.props.values&&this.props.values[i])return this.props.values[i];let r=this.values.get(i);return r===void 0&&l!==void 0&&(r=Ji(l===null?void 0:l,{owner:this}),this.addValue(i,r)),r}readValue(i,l){let r=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return r!=null&&(typeof r=="string"&&(Lg(r)||Gg(r))?r=parseFloat(r):!D2(r)&&Ta.test(l)&&(r=by(i,l)),this.setBaseTarget(i,At(r)?r.get():r)),At(r)?r.get():r}setBaseTarget(i,l){this.baseTarget[i]=l}getBaseTarget(i){var d;const{initial:l}=this.props;let r;if(typeof l=="string"||typeof l=="object"){const f=Lf(this.props,l,(d=this.presenceContext)==null?void 0:d.custom);f&&(r=f[i])}if(l&&r!==void 0)return r;const c=this.getBaseTargetFromProps(this.props,i);return c!==void 0&&!At(c)?c:this.initialValues[i]!==void 0&&r===void 0?void 0:this.baseTarget[i]}on(i,l){return this.events[i]||(this.events[i]=new pf),this.events[i].add(l)}notify(i,...l){this.events[i]&&this.events[i].notify(...l)}scheduleRenderMicrotask(){wf.render(this.render)}}class Ky extends hT{constructor(){super(...arguments),this.KeyframeResolver=h2}sortInstanceNodePosition(i,l){return i.compareDocumentPosition(l)&2?1:-1}getBaseTargetFromProps(i,l){return i.style?i.style[l]:void 0}removeValueFromRenderState(i,{vars:l,style:r}){delete l[i],delete r[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;At(i)&&(this.childSubscription=i.on("change",l=>{this.current&&(this.current.textContent=`${l}`)}))}}function Qy(a,{style:i,vars:l},r,c){const d=a.style;let f;for(f in i)d[f]=i[f];c==null||c.applyProjectionStyles(d,r);for(f in l)d.setProperty(f,l[f])}function mT(a){return window.getComputedStyle(a)}class pT extends Ky{constructor(){super(...arguments),this.type="html",this.renderInstance=Qy}readValueFromInstance(i,l){var r;if(Wi.has(l))return(r=this.projection)!=null&&r.isProjecting?qc(l):OS(i,l);{const c=mT(i),d=(vf(l)?c.getPropertyValue(l):c[l])||0;return typeof d=="string"?d.trim():d}}measureInstanceViewportBox(i,{transformPagePoint:l}){return qy(i,l)}build(i,l,r){zf(i,l,r.transformTemplate)}scrapeMotionValuesFromProps(i,l,r){return Uf(i,l,r)}}const Zy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gT(a,i,l,r){Qy(a,i,void 0,r);for(const c in i.attrs)a.setAttribute(Zy.has(c)?c:Gf(c),i.attrs[c])}class yT extends Ky{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nt}getBaseTargetFromProps(i,l){return i[l]}readValueFromInstance(i,l){if(Wi.has(l)){const r=xy(l);return r&&r.default||0}return l=Zy.has(l)?l:Gf(l),i.getAttribute(l)}scrapeMotionValuesFromProps(i,l,r){return Vy(i,l,r)}build(i,l,r){Oy(i,l,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(i,l,r,c){gT(i,l,r,c)}mount(i){this.isSVGTag=zy(i.tagName),super.mount(i)}}const vT=(a,i)=>Vf(a)?new yT(i):new pT(i,{allowProjection:a!==C.Fragment});function Zi(a,i,l){const r=a.getProps();return Lf(r,i,l!==void 0?l:r.custom,a)}const Wc=a=>Array.isArray(a);function xT(a,i,l){a.hasValue(i)?a.getValue(i).set(l):a.addValue(i,Ji(l))}function bT(a){return Wc(a)?a[a.length-1]||0:a}function ST(a,i){const l=Zi(a,i);let{transitionEnd:r={},transition:c={},...d}=l||{};d={...d,...r};for(const f in d){const m=bT(d[f]);xT(a,f,m)}}function TT(a){return!!(At(a)&&a.add)}function ef(a,i){const l=a.getValue("willChange");if(TT(l))return l.add(i);if(!l&&Un.WillChange){const r=new Un.WillChange("auto");a.addValue("willChange",r),r.add(i)}}function Fy(a){return a.props[Ly]}const AT=a=>a!==null;function ET(a,{repeat:i,repeatType:l="loop"},r){const c=a.filter(AT),d=i&&l!=="loop"&&i%2===1?0:c.length-1;return c[d]}const CT={type:"spring",stiffness:500,damping:25,restSpeed:10},DT=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),NT={type:"keyframes",duration:.8},_T={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MT=(a,{keyframes:i})=>i.length>2?NT:Wi.has(a)?a.startsWith("scale")?DT(i[1]):CT:_T;function wT({when:a,delay:i,delayChildren:l,staggerChildren:r,staggerDirection:c,repeat:d,repeatType:f,repeatDelay:m,from:g,elapsed:p,...v}){return!!Object.keys(v).length}const Hf=(a,i,l,r={},c,d)=>f=>{const m=_f(r,a)||{},g=m.delay||r.delay||0;let{elapsed:p=0}=r;p=p-gn(g);const v={keyframes:Array.isArray(l)?l:[null,l],ease:"easeOut",velocity:i.getVelocity(),...m,delay:-p,onUpdate:S=>{i.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{f(),m.onComplete&&m.onComplete()},name:a,motionValue:i,element:d?void 0:c};wT(m)||Object.assign(v,MT(a,v)),v.duration&&(v.duration=gn(v.duration)),v.repeatDelay&&(v.repeatDelay=gn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Fc(v),v.delay===0&&(b=!0)),(Un.instantAnimations||Un.skipAnimations)&&(b=!0,Fc(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,b&&!d&&i.get()!==void 0){const S=ET(v.keyframes,m);if(S!==void 0){Fe.update(()=>{v.onUpdate(S),v.onComplete()});return}}return m.isSync?new Df(v):new t2(v)};function jT({protectedKeys:a,needsAnimating:i},l){const r=a.hasOwnProperty(l)&&i[l]!==!0;return i[l]=!1,r}function Jy(a,i,{delay:l=0,transitionOverride:r,type:c}={}){let{transition:d=a.getDefaultTransition(),transitionEnd:f,...m}=i;r&&(d=r);const g=[],p=c&&a.animationState&&a.animationState.getState()[c];for(const v in m){const b=a.getValue(v,a.latestValues[v]??null),S=m[v];if(S===void 0||p&&jT(p,v))continue;const M={delay:l,..._f(d||{},v)},z=b.get();if(z!==void 0&&!b.isAnimating&&!Array.isArray(S)&&S===z&&!M.velocity)continue;let Y=!1;if(window.MotionHandoffAnimation){const H=Fy(a);if(H){const Q=window.MotionHandoffAnimation(H,v,Fe);Q!==null&&(M.startTime=Q,Y=!0)}}ef(a,v),b.start(Hf(v,b,S,a.shouldReduceMotion&&gy.has(v)?{type:!1}:M,a,Y));const B=b.animation;B&&g.push(B)}return f&&Promise.all(g).then(()=>{Fe.update(()=>{f&&ST(a,f)})}),g}function $y(a,i,l,r=0,c=1){const d=Array.from(a).sort((p,v)=>p.sortNodePosition(v)).indexOf(i),f=a.size,m=(f-1)*r;return typeof l=="function"?l(d,f):c===1?d*r:m-d*r}function tf(a,i,l={}){var g;const r=Zi(a,i,l.type==="exit"?(g=a.presenceContext)==null?void 0:g.custom:void 0);let{transition:c=a.getDefaultTransition()||{}}=r||{};l.transitionOverride&&(c=l.transitionOverride);const d=r?()=>Promise.all(Jy(a,r,l)):()=>Promise.resolve(),f=a.variantChildren&&a.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:S}=c;return OT(a,i,p,v,b,S,l)}:()=>Promise.resolve(),{when:m}=c;if(m){const[p,v]=m==="beforeChildren"?[d,f]:[f,d];return p().then(()=>v())}else return Promise.all([d(),f(l.delay)])}function OT(a,i,l=0,r=0,c=0,d=1,f){const m=[];for(const g of a.variantChildren)g.notify("AnimationStart",i),m.push(tf(g,i,{...f,delay:l+(typeof r=="function"?0:r)+$y(a.variantChildren,g,r,c,d)}).then(()=>g.notify("AnimationComplete",i)));return Promise.all(m)}function RT(a,i,l={}){a.notify("AnimationStart",i);let r;if(Array.isArray(i)){const c=i.map(d=>tf(a,d,l));r=Promise.all(c)}else if(typeof i=="string")r=tf(a,i,l);else{const c=typeof i=="function"?Zi(a,i,l.custom):i;r=Promise.all(Jy(a,c,l))}return r.then(()=>{a.notify("AnimationComplete",i)})}function Py(a,i){if(!Array.isArray(i))return!1;const l=i.length;if(l!==a.length)return!1;for(let r=0;r<l;r++)if(i[r]!==a[r])return!1;return!0}const zT=Rf.length;function Iy(a){if(!a)return;if(!a.isControllingVariants){const l=a.parent?Iy(a.parent)||{}:{};return a.props.initial!==void 0&&(l.initial=a.props.initial),l}const i={};for(let l=0;l<zT;l++){const r=Rf[l],c=a.props[r];(sl(c)||c===!1)&&(i[r]=c)}return i}const BT=[...Of].reverse(),VT=Of.length;function LT(a){return i=>Promise.all(i.map(({animation:l,options:r})=>RT(a,l,r)))}function UT(a){let i=LT(a),l=zp(),r=!0;const c=g=>(p,v)=>{var S;const b=Zi(a,v,g==="exit"?(S=a.presenceContext)==null?void 0:S.custom:void 0);if(b){const{transition:M,transitionEnd:z,...Y}=b;p={...p,...Y,...z}}return p};function d(g){i=g(a)}function f(g){const{props:p}=a,v=Iy(a.parent)||{},b=[],S=new Set;let M={},z=1/0;for(let B=0;B<VT;B++){const H=BT[B],Q=l[H],X=p[H]!==void 0?p[H]:v[H],k=sl(X),q=H===g?Q.isActive:null;q===!1&&(z=B);let ne=X===v[H]&&X!==p[H]&&k;if(ne&&r&&a.manuallyAnimateOnMount&&(ne=!1),Q.protectedKeys={...M},!Q.isActive&&q===null||!X&&!Q.prevProp||Zr(X)||typeof X=="boolean")continue;const Z=GT(Q.prevProp,X);let I=Z||H===g&&Q.isActive&&!ne&&k||B>z&&k,oe=!1;const ie=Array.isArray(X)?X:[X];let we=ie.reduce(c(H),{});q===!1&&(we={});const{prevResolvedValues:Ae={}}=Q,ct={...Ae,...we},de=V=>{I=!0,S.has(V)&&(oe=!0,S.delete(V)),Q.needsAnimating[V]=!0;const $=a.getValue(V);$&&($.liveStyle=!1)};for(const V in ct){const $=we[V],ce=Ae[V];if(M.hasOwnProperty(V))continue;let xe=!1;Wc($)&&Wc(ce)?xe=!Py($,ce):xe=$!==ce,xe?$!=null?de(V):S.add(V):$!==void 0&&S.has(V)?de(V):Q.protectedKeys[V]=!0}Q.prevProp=X,Q.prevResolvedValues=we,Q.isActive&&(M={...M,...we}),r&&a.blockInitialAnimation&&(I=!1);const K=ne&&Z;I&&(!K||oe)&&b.push(...ie.map(V=>{const $={type:H};if(typeof V=="string"&&r&&!K&&a.manuallyAnimateOnMount&&a.parent){const{parent:ce}=a,xe=Zi(ce,V);if(ce.enteringChildren&&xe){const{delayChildren:A}=xe.transition||{};$.delay=$y(ce.enteringChildren,a,A)}}return{animation:V,options:$}}))}if(S.size){const B={};if(typeof p.initial!="boolean"){const H=Zi(a,Array.isArray(p.initial)?p.initial[0]:p.initial);H&&H.transition&&(B.transition=H.transition)}S.forEach(H=>{const Q=a.getBaseTarget(H),X=a.getValue(H);X&&(X.liveStyle=!0),B[H]=Q??null}),b.push({animation:B})}let Y=!!b.length;return r&&(p.initial===!1||p.initial===p.animate)&&!a.manuallyAnimateOnMount&&(Y=!1),r=!1,Y?i(b):Promise.resolve()}function m(g,p){var b;if(l[g].isActive===p)return Promise.resolve();(b=a.variantChildren)==null||b.forEach(S=>{var M;return(M=S.animationState)==null?void 0:M.setActive(g,p)}),l[g].isActive=p;const v=f(g);for(const S in l)l[S].protectedKeys={};return v}return{animateChanges:f,setActive:m,setAnimateFunction:d,getState:()=>l,reset:()=>{l=zp()}}}function GT(a,i){return typeof i=="string"?i!==a:Array.isArray(i)?!Py(i,a):!1}function Ka(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zp(){return{animate:Ka(!0),whileInView:Ka(),whileHover:Ka(),whileTap:Ka(),whileDrag:Ka(),whileFocus:Ka(),exit:Ka()}}class Aa{constructor(i){this.isMounted=!1,this.node=i}update(){}}class HT extends Aa{constructor(i){super(i),i.animationState||(i.animationState=UT(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();Zr(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:l}=this.node.prevProps||{};i!==l&&this.updateAnimationControlsSubscription()}unmount(){var i;this.node.animationState.reset(),(i=this.unmountControls)==null||i.call(this)}}let kT=0;class YT extends Aa{constructor(){super(...arguments),this.id=kT++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:l}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===r)return;const c=this.node.animationState.setActive("exit",!i);l&&!i&&c.then(()=>{l(this.id)})}mount(){const{register:i,onExitComplete:l}=this.node.presenceContext||{};l&&l(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const qT={animation:{Feature:HT},exit:{Feature:YT}};function rl(a,i,l,r={passive:!0}){return a.addEventListener(i,l,r),()=>a.removeEventListener(i,l)}function fl(a){return{point:{x:a.pageX,y:a.pageY}}}const XT=a=>i=>jf(i)&&a(i,fl(i));function Ws(a,i,l,r){return rl(a,i,XT(l),r)}const Wy=1e-4,KT=1-Wy,QT=1+Wy,ev=.01,ZT=0-ev,FT=0+ev;function Dt(a){return a.max-a.min}function JT(a,i,l){return Math.abs(a-i)<=l}function Bp(a,i,l,r=.5){a.origin=r,a.originPoint=Je(i.min,i.max,a.origin),a.scale=Dt(l)/Dt(i),a.translate=Je(l.min,l.max,a.origin)-a.originPoint,(a.scale>=KT&&a.scale<=QT||isNaN(a.scale))&&(a.scale=1),(a.translate>=ZT&&a.translate<=FT||isNaN(a.translate))&&(a.translate=0)}function el(a,i,l,r){Bp(a.x,i.x,l.x,r?r.originX:void 0),Bp(a.y,i.y,l.y,r?r.originY:void 0)}function Vp(a,i,l){a.min=l.min+i.min,a.max=a.min+Dt(i)}function $T(a,i,l){Vp(a.x,i.x,l.x),Vp(a.y,i.y,l.y)}function Lp(a,i,l){a.min=i.min-l.min,a.max=a.min+Dt(i)}function tl(a,i,l){Lp(a.x,i.x,l.x),Lp(a.y,i.y,l.y)}function nn(a){return[a("x"),a("y")]}const tv=({current:a})=>a?a.ownerDocument.defaultView:null,Up=(a,i)=>Math.abs(a-i);function PT(a,i){const l=Up(a.x,i.x),r=Up(a.y,i.y);return Math.sqrt(l**2+r**2)}class nv{constructor(i,l,{transformPagePoint:r,contextWindow:c=window,dragSnapToOrigin:d=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Dc(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,z=PT(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!z)return;const{point:Y}=S,{timestamp:B}=St;this.history.push({...Y,timestamp:B});const{onStart:H,onMove:Q}=this.handlers;M||(H&&H(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,S)},this.handlePointerMove=(S,M)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Cc(M,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(S,M)=>{this.end();const{onEnd:z,onSessionEnd:Y,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Dc(S.type==="pointercancel"?this.lastMoveEventInfo:Cc(M,this.transformPagePoint),this.history);this.startEvent&&z&&z(S,H),Y&&Y(S,H)},!jf(i))return;this.dragSnapToOrigin=d,this.handlers=l,this.transformPagePoint=r,this.distanceThreshold=f,this.contextWindow=c||window;const m=fl(i),g=Cc(m,this.transformPagePoint),{point:p}=g,{timestamp:v}=St;this.history=[{...p,timestamp:v}];const{onSessionStart:b}=l;b&&b(i,Dc(g,this.history)),this.removeListeners=ol(Ws(this.contextWindow,"pointermove",this.handlePointerMove),Ws(this.contextWindow,"pointerup",this.handlePointerUp),Ws(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),Sa(this.updatePoint)}}function Cc(a,i){return i?{point:i(a.point)}:a}function Gp(a,i){return{x:a.x-i.x,y:a.y-i.y}}function Dc({point:a},i){return{point:a,delta:Gp(a,av(i)),offset:Gp(a,IT(i)),velocity:WT(i,.1)}}function IT(a){return a[0]}function av(a){return a[a.length-1]}function WT(a,i){if(a.length<2)return{x:0,y:0};let l=a.length-1,r=null;const c=av(a);for(;l>=0&&(r=a[l],!(c.timestamp-r.timestamp>gn(i)));)l--;if(!r)return{x:0,y:0};const d=an(c.timestamp-r.timestamp);if(d===0)return{x:0,y:0};const f={x:(c.x-r.x)/d,y:(c.y-r.y)/d};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function eA(a,{min:i,max:l},r){return i!==void 0&&a<i?a=r?Je(i,a,r.min):Math.max(a,i):l!==void 0&&a>l&&(a=r?Je(l,a,r.max):Math.min(a,l)),a}function Hp(a,i,l){return{min:i!==void 0?a.min+i:void 0,max:l!==void 0?a.max+l-(a.max-a.min):void 0}}function tA(a,{top:i,left:l,bottom:r,right:c}){return{x:Hp(a.x,l,c),y:Hp(a.y,i,r)}}function kp(a,i){let l=i.min-a.min,r=i.max-a.max;return i.max-i.min<a.max-a.min&&([l,r]=[r,l]),{min:l,max:r}}function nA(a,i){return{x:kp(a.x,i.x),y:kp(a.y,i.y)}}function aA(a,i){let l=.5;const r=Dt(a),c=Dt(i);return c>r?l=nl(i.min,i.max-r,a.min):r>c&&(l=nl(a.min,a.max-c,i.min)),Ln(0,1,l)}function iA(a,i){const l={};return i.min!==void 0&&(l.min=i.min-a.min),i.max!==void 0&&(l.max=i.max-a.min),l}const nf=.35;function sA(a=nf){return a===!1?a=0:a===!0&&(a=nf),{x:Yp(a,"left","right"),y:Yp(a,"top","bottom")}}function Yp(a,i,l){return{min:qp(a,i),max:qp(a,l)}}function qp(a,i){return typeof a=="number"?a:a[i]||0}const lA=new WeakMap;class rA{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=i}start(i,{snapToCursor:l=!1,distanceThreshold:r}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const d=b=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),l&&this.snapToCursor(fl(b).point)},f=(b,S)=>{const{drag:M,dragPropagation:z,onDragStart:Y}=this.getProps();if(M&&!z&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v2(M),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nn(H=>{let Q=this.getAxisMotionValue(H).get()||0;if(yn.test(Q)){const{projection:X}=this.visualElement;if(X&&X.layout){const k=X.layout.layoutBox[H];k&&(Q=Dt(k)*(parseFloat(Q)/100))}}this.originPoint[H]=Q}),Y&&Fe.postRender(()=>Y(b,S)),ef(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},m=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S;const{dragPropagation:M,dragDirectionLock:z,onDirectionLock:Y,onDrag:B}=this.getProps();if(!M&&!this.openDragLock)return;const{offset:H}=S;if(z&&this.currentDirection===null){this.currentDirection=oA(H),this.currentDirection!==null&&Y&&Y(this.currentDirection);return}this.updateAxis("x",S.point,H),this.updateAxis("y",S.point,H),this.visualElement.render(),B&&B(b,S)},g=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S,this.stop(b,S),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>nn(b=>{var S;return this.getAnimationState(b)==="paused"&&((S=this.getAxisMotionValue(b).animation)==null?void 0:S.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new nv(i,{onSessionStart:d,onStart:f,onMove:m,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:tv(this.visualElement)})}stop(i,l){const r=i||this.latestPointerEvent,c=l||this.latestPanInfo,d=this.isDragging;if(this.cancel(),!d||!c||!r)return;const{velocity:f}=c;this.startAnimation(f);const{onDragEnd:m}=this.getProps();m&&Fe.postRender(()=>m(r,c))}cancel(){this.isDragging=!1;const{projection:i,animationState:l}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),l&&l.setActive("whileDrag",!1)}updateAxis(i,l,r){const{drag:c}=this.getProps();if(!r||!Nr(i,c,this.currentDirection))return;const d=this.getAxisMotionValue(i);let f=this.originPoint[i]+r[i];this.constraints&&this.constraints[i]&&(f=eA(f,this.constraints[i],this.elastic[i])),d.set(f)}resolveConstraints(){var d;const{dragConstraints:i,dragElastic:l}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(d=this.visualElement.projection)==null?void 0:d.layout,c=this.constraints;i&&qi(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&r?this.constraints=tA(r.layoutBox,i):this.constraints=!1,this.elastic=sA(l),c!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&nn(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=iA(r.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:l}=this.getProps();if(!i||!qi(i))return!1;const r=i.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const d=uT(r,c.root,this.visualElement.getTransformPagePoint());let f=nA(c.layout.layoutBox,d);if(l){const m=l(lT(f));this.hasMutatedConstraints=!!m,m&&(f=Hy(m))}return f}startAnimation(i){const{drag:l,dragMomentum:r,dragElastic:c,dragTransition:d,dragSnapToOrigin:f,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},p=nn(v=>{if(!Nr(v,l,this.currentDirection))return;let b=g&&g[v]||{};f&&(b={min:0,max:0});const S=c?200:1e6,M=c?40:1e7,z={type:"inertia",velocity:r?i[v]:0,bounceStiffness:S,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...d,...b};return this.startAxisValueAnimation(v,z)});return Promise.all(p).then(m)}startAxisValueAnimation(i,l){const r=this.getAxisMotionValue(i);return ef(this.visualElement,i),r.start(Hf(i,r,0,l,this.visualElement,!1))}stopAnimation(){nn(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){nn(i=>{var l;return(l=this.getAxisMotionValue(i).animation)==null?void 0:l.pause()})}getAnimationState(i){var l;return(l=this.getAxisMotionValue(i).animation)==null?void 0:l.state}getAxisMotionValue(i){const l=`_drag${i.toUpperCase()}`,r=this.visualElement.getProps(),c=r[l];return c||this.visualElement.getValue(i,(r.initial?r.initial[i]:void 0)||0)}snapToCursor(i){nn(l=>{const{drag:r}=this.getProps();if(!Nr(l,r,this.currentDirection))return;const{projection:c}=this.visualElement,d=this.getAxisMotionValue(l);if(c&&c.layout){const{min:f,max:m}=c.layout.layoutBox[l];d.set(i[l]-Je(f,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:l}=this.getProps(),{projection:r}=this.visualElement;if(!qi(l)||!r||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};nn(f=>{const m=this.getAxisMotionValue(f);if(m&&this.constraints!==!1){const g=m.get();c[f]=aA({min:g,max:g},this.constraints[f])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nn(f=>{if(!Nr(f,i,null))return;const m=this.getAxisMotionValue(f),{min:g,max:p}=this.constraints[f];m.set(Je(g,p,c[f]))})}addListeners(){if(!this.visualElement.current)return;lA.set(this.visualElement,this);const i=this.visualElement.current,l=Ws(i,"pointerdown",g=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();qi(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,d=c.addEventListener("measure",r);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),Fe.read(r);const f=rl(window,"resize",()=>this.scalePositionWithinConstraints()),m=c.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:p})=>{this.isDragging&&p&&(nn(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=g[v].translate,b.set(b.get()+g[v].translate))}),this.visualElement.render())}));return()=>{f(),l(),d(),m&&m()}}getProps(){const i=this.visualElement.getProps(),{drag:l=!1,dragDirectionLock:r=!1,dragPropagation:c=!1,dragConstraints:d=!1,dragElastic:f=nf,dragMomentum:m=!0}=i;return{...i,drag:l,dragDirectionLock:r,dragPropagation:c,dragConstraints:d,dragElastic:f,dragMomentum:m}}}function Nr(a,i,l){return(i===!0||i===a)&&(l===null||l===a)}function oA(a,i=10){let l=null;return Math.abs(a.y)>i?l="y":Math.abs(a.x)>i&&(l="x"),l}class uA extends Aa{constructor(i){super(i),this.removeGroupControls=sn,this.removeListeners=sn,this.controls=new rA(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xp=a=>(i,l)=>{a&&Fe.postRender(()=>a(i,l))};class cA extends Aa{constructor(){super(...arguments),this.removePointerDownListener=sn}onPointerDown(i){this.session=new nv(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tv(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:l,onPan:r,onPanEnd:c}=this.node.getProps();return{onSessionStart:Xp(i),onStart:Xp(l),onMove:r,onEnd:(d,f)=>{delete this.session,c&&Fe.postRender(()=>c(d,f))}}}mount(){this.removePointerDownListener=Ws(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kp(a,i){return i.max===i.min?0:a/(i.max-i.min)*100}const Js={correct:(a,i)=>{if(!i.target)return a;if(typeof a=="string")if(fe.test(a))a=parseFloat(a);else return a;const l=Kp(a,i.target.x),r=Kp(a,i.target.y);return`${l}% ${r}%`}},fA={correct:(a,{treeScale:i,projectionDelta:l})=>{const r=a,c=Ta.parse(a);if(c.length>5)return r;const d=Ta.createTransformer(a),f=typeof c[0]!="number"?1:0,m=l.x.scale*i.x,g=l.y.scale*i.y;c[0+f]/=m,c[1+f]/=g;const p=Je(m,g,.5);return typeof c[2+f]=="number"&&(c[2+f]/=p),typeof c[3+f]=="number"&&(c[3+f]/=p),d(c)}};let Nc=!1;class dA extends C.Component{componentDidMount(){const{visualElement:i,layoutGroup:l,switchLayoutGroup:r,layoutId:c}=this.props,{projection:d}=i;z2(hA),d&&(l.group&&l.group.add(d),r&&r.register&&c&&r.register(d),Nc&&d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),zr.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:l,visualElement:r,drag:c,isPresent:d}=this.props,{projection:f}=r;return f&&(f.isPresent=d,Nc=!0,c||i.layoutDependency!==l||l===void 0||i.isPresent!==d?f.willUpdate():this.safeToRemove(),i.isPresent!==d&&(d?f.promote():f.relegate()||Fe.postRender(()=>{const m=f.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),wf.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:l,switchLayoutGroup:r}=this.props,{projection:c}=i;Nc=!0,c&&(c.scheduleCheckAfterUnmount(),l&&l.group&&l.group.remove(c),r&&r.deregister&&r.deregister(c))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function iv(a){const[i,l]=N2(),r=C.useContext(Vg);return y.jsx(dA,{...a,layoutGroup:r,switchLayoutGroup:C.useContext(Uy),isPresent:i,safeToRemove:l})}const hA={borderRadius:{...Js,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Js,borderTopRightRadius:Js,borderBottomLeftRadius:Js,borderBottomRightRadius:Js,boxShadow:fA};function mA(a,i,l){const r=At(a)?a:Ji(a);return r.start(Hf("",r,i,l)),r.animation}const pA=(a,i)=>a.depth-i.depth;class gA{constructor(){this.children=[],this.isDirty=!1}add(i){ff(this.children,i),this.isDirty=!0}remove(i){df(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(pA),this.isDirty=!1,this.children.forEach(i)}}function yA(a,i){const l=Bt.now(),r=({timestamp:c})=>{const d=c-l;d>=i&&(Sa(r),a(d-i))};return Fe.setup(r,!0),()=>Sa(r)}const sv=["TopLeft","TopRight","BottomLeft","BottomRight"],vA=sv.length,Qp=a=>typeof a=="string"?parseFloat(a):a,Zp=a=>typeof a=="number"||fe.test(a);function xA(a,i,l,r,c,d){c?(a.opacity=Je(0,l.opacity??1,bA(r)),a.opacityExit=Je(i.opacity??1,0,SA(r))):d&&(a.opacity=Je(i.opacity??1,l.opacity??1,r));for(let f=0;f<vA;f++){const m=`border${sv[f]}Radius`;let g=Fp(i,m),p=Fp(l,m);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||Zp(g)===Zp(p)?(a[m]=Math.max(Je(Qp(g),Qp(p),r),0),(yn.test(p)||yn.test(g))&&(a[m]+="%")):a[m]=p}(i.rotate||l.rotate)&&(a.rotate=Je(i.rotate||0,l.rotate||0,r))}function Fp(a,i){return a[i]!==void 0?a[i]:a.borderRadius}const bA=lv(0,.5,Zg),SA=lv(.5,.95,sn);function lv(a,i,l){return r=>r<a?0:r>i?1:l(nl(a,i,r))}function Jp(a,i){a.min=i.min,a.max=i.max}function tn(a,i){Jp(a.x,i.x),Jp(a.y,i.y)}function $p(a,i){a.translate=i.translate,a.scale=i.scale,a.originPoint=i.originPoint,a.origin=i.origin}function Pp(a,i,l,r,c){return a-=i,a=Hr(a,1/l,r),c!==void 0&&(a=Hr(a,1/c,r)),a}function TA(a,i=0,l=1,r=.5,c,d=a,f=a){if(yn.test(i)&&(i=parseFloat(i),i=Je(f.min,f.max,i/100)-f.min),typeof i!="number")return;let m=Je(d.min,d.max,r);a===d&&(m-=i),a.min=Pp(a.min,i,l,m,c),a.max=Pp(a.max,i,l,m,c)}function Ip(a,i,[l,r,c],d,f){TA(a,i[l],i[r],i[c],i.scale,d,f)}const AA=["x","scaleX","originX"],EA=["y","scaleY","originY"];function Wp(a,i,l,r){Ip(a.x,i,AA,l?l.x:void 0,r?r.x:void 0),Ip(a.y,i,EA,l?l.y:void 0,r?r.y:void 0)}function eg(a){return a.translate===0&&a.scale===1}function rv(a){return eg(a.x)&&eg(a.y)}function tg(a,i){return a.min===i.min&&a.max===i.max}function CA(a,i){return tg(a.x,i.x)&&tg(a.y,i.y)}function ng(a,i){return Math.round(a.min)===Math.round(i.min)&&Math.round(a.max)===Math.round(i.max)}function ov(a,i){return ng(a.x,i.x)&&ng(a.y,i.y)}function ag(a){return Dt(a.x)/Dt(a.y)}function ig(a,i){return a.translate===i.translate&&a.scale===i.scale&&a.originPoint===i.originPoint}class DA{constructor(){this.members=[]}add(i){ff(this.members,i),i.scheduleRender()}remove(i){if(df(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const l=this.members[this.members.length-1];l&&this.promote(l)}}relegate(i){const l=this.members.findIndex(c=>i===c);if(l===0)return!1;let r;for(let c=l;c>=0;c--){const d=this.members[c];if(d.isPresent!==!1){r=d;break}}return r?(this.promote(r),!0):!1}promote(i,l){const r=this.lead;if(i!==r&&(this.prevLead=r,this.lead=i,i.show(),r)){r.instance&&r.scheduleRender(),i.scheduleRender(),i.resumeFrom=r,l&&(i.resumeFrom.preserveOpacity=!0),r.snapshot&&(i.snapshot=r.snapshot,i.snapshot.latestValues=r.animationValues||r.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:c}=i.options;c===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:l,resumingFrom:r}=i;l.onExitComplete&&l.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NA(a,i,l){let r="";const c=a.x.translate/i.x,d=a.y.translate/i.y,f=(l==null?void 0:l.z)||0;if((c||d||f)&&(r=`translate3d(${c}px, ${d}px, ${f}px) `),(i.x!==1||i.y!==1)&&(r+=`scale(${1/i.x}, ${1/i.y}) `),l){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:S,skewX:M,skewY:z}=l;p&&(r=`perspective(${p}px) ${r}`),v&&(r+=`rotate(${v}deg) `),b&&(r+=`rotateX(${b}deg) `),S&&(r+=`rotateY(${S}deg) `),M&&(r+=`skewX(${M}deg) `),z&&(r+=`skewY(${z}deg) `)}const m=a.x.scale*i.x,g=a.y.scale*i.y;return(m!==1||g!==1)&&(r+=`scale(${m}, ${g})`),r||"none"}const _c=["","X","Y","Z"],_A=1e3;let MA=0;function Mc(a,i,l,r){const{latestValues:c}=i;c[a]&&(l[a]=c[a],i.setStaticValue(a,0),r&&(r[a]=0))}function uv(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:i}=a.options;if(!i)return;const l=Fy(i);if(window.MotionHasOptimisedAnimation(l,"transform")){const{layout:c,layoutId:d}=a.options;window.MotionCancelOptimisedAnimation(l,"transform",Fe,!(c||d))}const{parent:r}=a;r&&!r.hasCheckedOptimisedAppear&&uv(r)}function cv({attachResizeListener:a,defaultParent:i,measureScroll:l,checkIsScrollRoot:r,resetTransform:c}){return class{constructor(f={},m=i==null?void 0:i()){this.id=MA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(OA),this.nodes.forEach(VA),this.nodes.forEach(LA),this.nodes.forEach(RA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new gA)}addEventListener(f,m){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new pf),this.eventHandlers.get(f).add(m)}notifyListeners(f,...m){const g=this.eventHandlers.get(f);g&&g.notify(...m)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=Cy(f)&&!E2(f),this.instance=f;const{layoutId:m,layout:g,visualElement:p}=this.options;if(p&&!p.current&&p.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),a){let v,b=0;const S=()=>this.root.updateBlockedByResize=!1;Fe.read(()=>{b=window.innerWidth}),a(f,()=>{const M=window.innerWidth;M!==b&&(b=M,this.root.updateBlockedByResize=!0,v&&v(),v=yA(S,250),zr.hasAnimatedSinceResize&&(zr.hasAnimatedSinceResize=!1,this.nodes.forEach(rg)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&p&&(m||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:S,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const z=this.options.transition||p.getDefaultTransition()||YA,{onLayoutAnimationStart:Y,onLayoutAnimationComplete:B}=p.getProps(),H=!this.targetLayout||!ov(this.targetLayout,M),Q=!b&&S;if(this.options.layoutRoot||this.resumeFrom||Q||b&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const X={..._f(z,"layout"),onPlay:Y,onComplete:B};(p.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X),this.setAnimationOrigin(v,Q)}else b||rg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Sa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UA),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(BA),this.nodes.forEach(wA),this.nodes.forEach(jA)):this.nodes.forEach(lg),this.clearAllSnapshots();const m=Bt.now();St.delta=Ln(0,1e3/60,m-St.timestamp),St.timestamp=m,St.isProcessing=!0,yc.update.process(St),yc.preRender.process(St),yc.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zA),this.sharedNodes.forEach(GA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dt(this.snapshot.measuredBox.x)&&!Dt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(m=!1),m&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:g,offset:l(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!c)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!rv(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;f&&this.instance&&(m||Qa(this.latestValues)||v)&&(c(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return f&&(g=this.removeTransform(g)),qA(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:f}=this.options;if(!f)return nt();const m=f.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(XA))){const{scroll:v}=this.root;v&&(Xi(m.x,v.offset.x),Xi(m.y,v.offset.y))}return m}removeElementScroll(f){var g;const m=nt();if(tn(m,f),(g=this.scroll)!=null&&g.wasRoot)return m;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:b,options:S}=v;v!==this.root&&b&&S.layoutScroll&&(b.wasRoot&&tn(m,f),Xi(m.x,b.offset.x),Xi(m.y,b.offset.y))}return m}applyTransform(f,m=!1){const g=nt();tn(g,f);for(let p=0;p<this.path.length;p++){const v=this.path[p];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ki(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Qa(v.latestValues)&&Ki(g,v.latestValues)}return Qa(this.latestValues)&&Ki(g,this.latestValues),g}removeTransform(f){const m=nt();tn(m,f);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!Qa(p.latestValues))continue;$c(p.latestValues)&&p.updateSnapshot();const v=nt(),b=p.measurePageBox();tn(v,b),Wp(m,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Qa(this.latestValues)&&Wp(m,this.latestValues),m}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var S;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(f||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const M=this.getClosestProjectingParent();M&&M.layout&&this.animationProgress!==1?(this.relativeParent=M,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),tl(this.relativeTargetOrigin,this.layout.layoutBox,M.layout.layoutBox),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$T(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tn(this.target,this.layout.layoutBox),Yy(this.target,this.targetDelta)):tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const M=this.getClosestProjectingParent();M&&!!M.resumingFrom==!!this.resumingFrom&&!M.options.layoutScroll&&M.target&&this.animationProgress!==1?(this.relativeParent=M,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),tl(this.relativeTargetOrigin,this.target,M.target),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$c(this.parent.latestValues)||ky(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var z;const f=this.getLead(),m=!!this.resumingFrom||this!==f;let g=!0;if((this.isProjectionDirty||(z=this.parent)!=null&&z.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===St.timestamp&&(g=!1),g)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;tn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,S=this.treeScale.y;oT(this.layoutCorrected,this.treeScale,this.path,m),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=nt());const{target:M}=f;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($p(this.prevProjectionDelta.x,this.projectionDelta.x),$p(this.prevProjectionDelta.y,this.projectionDelta.y)),el(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==S||!ig(this.projectionDelta.x,this.prevProjectionDelta.x)||!ig(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),f){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qi(),this.projectionDelta=Qi(),this.projectionDeltaWithTransform=Qi()}setAnimationOrigin(f,m=!1){const g=this.snapshot,p=g?g.latestValues:{},v={...this.latestValues},b=Qi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=nt(),M=g?g.source:void 0,z=this.layout?this.layout.source:void 0,Y=M!==z,B=this.getStack(),H=!B||B.members.length<=1,Q=!!(Y&&!H&&this.options.crossfade===!0&&!this.path.some(kA));this.animationProgress=0;let X;this.mixTargetDelta=k=>{const q=k/1e3;og(b.x,f.x,q),og(b.y,f.y,q),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tl(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HA(this.relativeTarget,this.relativeTargetOrigin,S,q),X&&CA(this.relativeTarget,X)&&(this.isProjectionDirty=!1),X||(X=nt()),tn(X,this.relativeTarget)),Y&&(this.animationValues=v,xA(v,p,this.latestValues,q,Q,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){var m,g,p;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(p=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Sa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{zr.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ji(0)),this.currentAnimation=mA(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),f.onUpdate&&f.onUpdate(v)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_A),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:m,target:g,layout:p,latestValues:v}=f;if(!(!m||!g||!p)){if(this!==f&&this.layout&&p&&fv(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||nt();const b=Dt(this.layout.layoutBox.x);g.x.min=f.target.x.min,g.x.max=g.x.min+b;const S=Dt(this.layout.layoutBox.y);g.y.min=f.target.y.min,g.y.max=g.y.min+S}tn(m,g),Ki(m,v),el(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(f,m){this.sharedNodes.has(f)||this.sharedNodes.set(f,new DA),this.sharedNodes.get(f).add(m);const p=m.options.initialPromotionConfig;m.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(m):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var m;const{layoutId:f}=this.options;return f?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:f}=this.options;return f?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:m,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),f&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let m=!1;const{latestValues:g}=f;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const p={};g.z&&Mc("z",f,p,this.animationValues);for(let v=0;v<_c.length;v++)Mc(`rotate${_c[v]}`,f,p,this.animationValues),Mc(`skew${_c[v]}`,f,p,this.animationValues);f.render();for(const v in p)f.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);f.scheduleRender()}applyProjectionStyles(f,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=Rr(m==null?void 0:m.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Rr(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!Qa(this.latestValues)&&(f.transform=g?g({},""):"none",this.hasProjected=!1);return}f.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=NA(this.projectionDeltaWithTransform,this.treeScale,v);g&&(b=g(v,b)),f.transform=b;const{x:S,y:M}=this.projectionDelta;f.transformOrigin=`${S.origin*100}% ${M.origin*100}% 0`,p.animationValues?f.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:f.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const z in ll){if(v[z]===void 0)continue;const{correct:Y,applyTo:B,isCSSVariable:H}=ll[z],Q=b==="none"?v[z]:Y(v[z],p);if(B){const X=B.length;for(let k=0;k<X;k++)f[B[k]]=Q}else H?this.options.visualElement.renderState.vars[z]=Q:f[z]=Q}this.options.layoutId&&(f.pointerEvents=p===this?Rr(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var m;return(m=f.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(sg),this.root.sharedNodes.clear()}}}function wA(a){a.updateLayout()}function jA(a){var l;const i=((l=a.resumeFrom)==null?void 0:l.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&i&&a.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:c}=a.layout,{animationType:d}=a.options,f=i.source!==a.layout.source;d==="size"?nn(b=>{const S=f?i.measuredBox[b]:i.layoutBox[b],M=Dt(S);S.min=r[b].min,S.max=S.min+M}):fv(d,i.layoutBox,r)&&nn(b=>{const S=f?i.measuredBox[b]:i.layoutBox[b],M=Dt(r[b]);S.max=S.min+M,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[b].max=a.relativeTarget[b].min+M)});const m=Qi();el(m,r,i.layoutBox);const g=Qi();f?el(g,a.applyTransform(c,!0),i.measuredBox):el(g,r,i.layoutBox);const p=!rv(m);let v=!1;if(!a.resumeFrom){const b=a.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:S,layout:M}=b;if(S&&M){const z=nt();tl(z,i.layoutBox,S.layoutBox);const Y=nt();tl(Y,r,M.layoutBox),ov(z,Y)||(v=!0),b.options.layoutRoot&&(a.relativeTarget=Y,a.relativeTargetOrigin=z,a.relativeParent=b)}}}a.notifyListeners("didUpdate",{layout:r,snapshot:i,delta:g,layoutDelta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(a.isLead()){const{onExitComplete:r}=a.options;r&&r()}a.options.transition=void 0}function OA(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function RA(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function zA(a){a.clearSnapshot()}function sg(a){a.clearMeasurements()}function lg(a){a.isLayoutDirty=!1}function BA(a){const{visualElement:i}=a.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),a.resetTransform()}function rg(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function VA(a){a.resolveTargetDelta()}function LA(a){a.calcProjection()}function UA(a){a.resetSkewAndRotation()}function GA(a){a.removeLeadSnapshot()}function og(a,i,l){a.translate=Je(i.translate,0,l),a.scale=Je(i.scale,1,l),a.origin=i.origin,a.originPoint=i.originPoint}function ug(a,i,l,r){a.min=Je(i.min,l.min,r),a.max=Je(i.max,l.max,r)}function HA(a,i,l,r){ug(a.x,i.x,l.x,r),ug(a.y,i.y,l.y,r)}function kA(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const YA={duration:.45,ease:[.4,0,.1,1]},cg=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),fg=cg("applewebkit/")&&!cg("chrome/")?Math.round:sn;function dg(a){a.min=fg(a.min),a.max=fg(a.max)}function qA(a){dg(a.x),dg(a.y)}function fv(a,i,l){return a==="position"||a==="preserve-aspect"&&!JT(ag(i),ag(l),.2)}function XA(a){var i;return a!==a.root&&((i=a.scroll)==null?void 0:i.wasRoot)}const KA=cv({attachResizeListener:(a,i)=>rl(a,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wc={current:void 0},dv=cv({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!wc.current){const a=new KA({});a.mount(window),a.setOptions({layoutScroll:!0}),wc.current=a}return wc.current},resetTransform:(a,i)=>{a.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),QA={pan:{Feature:cA},drag:{Feature:uA,ProjectionNode:dv,MeasureLayout:iv}};function hg(a,i,l){const{props:r}=a;a.animationState&&r.whileHover&&a.animationState.setActive("whileHover",l==="Start");const c="onHover"+l,d=r[c];d&&Fe.postRender(()=>d(i,fl(i)))}class ZA extends Aa{mount(){const{current:i}=this.node;i&&(this.unmount=x2(i,(l,r)=>(hg(this.node,r,"Start"),c=>hg(this.node,c,"End"))))}unmount(){}}class FA extends Aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ol(rl(this.node.current,"focus",()=>this.onFocus()),rl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mg(a,i,l){const{props:r}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&r.whileTap&&a.animationState.setActive("whileTap",l==="Start");const c="onTap"+(l==="End"?"":l),d=r[c];d&&Fe.postRender(()=>d(i,fl(i)))}class JA extends Aa{mount(){const{current:i}=this.node;i&&(this.unmount=A2(i,(l,r)=>(mg(this.node,r,"Start"),(c,{success:d})=>mg(this.node,c,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const af=new WeakMap,jc=new WeakMap,$A=a=>{const i=af.get(a.target);i&&i(a)},PA=a=>{a.forEach($A)};function IA({root:a,...i}){const l=a||document;jc.has(l)||jc.set(l,{});const r=jc.get(l),c=JSON.stringify(i);return r[c]||(r[c]=new IntersectionObserver(PA,{root:a,...i})),r[c]}function WA(a,i,l){const r=IA(i);return af.set(a,l),r.observe(a),()=>{af.delete(a),r.unobserve(a)}}const eE={some:0,all:1};class tE extends Aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:l,margin:r,amount:c="some",once:d}=i,f={root:l?l.current:void 0,rootMargin:r,threshold:typeof c=="number"?c:eE[c]},m=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,d&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),S=p?v:b;S&&S(g)};return WA(this.node.current,f,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:l}=this.node;["amount","margin","root"].some(nE(i,l))&&this.startObserver()}unmount(){}}function nE({viewport:a={}},{viewport:i={}}={}){return l=>a[l]!==i[l]}const aE={inView:{Feature:tE},tap:{Feature:JA},focus:{Feature:FA},hover:{Feature:ZA}},iE={layout:{ProjectionNode:dv,MeasureLayout:iv}},sE={...qT,...aE,...QA,...iE},pa=sT(sE,vT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rE=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,l,r)=>r?r.toUpperCase():l.toLowerCase()),pg=a=>{const i=rE(a);return i.charAt(0).toUpperCase()+i.slice(1)},hv=(...a)=>a.filter((i,l,r)=>!!i&&i.trim()!==""&&r.indexOf(i)===l).join(" ").trim(),oE=a=>{for(const i in a)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=C.forwardRef(({color:a="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:c="",children:d,iconNode:f,...m},g)=>C.createElement("svg",{ref:g,...uE,width:i,height:i,stroke:a,strokeWidth:r?Number(l)*24/Number(i):l,className:hv("lucide",c),...!d&&!oE(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,v])=>C.createElement(p,v)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=(a,i)=>{const l=C.forwardRef(({className:r,...c},d)=>C.createElement(cE,{ref:d,iconNode:i,className:hv(`lucide-${lE(pg(a))}`,`lucide-${a}`,r),...c}));return l.displayName=pg(a),l};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],dE=dl("book",fE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],mE=dl("folder-open",hE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],gE=dl("play",pE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vE=dl("settings",yE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bE=dl("sparkles",xE),mv=C.memo(({petalCount:a=30})=>{const i=C.useMemo(()=>Array.from({length:a},(l,r)=>{const c=["small","","large"][Math.floor(Math.random()*3)],d=Math.random()*100,f=Math.random()*10,m=8+Math.random()*7;return{id:r,size:c,style:{left:`${d}%`,animationDelay:`${f}s`,animationDuration:`${m}s`}}}),[a]);return y.jsx("div",{className:"sakura-container",children:i.map(l=>y.jsx("div",{className:`sakura-petal ${l.size}`,style:l.style},l.id))})});mv.displayName="SakuraEffect";const kf="ai_novel_save_",pv="ai_novel_save_index",sf=3,es=()=>{try{const a=localStorage.getItem(pv);return a?JSON.parse(a):{}}catch{return{}}},gv=a=>{localStorage.setItem(pv,JSON.stringify(a))},SE=a=>{const i=es();return i[a]?i[a]:{scriptId:a,slots:Array.from({length:sf},(l,r)=>({slotIndex:r,saveData:null}))}},yv=(a,i,l)=>{if(i<0||i>=sf)throw new Error(`Invalid slot index: ${i}`);const r={...l,id:`${a}_${i}`,timestamp:Date.now()},c=`${kf}${a}_${i}`;localStorage.setItem(c,JSON.stringify(r));const d=es();return d[a]||(d[a]={scriptId:a,slots:Array.from({length:sf},(f,m)=>({slotIndex:m,saveData:null}))}),d[a].slots[i]={slotIndex:i,saveData:r},d[a].lastPlayedSlot=i,gv(d),r},gg=(a,i)=>{try{const l=`${kf}${a}_${i}`,r=localStorage.getItem(l);return r?JSON.parse(r):null}catch{return null}},yg=(a,i)=>{var c;const l=`${kf}${a}_${i}`;localStorage.removeItem(l);const r=es();(c=r[a])!=null&&c.slots[i]&&(r[a].slots[i].saveData=null,gv(r))},TE=()=>{const a=es();return Object.values(a).some(i=>i.slots.some(l=>l.saveData!==null))},AE=()=>{const a=es();let i=null,l=0;return Object.values(a).forEach(r=>{r.slots.forEach(c=>{c.saveData&&c.saveData.timestamp>l&&(l=c.saveData.timestamp,i=c.saveData)})}),i},vg=a=>{const i=new Date(a),l=i.getFullYear(),r=String(i.getMonth()+1).padStart(2,"0"),c=String(i.getDate()).padStart(2,"0"),d=String(i.getHours()).padStart(2,"0"),f=String(i.getMinutes()).padStart(2,"0");return`${l}/${r}/${c} ${d}:${f}`},EE="/stories/02_princess_elena/expressions/smiling.png",vv=C.memo(({hasApiKey:a,isLoading:i,error:l,onStart:r,onErrorClose:c,onOpenScriptLibrary:d,onOpenSettings:f,onContinueGame:m})=>{const[g,p]=C.useState(!1),[v,b]=C.useState(null);C.useEffect(()=>{p(TE()),b(AE())},[]);const S=()=>{v&&m&&m(v)};return y.jsxs("div",{className:"relative w-full h-screen flex items-center overflow-hidden font-sans bg-[#0f172a]",children:[y.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=1920')] bg-cover bg-center opacity-40"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#0f172a] via-[#0f172a]/80 to-transparent"})]}),y.jsx(mv,{petalCount:20}),y.jsxs(pa.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"absolute right-[-10%] md:right-0 bottom-0 w-full md:w-2/3 h-[90%] flex items-end justify-center pointer-events-none z-10",children:[y.jsx("div",{className:"absolute bottom-0 w-[600px] h-[600px] bg-pink-500/10 rounded-full blur-[100px]"}),y.jsx("img",{src:EE,alt:"",className:"h-full w-auto object-contain drop-shadow-[0_0_20px_rgba(0,0,0,0.5)]"})]}),y.jsxs("div",{className:"relative z-20 pl-8 md:pl-24 w-full max-w-5xl flex flex-col items-start justify-center h-full",children:[y.jsxs(pa.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8,type:"spring"},className:"mb-12 relative",children:[y.jsx("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter leading-none text-white drop-shadow-[0_0_15px_rgba(236,72,153,0.6)]",children:y.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-br from-white to-pink-200",children:""})}),y.jsx("h2",{className:"text-2xl md:text-3xl font-bold italic text-pink-400 mt-4 tracking-[0.2em] uppercase",children:"Gala Block Master"}),y.jsx("div",{className:"h-1.5 w-24 bg-pink-500 mt-4 rounded-full shadow-[0_0_10px_rgba(236,72,153,0.8)]"})]}),y.jsxs(pa.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"mb-10 backdrop-blur-md bg-slate-900/40 border-l-4 border-pink-500 rounded-r-xl p-6 max-w-xl shadow-lg",children:[y.jsxs("div",{className:"flex items-center gap-2 text-pink-300 font-bold mb-1 text-lg",children:[y.jsx(bE,{size:18}),y.jsx("span",{children:"AI "})]}),y.jsx("p",{className:"text-slate-200 text-lg font-medium tracking-wide",children:""})]}),a?y.jsxs("div",{className:"flex flex-col gap-5 w-full max-w-md",children:[y.jsxs(pa.button,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.4},whileHover:{scale:1.02,x:10},whileTap:{scale:.98},onClick:d,disabled:i,className:"group relative w-full py-4 px-6 bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 text-white text-left rounded-xl shadow-lg border border-white/10 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),y.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"p-2 bg-white/20 rounded-full",children:i?y.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):y.jsx(dE,{size:24})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xl font-bold",children:" (Select)"}),y.jsx("div",{className:"text-xs text-pink-100 font-mono opacity-80",children:""})]})]}),y.jsx("div",{className:"text-2xl opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-[-10px] group-hover:translate-x-0",children:""})]})]}),g&&v&&y.jsxs(pa.button,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.5},whileHover:{scale:1.02,x:10},whileTap:{scale:.98},onClick:S,disabled:i,className:"group relative w-full py-4 px-6 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white text-left rounded-xl shadow-lg border border-white/10 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),y.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"p-2 bg-white/20 rounded-full",children:y.jsx(gE,{size:24,fill:"currentColor"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xl font-bold",children:" (Continue)"}),y.jsxs("div",{className:"text-xs text-emerald-100 font-mono opacity-80",children:[v.scriptTitle,"  ",v.chapterIndex+1,""]})]})]}),y.jsx("div",{className:"text-2xl opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-[-10px] group-hover:translate-x-0",children:""})]})]}),y.jsx(pa.button,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:g?.6:.5},whileHover:{scale:1.02,x:10},whileTap:{scale:.98},onClick:r,disabled:i||!g,className:`group relative w-full py-4 px-6 backdrop-blur-md text-white text-left rounded-xl shadow-lg border overflow-hidden transition-colors
              ${g?"bg-slate-800/60 hover:bg-slate-700/80 border-white/10 hover:border-cyan-400/50":"bg-slate-800/30 border-slate-700/30 cursor-not-allowed opacity-50"}`,children:y.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[y.jsx("div",{className:"p-2 bg-slate-700/50 rounded-full group-hover:bg-cyan-900/50 transition-colors",children:y.jsx(mE,{size:24,className:"text-slate-300 group-hover:text-cyan-300"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-lg font-bold text-slate-200 group-hover:text-white",children:" (Load)"}),y.jsx("div",{className:"text-xs text-slate-400 font-mono group-hover:text-cyan-200",children:g?"":""})]})]})}),y.jsx(pa.button,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.6},whileHover:{scale:1.02,x:10},whileTap:{scale:.98},onClick:f,disabled:i,className:"group relative w-full py-4 px-6 bg-slate-800/40 hover:bg-slate-700/60 backdrop-blur-md text-white text-left rounded-xl shadow-lg border border-white/5 hover:border-purple-400/50 overflow-hidden transition-colors",children:y.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[y.jsx("div",{className:"p-2 bg-slate-700/30 rounded-full group-hover:bg-purple-900/30 transition-colors",children:y.jsx(vE,{size:24,className:"text-slate-400 group-hover:text-purple-300"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-lg font-bold text-slate-300 group-hover:text-white",children:" (Settings)"}),y.jsx("div",{className:"text-xs text-slate-500 font-mono group-hover:text-purple-200",children:""})]})]})})]}):y.jsxs("div",{className:"p-6 bg-red-900/80 border-l-4 border-red-500 rounded-r-lg text-white mb-8 backdrop-blur-md max-w-lg",children:[y.jsx("h3",{className:"font-bold text-xl mb-2 flex items-center gap-2",children:" "}),y.jsxs("p",{children:[" ","VITE_OPENROUTER_API_KEY"," "]})]}),y.jsxs(pa.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-10 text-slate-500/60 text-xs font-mono tracking-widest uppercase",children:["Powered by ","Gemini 2.5 (OpenRouter)","  GALA ENGINE V3.0"]})]}),y.jsx(rf,{isLoading:i}),y.jsx(of,{error:l,onClose:c}),y.jsx("style",{children:`
      .text-outline {
        text-shadow: 
          -1px -1px 0 #000,  
           1px -1px 0 #000,
          -1px  1px 0 #000,
           1px  1px 0 #000;
      }
    `})]})});vv.displayName="MainMenu";const xv="gala_game_records",bv=()=>{try{const a=localStorage.getItem(xv);if(a)return JSON.parse(a)}catch(a){console.error("Failed to load game records:",a)}return[]},CE=a=>bv().filter(i=>i.scriptId===a),DE=a=>{const i=CE(a);return i.length===0?null:i.sort((r,c)=>{const d={good:3,normal:2,bad:1},f=d[c.endingType]-d[r.endingType];return f!==0?f:c.finalAffection-r.finalAffection})[0]},NE=a=>{const i={...a,id:`record_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,completedAt:Date.now()},l=bv();return l.push(i),localStorage.setItem(xv,JSON.stringify(l)),i},Sv=a=>a>=70?"good":a>=40?"normal":"bad",Tv=a=>{switch(a){case"good":return" ";case"normal":return" ";case"bad":return" "}},Av=C.memo(({narrative:a,affection:i,turnsPlayed:l,characterName:r,onReturnToTitle:c})=>{const d=Sv(i),f=Tv(d),m=d==="good"?"from-pink-900/50 via-black to-purple-900/50":d==="normal"?"from-blue-900/50 via-black to-slate-900/50":"from-red-900/50 via-black to-slate-900/50";return y.jsxs("div",{className:`relative w-full h-screen bg-gradient-to-br ${m} flex flex-col items-center justify-center text-center p-8`,children:[y.jsx("div",{className:`text-6xl mb-4 ${d==="good"?"animate-pulse":""}`,children:d==="good"?"":d==="normal"?"":""}),y.jsx("h1",{className:"text-5xl text-white font-serif mb-2",children:""}),y.jsx("p",{className:`text-2xl mb-6 font-bold ${d==="good"?"text-pink-400":d==="normal"?"text-blue-400":"text-red-400"}`,children:f}),y.jsxs("p",{className:"text-slate-400 mb-8 italic max-w-lg",children:['"',a,'"']}),y.jsx("div",{className:"bg-slate-900/50 rounded-xl p-6 mb-8 border border-slate-700",children:y.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-pink-400",children:i}),y.jsx("div",{className:"text-sm text-slate-500",children:""})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-amber-400",children:l}),y.jsx("div",{className:"text-sm text-slate-500",children:""})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-purple-400",children:r}),y.jsx("div",{className:"text-sm text-slate-500",children:""})]})]})}),y.jsx("button",{onClick:c,className:"px-8 py-3 bg-gradient-to-r from-pink-600 to-purple-600 text-white rounded-full font-bold hover:opacity-90 transition-opacity",children:" "})]})});Av.displayName="GameOverScreen";const Yf=C.memo(()=>{const{theme:a,setTheme:i,availableThemes:l}=Kr();return y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("label",{className:"text-white/80 text-sm font-medium",children:" UI"}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.map(r=>y.jsx("button",{onClick:()=>i(r),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${a===r?"ring-2 ring-pink-500 ring-offset-2 ring-offset-slate-900":"hover:bg-white/10"}`,style:{background:ki[r].dialogueBox.background,border:ki[r].dialogueBox.border,color:ki[r].dialogueBox.textColor},children:ki[r].name},r))})]})});Yf.displayName="ThemeSwitcher";const Ev=C.memo(({isVisible:a,dialogueOpacity:i,onResume:l,onReturnToTitle:r,onOpacityChange:c,onSave:d,onLoad:f,onQuickSaveAndExit:m,canSave:g=!0})=>a?y.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-slate-800/95 rounded-2xl shadow-2xl p-8 w-full max-w-md border border-slate-700",children:[y.jsx("h2",{className:"text-3xl font-bold text-center text-amber-400 mb-8",children:" "}),y.jsxs("div",{className:"mb-6 p-4 bg-slate-900/50 rounded-xl",children:[y.jsxs("label",{className:"block text-slate-300 mb-3 font-medium",children:[" : ",i,"%"]}),y.jsx("input",{type:"range",min:"30",max:"100",value:i,onChange:p=>c(Number(p.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-amber-500"}),y.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[y.jsx("span",{children:""}),y.jsx("span",{children:""})]})]}),y.jsx("div",{className:"mb-8 p-4 bg-slate-900/50 rounded-xl",children:y.jsx(Yf,{})}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("button",{onClick:l,className:"w-full py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl font-bold text-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:" "}),y.jsxs("div",{className:"flex gap-3",children:[d&&y.jsx("button",{onClick:d,disabled:!g,className:`flex-1 py-3 rounded-xl font-bold text-lg transition-opacity flex items-center justify-center gap-2
                  ${g?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:opacity-90":"bg-slate-700 text-slate-400 cursor-not-allowed"}`,children:" "}),f&&y.jsx("button",{onClick:f,className:"flex-1 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 text-white rounded-xl font-bold text-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:" "})]}),m&&g&&y.jsx("button",{onClick:m,className:"w-full py-3 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-xl font-bold text-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:" "}),y.jsx("button",{onClick:r,className:"w-full py-4 bg-gradient-to-r from-slate-600 to-slate-700 text-white rounded-xl font-bold text-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:" "})]})]})}):null);Ev.displayName="PauseMenu";const Cv=C.memo(({isVisible:a,history:i,onClose:l,onJumpToHistory:r,canJump:c=!1})=>{const[d,f]=C.useState(null),m=C.useRef(null);C.useEffect(()=>{a&&m.current&&(m.current.scrollTop=m.current.scrollHeight),f(null)},[a]);const g=p=>{d===p?(r==null||r(p),l()):f(p)};return a?y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-slate-800/95 rounded-2xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col border border-slate-700",children:[y.jsxs("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between",children:[y.jsx("h2",{className:"text-2xl font-bold text-amber-400 flex items-center gap-2",children:" "}),y.jsx("button",{onClick:l,className:"w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-600 transition-colors",children:""})]}),y.jsx("div",{ref:m,className:"flex-1 overflow-y-auto p-6 space-y-4",children:i.length===0?y.jsx("div",{className:"text-center text-slate-500 py-8",children:""}):i.map((p,v)=>{const b=c&&p.historyChapterIndex!==void 0&&v<i.length-1,S=d===v;return y.jsxs("div",{className:"space-y-2 group relative",children:[p.narrative&&y.jsx("div",{className:"text-slate-400 text-sm italic px-4 py-2 bg-slate-900/50 rounded-lg",children:p.narrative}),y.jsxs("div",{className:`flex gap-3 ${p.speaker===""?"flex-row-reverse":""}`,children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg shrink-0 ${p.speaker===""?"bg-blue-600":p.speaker===""?"bg-slate-600":"bg-pink-600"}`,children:p.speaker===""?"":p.speaker===""?"":""}),y.jsxs("div",{className:`flex-1 max-w-[80%] ${p.speaker===""?"text-right":""}`,children:[y.jsx("div",{className:"text-xs text-slate-500 mb-1",children:p.speaker}),y.jsx("div",{className:`inline-block px-4 py-3 rounded-2xl ${p.speaker===""?"bg-blue-600 text-white rounded-tr-none":p.speaker===""?"bg-slate-700 text-slate-300 rounded-tl-none":"bg-pink-600/20 text-pink-100 border border-pink-500/30 rounded-tl-none"}`,children:p.dialogue})]}),b&&y.jsx("button",{onClick:()=>g(v),className:`shrink-0 px-3 py-1 rounded-lg text-xs font-medium transition-all
                          ${S?"bg-amber-500 text-white":"bg-slate-700/50 text-slate-400 opacity-0 group-hover:opacity-100 hover:bg-slate-600 hover:text-white"}`,children:S?"?":" "})]})]},v)})}),y.jsx("div",{className:"p-4 border-t border-slate-700",children:y.jsx("button",{onClick:l,className:"w-full py-3 bg-slate-700 text-slate-300 rounded-xl font-medium hover:bg-slate-600 transition-colors",children:""})})]})}):null});Cv.displayName="HistoryPanel";const Dv=C.memo(({ending:a,affection:i,turnsPlayed:l,characterName:r,scriptTitle:c,onReturnToTitle:d})=>{const f=a.type==="true_end",m=f?"from-rose-900/60 via-black to-amber-900/40":"from-blue-900/50 via-black to-slate-900/50";return y.jsxs("div",{className:`relative w-full h-screen bg-gradient-to-br ${m} flex flex-col items-center justify-center text-center p-8 overflow-hidden`,children:[y.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:f&&y.jsx(y.Fragment,{children:Array.from({length:20}).map((g,p)=>y.jsx("div",{className:"absolute w-2 h-2 bg-amber-400/30 rounded-full animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${5+Math.random()*5}s`}},p))})}),y.jsx("div",{className:`text-8xl mb-6 ${f?"animate-pulse":""}`,children:f?"":""}),y.jsx("p",{className:"text-amber-400/80 text-sm mb-2 tracking-widest uppercase",children:c}),y.jsx("h1",{className:"text-5xl text-white font-serif mb-4 drop-shadow-lg",children:a.title}),y.jsx("div",{className:`px-4 py-1 rounded-full text-sm font-bold mb-6 ${f?"bg-gradient-to-r from-amber-500 to-rose-500 text-white":"bg-slate-700 text-slate-300"}`,children:f?" TRUE END":"NORMAL END"}),y.jsx("div",{className:"max-w-md mb-8 space-y-2",children:a.description.split(`
`).map((g,p)=>y.jsx("p",{className:"text-slate-300 text-lg",children:g},p))}),y.jsx("div",{className:"bg-black/40 backdrop-blur-sm rounded-2xl p-6 mb-8 border border-white/10",children:y.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"text-3xl font-bold text-rose-400",children:[" ",i]}),y.jsx("div",{className:"text-xs text-slate-500 mt-1",children:""})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-amber-400",children:l}),y.jsx("div",{className:"text-xs text-slate-500 mt-1",children:""})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-purple-400",children:r}),y.jsx("div",{className:"text-xs text-slate-500 mt-1",children:""})]})]})}),y.jsx("button",{onClick:d,className:"px-10 py-4 bg-gradient-to-r from-rose-600 to-amber-600 text-white rounded-full font-bold text-lg hover:scale-105 transition-transform shadow-lg shadow-rose-900/50",children:" "}),y.jsx("p",{className:"absolute bottom-4 text-slate-600 text-xs",children:" "})]})});Dv.displayName="ScriptEndingScreen";const kr="gala_script_library",Nv="gala_generated_plots",qf="gala_script_mode_overrides",_E=["default","preset_tsundere","preset_princess","preset_courtesan"],ME={id:"preset_tsundere",name:" ",description:"",plotFramework:"",character:{name:"",personality:"",appearance:"",relationship:""},setting:"",createdAt:Date.now(),updatedAt:Date.now()},wE={id:"preset_princess",name:" ",description:"",plotFramework:"",character:{name:"",personality:"",appearance:"S",relationship:""},setting:"",createdAt:Date.now(),updatedAt:Date.now()},jE={id:"preset_courtesan",name:" ",description:"",plotFramework:"",character:{name:"",personality:"",appearance:"",relationship:""},setting:"",createdAt:Date.now(),updatedAt:Date.now()},xg=[ME,wE,jE],Fi=a=>_E.includes(a),Xf=()=>{try{const a=localStorage.getItem(qf);return a?JSON.parse(a):{}}catch{return{}}},OE=(a,i)=>{const l=Xf();l[a]=!0,localStorage.setItem(qf,JSON.stringify(l))},RE=a=>{const i=Xf();delete i[a],localStorage.setItem(qf,JSON.stringify(i))},Kf=()=>{try{const a=localStorage.getItem(Nv);return a?JSON.parse(a):{}}catch{return{}}},zE=(a,i)=>{const l=Kf();l[a]=i,localStorage.setItem(Nv,JSON.stringify(l))},bg=a=>{const i=Kf();return!!i[a]&&i[a].length>100},va=()=>{try{const a=localStorage.getItem(kr);let i=[];a&&(i=JSON.parse(a),i=i.filter(f=>!Fi(f.id)));const l=Xf(),r=Kf(),c=xg.map(f=>({...f,plotFramework:r[f.id]||f.plotFramework,useAIMode:l[f.id]})),d=i.map(f=>({...f,useAIMode:f.useAIMode??l[f.id]}));return[...c,...d]}catch(a){console.error("Failed to load scripts:",a)}return[...xg]},_v=a=>{const i=va(),l=i.findIndex(r=>r.id===a.id);l>=0?i[l]={...a,updatedAt:Date.now()}:i.push({...a,createdAt:Date.now(),updatedAt:Date.now()}),localStorage.setItem(kr,JSON.stringify(i))},BE=_v,VE=a=>{if(Fi(a))return!1;const i=localStorage.getItem(kr);if(!i)return!1;const r=JSON.parse(i).filter(c=>c.id!==a);return localStorage.setItem(kr,JSON.stringify(r)),!0},LE=(a,i,l,r,c="",d)=>{const f={id:`script_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:a,description:c,plotFramework:l,character:i,setting:r,createdAt:Date.now(),updatedAt:Date.now(),useAIMode:d};return _v(f),f},UE=(a,i)=>`

${a.name}
${a.personality}
${a.appearance}
${a.relationship}
${i}

100`,GE="modulepreload",HE=function(a){return"/ai_novel/"+a},Sg={},kE=function(i,l,r){let c=Promise.resolve();if(l&&l.length>0){let f=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));c=f(l.map(p=>{if(p=HE(p),p in Sg)return;Sg[p]=!0;const v=p.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":GE,v||(S.as="script"),S.crossOrigin="",S.href=p,g&&S.setAttribute("nonce",g),document.head.appendChild(S),v)return new Promise((M,z)=>{S.addEventListener("load",M),S.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&d(m.reason);return i().catch(d)})},Mv=()=>"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",YE=`
Galgame
15-40



 - 
1. "...""..."
2. 
3. ""
4. 
5. Narrative


1. dialogueSequence  15-40 
2. 
3. 
4. 
5. 2-3


neutral() | happy() | sad() | angry() | blush() | surprised() | shy() | fear()

 - 
: school_rooftop() | classroom() | school_gate() | school_corridor() | library() | street_sunset() | riverside() | convenience_store() | cafe() | park_night() | train_station() | bedroom()
: palace_hall() | palace_garden() | palace_balcony() | castle_corridor() | royal_bedroom() | training_ground() | abandoned_garden()

 JSON 
{
  "narrative": "",
  "background": "",
  "bgm": "daily|happy|sad|tense|romantic|mysterious",
  "dialogueSequence": [
    {"speaker": "||", "dialogue": "", "expression": ""}
  ],
  "affectionChange": 0,
  "isGameOver": false,
  "choices": [{"text": "", "sentiment": "positive|neutral|negative"}]
}
`,wv=async a=>null,jv=async a=>{throw new Error("Plot framework generation not supported for OpenRouter yet")};let Yr=null,zt=null;const Ov=(a,i,l,r)=>{zt={name:a,personality:i,setting:l},Yr=`

${a}
${i}
${l}
${r}

""

 JSON 

: school_rooftop, classroom, school_gate, school_corridor, library, street_sunset, riverside, convenience_store, cafe, park_night, train_station, bedroom
: palace_hall, palace_garden, palace_balcony, castle_corridor, royal_bedroom, training_ground, abandoned_garden
neutral, happy, sad, angry, blush, surprised, shy, fear
 BGM daily, happy, sad, tense, romantic, mysterious


1. narrative 
2. speaker "${a}"""""
3. dialogue 
4. affectionChange  -5  +5
5.  2-3 
6.  isGameOver  true
7.  15-40 
`},Rv=()=>{Yr=null,zt=null},ba=a=>{var i,l;return{...a,narrative:a.narrative?wr(a.narrative):a.narrative,dialogueSequence:((i=a.dialogueSequence)==null?void 0:i.map(r=>({...r,dialogue:wr(r.dialogue)})))||[],choices:((l=a.choices)==null?void 0:l.map(r=>({...r,text:wr(r.text)})))||[]}};let ya=[];const Qf=async(a,i=!1)=>qE(a,i),qE=async(a,i=!1)=>{var p,v,b;const l=Mv();i&&(ya=[]);const c=[{role:"system",content:Yr?Yr.replace(`
1. narrative `,`
1.  15-40 dialogueSequence
2. 
3. narrative `):YE},...ya,{role:"user",content:a}],d=await fetch(`${Mg}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"AI Novel Game"},body:JSON.stringify({model:wg,messages:c,temperature:x1,response_format:{type:"json_object"}})});if(!d.ok){const S=await d.text();throw console.error("OpenRouter API error:",d.status,S),new Error(`OpenRouter API error: ${d.status}`)}const m=(b=(v=(p=(await d.json()).choices)==null?void 0:p[0])==null?void 0:v.message)==null?void 0:b.content;if(!m)throw new Error("Empty response from OpenRouter");ya.push({role:"user",content:a}),ya.push({role:"assistant",content:m}),ya.length>20&&(ya=ya.slice(-16));let g;try{g=JSON.parse(m)}catch{throw console.error("Failed to parse JSON:",m),new Error("Failed to parse JSON response from OpenRouter")}if(!g.dialogueSequence||!Array.isArray(g.dialogueSequence))throw new Error("Invalid dialogueSequence in response");return(!g.choices||!Array.isArray(g.choices)||g.choices.length===0)&&(console.warn("[OpenRouter] choices"),g.choices=[{text:"",sentiment:"positive"},{text:"",sentiment:"neutral"},{text:"",sentiment:"neutral"}]),console.log(`[OpenRouter]  ${g.dialogueSequence.length}  ${g.choices.length} `),ba(g)},qr=async(a,i)=>{const l=(zt==null?void 0:zt.name)||"";let r="";i==="positive"?r=`${l}`:i==="negative"?r=`${l}`:r=`${l}`;const c=`

"${a}"
${i}

${r}


1. 15-40
2. 
3. 
4. 
5. 
6. 2-3

`;return Qf(c,!1)},Xr=async()=>{const a=(zt==null?void 0:zt.name)||"",i=(zt==null?void 0:zt.personality)||"",l=(zt==null?void 0:zt.setting)||"",r=`

${a}
${i}  
${l}

${a}


1. 15-40
2. 
3. 
4. 
5. 
6. 3

`;return Qf(r,!0)},zv=()=>{ya=[]},Bv=async(a,i,l,r,c,d)=>{d==null||d("...");const f=`


- ${a}
- ${i}
- ${l}
- ${r}
- ${c}


1.  8-10 
2.  400-600  4000-5000 
3. ///HE
4. 
5.  2-3 
6. 
7. 



...


...

1xxx
2xxx
3xxx

...

`;try{if(v1!=="gemini")return await XE(f,d)}catch(m){throw console.error(":",m),m}};async function XE(a,i){var f,m,g;const l=Mv();i==null||i(" OpenRouter API...");const r=await fetch(`${Mg}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`,"HTTP-Referer":window.location.origin,"X-Title":"AI Visual Novel"},body:JSON.stringify({model:wg,messages:[{role:"user",content:a}],temperature:.8,max_tokens:8192})});if(!r.ok)throw new Error(`OpenRouter API : ${r.status}`);const d=((g=(m=(f=(await r.json()).choices)==null?void 0:f[0])==null?void 0:m.message)==null?void 0:g.content)||"";return i==null||i(""),d}const KE=Object.freeze(Object.defineProperty({__proto__:null,cleanBatchDialogueData:ba,generateBatchDialogue:Qf,generateBranchDialogue:qr,generateFullPlot:Bv,generatePlotFramework:jv,generateSpeech:wv,resetBatchHistory:zv,resetToDefaultScript:Rv,setCustomScript:Ov,startNewGameBatch:Xr},Symbol.toStringTag,{value:"Module"})),Zf=C.memo(({onSave:a,onCancel:i,onGeneratePlot:l,initialScript:r,isEditing:c=!1})=>{const[d,f]=C.useState((r==null?void 0:r.name)||""),[m,g]=C.useState((r==null?void 0:r.description)||""),[p,v]=C.useState(!1),[b,S]=C.useState((r==null?void 0:r.useAIMode)??!0),M=c&&r?Fi(r.id):!1,z=c?!M:!0,[Y,B]=C.useState((r==null?void 0:r.setting)||""),[H,Q]=C.useState((r==null?void 0:r.plotFramework)||""),[X,k]=C.useState(!1),[q,ne]=C.useState((r==null?void 0:r.character)||{name:"",personality:"",appearance:"",relationship:""}),Z=(ie,we)=>{ne(Ae=>({...Ae,[ie]:we}))},I=async()=>{if(!q.name||!q.personality){alert("");return}k(!0);try{const ie=UE(q,Y),we=await l(ie);Q(we)}catch(ie){console.error(":",ie),alert("")}finally{k(!1)}},oe=async()=>{if(!d.trim()){alert("");return}if(!q.name.trim()){alert("");return}v(!0);try{if(c&&r){const ie={name:d,description:m,plotFramework:H,useAIMode:b};M||(ie.setting=Y,ie.character=q);const we={...r,...ie};BE(we),a(we)}else{const ie=LE(d,q,H,Y,m,b);a(ie)}}catch(ie){console.error(":",ie),alert("")}finally{v(!1)}};return y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"p-6 border-b border-slate-700",children:[y.jsx("h2",{className:"text-2xl font-bold text-amber-400",children:c?" ":" "}),y.jsx("p",{className:"text-slate-400 mt-1",children:c?M?"":"":""})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-slate-200 flex items-center gap-2",children:" "}),y.jsx("input",{type:"text",placeholder:" *",value:d,onChange:ie=>f(ie.target.value),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-slate-100 placeholder-slate-400 focus:outline-none focus:border-amber-500"}),y.jsx("input",{type:"text",placeholder:"",value:m,onChange:ie=>g(ie.target.value),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-slate-100 placeholder-slate-400 focus:outline-none focus:border-amber-500"}),y.jsx("input",{type:"text",placeholder:"",value:Y,onChange:ie=>B(ie.target.value),disabled:M,className:`w-full px-4 py-3 border rounded-lg placeholder-slate-400 focus:outline-none focus:border-amber-500 ${M?"bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed":"bg-slate-700 border-slate-600 text-slate-100"}`}),M&&y.jsx("p",{className:"text-xs text-slate-500",children:""}),!c&&y.jsxs("div",{className:"mt-4 p-4 bg-slate-900/50 rounded-lg border border-slate-700",children:[y.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:""}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("label",{className:`flex-1 cursor-pointer rounded-lg border-2 p-3 transition-all ${b?"border-amber-500 bg-amber-500/10":"border-slate-600 bg-slate-800/50 hover:border-slate-500"}`,children:[y.jsx("input",{type:"radio",name:"gameMode",checked:b,onChange:()=>S(!0),className:"sr-only"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg",children:""}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-slate-200",children:"AI "}),y.jsx("p",{className:"text-xs text-slate-400",children:"AI "})]})]})]}),y.jsxs("label",{className:`flex-1 cursor-pointer rounded-lg border-2 p-3 transition-all ${b?"border-slate-600 bg-slate-800/50 hover:border-slate-500":"border-cyan-500 bg-cyan-500/10"}`,children:[y.jsx("input",{type:"radio",name:"gameMode",checked:!b,onChange:()=>S(!1),className:"sr-only"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg",children:""}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-slate-200",children:""}),y.jsx("p",{className:"text-xs text-slate-400",children:""})]})]})]})]}),y.jsx("p",{className:"text-xs text-slate-500 mt-2",children:b?" AI ":" "})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"text-lg font-semibold text-slate-200 flex items-center gap-2",children:[" ",!z&&y.jsx("span",{className:"text-sm text-slate-400 font-normal",children:""})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{type:"text",placeholder:" *",value:q.name,onChange:ie=>Z("name",ie.target.value),disabled:!z,className:`px-4 py-3 border rounded-lg placeholder-slate-400 focus:outline-none focus:border-amber-500 ${z?"bg-slate-700 border-slate-600 text-slate-100":"bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed"}`}),y.jsx("input",{type:"text",placeholder:"",value:q.relationship,onChange:ie=>Z("relationship",ie.target.value),disabled:!z,className:`px-4 py-3 border rounded-lg placeholder-slate-400 focus:outline-none focus:border-amber-500 ${z?"bg-slate-700 border-slate-600 text-slate-100":"bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed"}`})]}),y.jsx("textarea",{placeholder:"",value:q.personality,onChange:ie=>Z("personality",ie.target.value),rows:2,disabled:!z,className:`w-full px-4 py-3 border rounded-lg placeholder-slate-400 focus:outline-none focus:border-amber-500 resize-none ${z?"bg-slate-700 border-slate-600 text-slate-100":"bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed"}`}),y.jsx("textarea",{placeholder:"AI",value:q.appearance,onChange:ie=>Z("appearance",ie.target.value),rows:2,disabled:!z,className:`w-full px-4 py-3 border rounded-lg placeholder-slate-400 focus:outline-none focus:border-amber-500 resize-none ${z?"bg-slate-700 border-slate-600 text-slate-100":"bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed"}`})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-semibold text-slate-200 flex items-center gap-2",children:" "}),y.jsx("button",{onClick:I,disabled:X,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center gap-2",children:X?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"..."]}):y.jsx(y.Fragment,{children:" AI "})})]}),y.jsx("textarea",{placeholder:" AI ...",value:H,onChange:ie=>Q(ie.target.value),rows:4,className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-slate-100 placeholder-slate-400 focus:outline-none focus:border-amber-500 resize-none"})]})]}),y.jsxs("div",{className:"p-6 border-t border-slate-700 flex justify-end gap-4",children:[y.jsx("button",{onClick:i,className:"px-6 py-3 bg-slate-700 text-slate-300 rounded-lg font-medium hover:bg-slate-600 transition-colors",children:""}),y.jsx("button",{onClick:oe,disabled:p,className:"px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-lg font-bold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:p?"...":c?" ":" "})]})]})})});Zf.displayName="ScriptEditor";const QE={NEUTRAL:Se.NEUTRAL,HAPPY:Se.HAPPY,SAD:Se.SAD,ANGRY:Se.ANGRY,BLUSH:Se.BLUSH,SURPRISED:Se.SURPRISED,SHY:Se.SHY,FEAR:Se.FEAR},ZE={PALACE_GARDEN:Te.PALACE_GARDEN,PALACE_HALL:Te.PALACE_HALL,PALACE_BALCONY:Te.PALACE_BALCONY,CASTLE_CORRIDOR:Te.CASTLE_CORRIDOR,ROYAL_BEDROOM:Te.ROYAL_BEDROOM,TRAINING_GROUND:Te.TRAINING_GROUND,ABANDONED_GARDEN:Te.ABANDONED_GARDEN,SCHOOL_ROOFTOP:Te.SCHOOL_ROOFTOP,CLASSROOM:Te.CLASSROOM,SCHOOL_GATE:Te.SCHOOL_GATE},FE={romantic:pt.ROMANTIC,peaceful:pt.DAILY,melancholy:pt.SAD,dramatic:pt.TENSE,intense:pt.TENSE,mysterious:pt.MYSTERIOUS,happy:pt.HAPPY},Vv={preset_princess:"/stories/02_princess_elena/script/chapters.json",preset_tsundere:"/stories/01_tsundere_wenxi/script/chapters.json",preset_courtesan:"/stories/03_courtesan_liuruyan/script/chapters.json"},Oc={},Br=a=>a in Vv,Tg=async a=>{if(Oc[a])return Oc[a];const i=Vv[a];if(!i)return console.warn(`: ${a}`),null;try{const l=await fetch(i);if(!l.ok)throw new Error(`: ${l.status}`);const r=await l.json();return Oc[a]=r,r}catch(l){return console.error(":",l),null}},JE=(a,i,l,r)=>{let c;return a.type==="cg"&&a.cg&&(c=`/stories/${l==="preset_princess"?"02_princess_elena":l==="preset_tsundere"?"01_tsundere_wenxi":"03_courtesan_liuruyan"}/cg/${a.cg}`),{...{narrative:a.type==="cg"||a.speaker===""?a.text:"",speaker:a.speaker===""||a.speaker===""||a.type==="cg"?a.speaker||"":a.speaker||"",dialogue:a.speaker!==""&&a.type!=="cg"?a.text:"",expression:QE[a.expression||"NEUTRAL"]||Se.NEUTRAL,background:ZE[i.background]||Te.PALACE_GARDEN,bgm:FE[i.bgm]||pt.DAILY,choices:r||[],affectionChange:0,isGameOver:!1},cgImage:c,isCG:a.type==="cg"}},_r=(a,i,l)=>{const r=a.chapters[i];if(!r)return[];let c=Se.NEUTRAL;return r.dialogues.map((d,f)=>{const g=f===r.dialogues.length-1&&r.choices?r.choices.map(b=>({text:b.text,sentiment:b.sentiment})):[],p=JE(d,r,l,g);return d.speaker!==""&&d.speaker!==""&&d.type!=="cg"?c=p.expression:p.expression=c,p})},$E=(a,i,l)=>{var c;const r=a.chapters[i];return(c=r==null?void 0:r.choices)!=null&&c[l]?r.choices[l].affectionChange:0},Ag=(a,i)=>{const l=a.chapters[i];return(l==null?void 0:l.ending)||null},PE={:"/stories/01_tsundere_wenxi/expressions/wenxi_neutral.png",:"/stories/02_princess_elena/expressions/smiling.png",:"/stories/01_tsundere_wenxi/expressions/wenxi_neutral.png"},IE=a=>PE[a]||"/stories/01_tsundere_wenxi/expressions/wenxi_neutral.png",Lv=C.memo(({isVisible:a,onClose:i,onSelectScript:l,onCreateNew:r})=>{const[c,d]=C.useState([]),[f,m]=C.useState(null),[g,p]=C.useState(null),[v,b]=C.useState(!1),[S,M]=C.useState(new Set),[z,Y]=C.useState(new Set),[B,H]=C.useState(null),[Q,X]=C.useState("all"),k=C.useCallback(K=>K.useAIMode===!0?"ai":Br(K.id)?"script":"ai",[]),q=C.useCallback((K,N)=>{N.stopPropagation(),k(K)==="script"?confirm(` AI  AI 



`)&&(OE(K.id),d(va())):Br(K.id)?(RE(K.id),d(va())):alert(" AI ")},[k]),ne=c.filter(K=>Q==="all"?!0:k(K)===Q);C.useEffect(()=>{if(a){const K=va();d(K);const N=new Set;K.forEach(V=>{bg(V.id)&&N.add(V.id)}),Y(N)}},[a]);const Z=C.useCallback(async(K,N)=>{if(N.stopPropagation(),B!=null&&B.isGenerating){alert("...");return}if(!(bg(K.id)&&!confirm(""))){H({scriptId:K.id,status:"...",isGenerating:!0});try{const V=await Bv(K.character.name,K.character.personality,K.character.appearance,K.character.relationship,K.setting,$=>{H(ce=>ce?{...ce,status:$}:null)});zE(K.id,V),Y($=>new Set([...$,K.id])),d(va()),H({scriptId:K.id,status:" ",isGenerating:!1}),setTimeout(()=>{H(null)},2e3)}catch(V){console.error(":",V),H({scriptId:K.id,status:` : ${V instanceof Error?V.message:""}`,isGenerating:!1}),setTimeout(()=>{H(null)},3e3)}}},[B]),I=(K,N)=>{if(N.stopPropagation(),Fi(K)){alert("~");return}confirm("")&&(VE(K),d(va()),f===K&&m(null))},oe=K=>{m(K.id)},ie=()=>{const K=c.find(N=>N.id===f);K&&l(K)},we=(K,N)=>{N.stopPropagation(),p(K),b(!0)},Ae=K=>{d(va()),b(!1),p(null)},ct=()=>{b(!1),p(null)},de=(K,N)=>{N.stopPropagation();const V=new Set(S);V.has(K)?V.delete(K):V.add(K),M(V)};return a?y.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[y.jsxs("div",{className:"bg-slate-800/95 rounded-2xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col border border-slate-700",children:[y.jsxs("div",{className:"p-6 border-b border-slate-700",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-2xl font-bold text-amber-400 flex items-center gap-2",children:" "}),y.jsx("button",{onClick:i,className:"w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-600 transition-colors",children:""})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-400 text-sm",children:""}),y.jsx("button",{onClick:()=>X("all"),className:`px-3 py-1 text-sm rounded-full transition-colors ${Q==="all"?"bg-purple-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:""}),y.jsx("button",{onClick:()=>X("script"),className:`px-3 py-1 text-sm rounded-full transition-colors ${Q==="script"?"bg-cyan-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:" "}),y.jsx("button",{onClick:()=>X("ai"),className:`px-3 py-1 text-sm rounded-full transition-colors ${Q==="ai"?"bg-amber-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:" AI "})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:ne.length===0?y.jsx("div",{className:"text-center py-8 text-slate-500",children:""}):ne.map(K=>y.jsxs("div",{onClick:()=>oe(K),className:`p-4 rounded-xl cursor-pointer transition-all border-2 ${f===K.id?"bg-amber-600/20 border-amber-500":"bg-slate-700/50 border-transparent hover:bg-slate-700"}`,children:[y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"flex-shrink-0 w-20 h-24 rounded-lg overflow-hidden bg-gradient-to-b from-pink-500/20 to-purple-500/20 border border-slate-600",children:y.jsx("img",{src:IE(K.character.name),alt:K.character.name,className:"w-full h-full object-cover object-top"})}),y.jsx("div",{className:"flex-1 min-w-0",children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.jsx("h3",{className:"text-lg font-bold text-slate-100",children:K.name}),Fi(K.id)&&y.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-pink-600 to-purple-600 text-xs rounded-full text-white",children:""}),(()=>{const N=k(K),V=Br(K.id);return y.jsxs("button",{onClick:$=>q(K,$),className:`px-2 py-0.5 text-xs rounded-full text-white transition-all ${N==="script"?"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500":"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500"} ${V?"cursor-pointer":"cursor-default"}`,title:V?`${N==="script"?"":"AI"}`:"AI",children:[N==="script"?" ":" AI",V&&" "]})})(),(()=>{const N=DE(K.id);return N?y.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${N.endingType==="good"?"bg-green-600":N.endingType==="normal"?"bg-yellow-600":"bg-red-600"} text-white`,children:Tv(N.endingType)}):null})()]}),K.description&&y.jsx("p",{className:"text-sm text-slate-400 mt-1",children:K.description}),y.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500",children:[y.jsxs("span",{children:[" ",K.character.name]}),y.jsxs("span",{children:[" ",K.setting]})]})]}),y.jsxs("div",{className:"flex gap-1 items-center flex-wrap",children:[(B==null?void 0:B.scriptId)===K.id?y.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${B.isGenerating?"bg-purple-600/30 text-purple-400 animate-pulse":B.status.includes("")?"bg-green-600/30 text-green-400":"bg-red-600/30 text-red-400"}`,children:B.status}):z.has(K.id)?y.jsx("span",{className:"px-2 py-1 text-xs bg-emerald-600/30 text-emerald-400 rounded-full flex items-center gap-1",children:" "}):y.jsx("button",{onClick:N=>Z(K,N),className:"px-2 py-1 text-xs bg-purple-600/30 text-purple-400 rounded-full hover:bg-purple-600/50 transition-colors flex items-center gap-1",title:"5000",children:" "}),y.jsx("button",{onClick:N=>we(K,N),className:"p-2 text-slate-500 hover:text-amber-400 transition-colors",title:"",children:""}),!Fi(K.id)&&y.jsx("button",{onClick:N=>I(K.id,N),className:"p-2 text-slate-500 hover:text-red-400 transition-colors",title:"",children:""})]})]})})]}),K.plotFramework&&y.jsxs("div",{className:"mt-3",children:[y.jsx("div",{className:`p-3 bg-slate-900/50 rounded-lg text-sm text-slate-400 transition-all duration-300 ease-in-out ${S.has(K.id)?"":"line-clamp-3"}`,children:K.plotFramework}),K.plotFramework.length>200&&y.jsx("button",{onClick:N=>de(K.id,N),onKeyDown:N=>{(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),de(K.id,N))},className:"mt-2 text-xs text-amber-400 hover:text-amber-300 transition-colors focus:outline-none focus:ring-2 focus:ring-amber-400 focus:ring-offset-2 focus:ring-offset-slate-800 rounded px-2 py-1","aria-label":S.has(K.id)?"":"","aria-expanded":S.has(K.id),children:S.has(K.id)?" ":" "})]})]},K.id))}),y.jsxs("div",{className:"p-4 border-t border-slate-700 flex gap-3",children:[y.jsx("button",{onClick:r,className:"flex-1 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:" "}),y.jsx("button",{onClick:ie,disabled:!f,className:"flex-1 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl font-bold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:" "})]})]}),v&&g&&y.jsx(Zf,{initialScript:g,isEditing:!0,onSave:Ae,onCancel:ct,onGeneratePlot:async K=>K})]}):null});Lv.displayName="ScriptLibrary";const Uv=C.memo(({type:a,intensity:i=.5})=>{const l=C.useRef(null),r=C.useRef([]),c=C.useRef(0);return C.useEffect(()=>{if(a==="none")return;const d=l.current;if(!d)return;const f=d.getContext("2d");if(!f)return;const m=()=>{d.width=window.innerWidth,d.height=window.innerHeight};m(),window.addEventListener("resize",m);const g=Math.floor(50*i);r.current=[];for(let v=0;v<g;v++)r.current.push(WE(d.width,d.height,a));const p=()=>{f.clearRect(0,0,d.width,d.height),r.current.forEach((v,b)=>{e5(v,d.width,d.height,a),t5(f,v,a)}),c.current=requestAnimationFrame(p)};return p(),()=>{window.removeEventListener("resize",m),cancelAnimationFrame(c.current)}},[a,i]),a==="none"?null:y.jsx("canvas",{ref:l,className:"absolute inset-0 z-15 pointer-events-none",style:{mixBlendMode:a==="fireflies"?"screen":"normal"}})});Uv.displayName="WeatherEffect";function WE(a,i,l){const r={x:Math.random()*a,y:Math.random()*i-i,speed:1+Math.random()*2,size:2+Math.random()*3,opacity:.3+Math.random()*.5,angle:Math.random()*Math.PI*2,drift:(Math.random()-.5)*.5};switch(l){case"rain":r.speed=8+Math.random()*4,r.size=1,r.opacity=.3+Math.random()*.3;break;case"snow":r.speed=.5+Math.random()*1.5,r.size=2+Math.random()*4,r.drift=(Math.random()-.5)*1;break;case"leaves":r.speed=1+Math.random()*2,r.size=8+Math.random()*8,r.drift=(Math.random()-.5)*2;break;case"petals":r.speed=.8+Math.random()*1.2,r.size=4+Math.random()*4,r.drift=(Math.random()-.5)*1.5;break;case"fireflies":r.speed=.2+Math.random()*.3,r.size=2+Math.random()*2,r.opacity=Math.random();break}return r}function e5(a,i,l,r){switch(r){case"rain":a.y+=a.speed,a.x+=1;break;case"snow":case"leaves":case"petals":a.y+=a.speed,a.x+=Math.sin(a.angle||0)*(a.drift||0),a.angle=(a.angle||0)+.02;break;case"fireflies":a.x+=Math.sin(a.angle||0)*.5,a.y+=Math.cos(a.angle||0)*.3,a.angle=(a.angle||0)+.02,a.opacity=.3+Math.sin(a.angle*3)*.4;break}a.y>l+20&&(a.y=-20,a.x=Math.random()*i),a.x<-20&&(a.x=i+20),a.x>i+20&&(a.x=-20)}function t5(a,i,l){switch(a.save(),a.globalAlpha=i.opacity,l){case"rain":a.strokeStyle="#a0c4ff",a.lineWidth=i.size,a.beginPath(),a.moveTo(i.x,i.y),a.lineTo(i.x+1,i.y+15),a.stroke();break;case"snow":a.fillStyle="#ffffff",a.beginPath(),a.arc(i.x,i.y,i.size,0,Math.PI*2),a.fill();break;case"leaves":a.fillStyle="#d4a574",a.translate(i.x,i.y),a.rotate(i.angle||0),a.beginPath(),a.ellipse(0,0,i.size,i.size*.5,0,0,Math.PI*2),a.fill();break;case"petals":a.fillStyle="#ffb7c5",a.translate(i.x,i.y),a.rotate(i.angle||0),a.beginPath(),a.ellipse(0,0,i.size,i.size*.6,0,0,Math.PI*2),a.fill();break;case"fireflies":const r=a.createRadialGradient(i.x,i.y,0,i.x,i.y,i.size*3);r.addColorStop(0,`rgba(255, 255, 150, ${i.opacity})`),r.addColorStop(1,"rgba(255, 255, 150, 0)"),a.fillStyle=r,a.beginPath(),a.arc(i.x,i.y,i.size*3,0,Math.PI*2),a.fill();break}a.restore()}const Gv=C.memo(({isOpen:a,dialogueOpacity:i,isMuted:l,onClose:r,onOpacityChange:c,onToggleMute:d})=>a?y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fadeIn",children:[y.jsx("div",{className:"absolute inset-0",onClick:r}),y.jsxs("div",{className:"relative w-full max-w-xl bg-slate-900/95 border border-slate-700 rounded-2xl shadow-2xl p-8 overflow-hidden",onClick:f=>f.stopPropagation(),children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500"}),y.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-slate-700",children:[y.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[y.jsx("span",{className:"text-pink-500",children:""})," "]}),y.jsx("button",{onClick:r,className:"w-10 h-10 rounded-full bg-slate-800 hover:bg-slate-700 flex items-center justify-center text-slate-400 hover:text-white transition-all",children:""})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsx("section",{className:"bg-slate-800/50 rounded-xl p-5 border border-slate-700/50",children:y.jsx(Yf,{})}),y.jsxs("section",{className:"bg-slate-800/50 rounded-xl p-5 border border-slate-700/50",children:[y.jsxs("div",{className:"flex justify-between mb-3",children:[y.jsx("label",{className:"text-slate-200 font-medium",children:" "}),y.jsxs("span",{className:"text-pink-400 font-mono",children:[i,"%"]})]}),y.jsx("input",{type:"range",min:"30",max:"100",value:i,onChange:f=>c(Number(f.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500"}),y.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[y.jsx("span",{children:""}),y.jsx("span",{children:""})]})]}),y.jsxs("section",{className:"bg-slate-800/50 rounded-xl p-5 border border-slate-700/50 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-slate-200 font-medium mb-1",children:" "}),y.jsx("div",{className:"text-slate-500 text-sm",children:""})]}),y.jsx("button",{onClick:d,className:`w-14 h-8 rounded-full transition-colors relative ${l?"bg-pink-600":"bg-slate-700"}`,children:y.jsx("div",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow transition-transform ${l?"translate-x-6":"translate-x-0"}`})})]})]}),y.jsx("div",{className:"mt-8 pt-6 border-t border-slate-700 flex justify-end",children:y.jsx("button",{onClick:r,className:"px-8 py-3 bg-pink-600 hover:bg-pink-500 text-white font-bold rounded-xl shadow-lg shadow-pink-500/20 transition-all hover:scale-105",children:""})})]})]}):null);Gv.displayName="SettingsModal";const Rc=({isOpen:a,onClose:i,mode:l,scriptId:r,scriptTitle:c,showAllScripts:d=!1,currentState:f,onLoad:m})=>{const[g,p]=C.useState([]),[v,b]=C.useState([]),[S,M]=C.useState(null),z=C.useCallback(()=>{if(d){const k=es(),q=[];Object.entries(k).forEach(([ne,Z])=>{Z.slots.forEach(I=>{I.saveData&&q.push({scriptId:ne,scriptTitle:I.saveData.scriptTitle,slot:I})})}),q.sort((ne,Z)=>{var I,oe;return(((I=Z.slot.saveData)==null?void 0:I.timestamp)||0)-(((oe=ne.slot.saveData)==null?void 0:oe.timestamp)||0)}),b(q)}else if(r){const k=SE(r);p(k.slots)}},[r,d]);C.useEffect(()=>{a&&(z(),M(null))},[a,z]);const Y=k=>{!f||!r||!c||(yv(r,k,{scriptId:r,scriptTitle:c,chapterIndex:f.chapterIndex,dialogueIndex:f.dialogueIndex,affection:f.affection,turnsPlayed:f.turnsPlayed,characterName:f.characterName,currentExpression:f.currentExpression,currentBackground:f.currentBackground,currentBgm:f.currentBgm,previewText:f.currentDialogue.substring(0,50)+(f.currentDialogue.length>50?"...":"")}),z())},B=k=>{if(!r)return;const q=gg(r,k);q&&m&&(m(q),i())},H=(k,q)=>{const ne=gg(k,q);ne&&m&&(m(ne),i())},Q=k=>{const q=`${r}_${k}`;S===q?(r&&(yg(r,k),z()),M(null)):M(q)},X=(k,q)=>{const ne=`${k}_${q}`;S===ne?(yg(k,q),z(),M(null)):M(ne)};return a?y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:y.jsxs("div",{className:`bg-gradient-to-br from-slate-900 via-purple-900/50 to-slate-900 
                      rounded-2xl border border-purple-500/30 shadow-2xl 
                      w-[90%] max-w-2xl max-h-[80vh] overflow-hidden`,children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-purple-500/30",children:[y.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:l==="save"?" ":" "}),y.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white transition-colors text-2xl",children:""})]}),!d&&c&&y.jsx("div",{className:"px-4 py-2 bg-purple-900/30 border-b border-purple-500/20",children:y.jsxs("p",{className:"text-purple-300 text-sm",children:[" ",c]})}),y.jsx("div",{className:"p-4 space-y-3 overflow-y-auto max-h-[50vh]",children:d?v.length>0?v.map(k=>{const q=`${k.scriptId}_${k.slot.slotIndex}`;return y.jsx("div",{className:`relative p-4 rounded-xl border transition-all duration-300
                      bg-slate-800/80 border-purple-500/40 hover:border-purple-400/60`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"text-cyan-400 font-bold text-sm px-2 py-0.5 bg-cyan-900/50 rounded",children:k.scriptTitle}),y.jsx("span",{className:"text-xs text-gray-500",children:vg(k.slot.saveData.timestamp)})]}),y.jsxs("div",{className:"text-sm space-y-1",children:[y.jsxs("p",{className:"text-gray-300",children:["  ",k.slot.saveData.chapterIndex+1,"    ",k.slot.saveData.turnsPlayed]}),y.jsxs("p",{className:"text-pink-400",children:[" : ",k.slot.saveData.affection]}),y.jsxs("p",{className:"text-gray-500 text-xs truncate max-w-md",children:['"',k.slot.saveData.previewText,'"']})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>H(k.scriptId,k.slot.slotIndex),className:`px-4 py-2 bg-green-600 hover:bg-green-500 
                                     text-white rounded-lg transition-colors text-sm`,children:""}),y.jsx("button",{onClick:()=>X(k.scriptId,k.slot.slotIndex),className:`px-3 py-2 rounded-lg transition-colors text-sm
                            ${S===q?"bg-red-600 text-white":"bg-slate-700 hover:bg-red-600/50 text-gray-400 hover:text-white"}`,children:S===q?"?":""})]})]})},q)}):y.jsx("div",{className:"text-center py-8 text-gray-500",children:""}):g.map(k=>{const q=`${r}_${k.slotIndex}`;return y.jsx("div",{className:`relative p-4 rounded-xl border transition-all duration-300
                    ${k.saveData?"bg-slate-800/80 border-purple-500/40 hover:border-purple-400/60":"bg-slate-800/40 border-slate-600/30 hover:border-slate-500/50"}`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsxs("span",{className:"text-purple-400 font-bold",children:[" ",k.slotIndex+1]}),k.saveData&&y.jsx("span",{className:"text-xs text-gray-500",children:vg(k.saveData.timestamp)})]}),k.saveData?y.jsxs("div",{className:"text-sm space-y-1",children:[y.jsxs("p",{className:"text-gray-300",children:["  ",k.saveData.chapterIndex+1,"    ",k.saveData.turnsPlayed]}),y.jsxs("p",{className:"text-pink-400",children:[" : ",k.saveData.affection]}),y.jsxs("p",{className:"text-gray-500 text-xs truncate max-w-md",children:['"',k.saveData.previewText,'"']})]}):y.jsx("p",{className:"text-gray-500 text-sm",children:""})]}),y.jsxs("div",{className:"flex gap-2",children:[l==="save"?y.jsx("button",{onClick:()=>Y(k.slotIndex),className:`px-4 py-2 bg-purple-600 hover:bg-purple-500 
                                     text-white rounded-lg transition-colors text-sm`,children:k.saveData?"":""}):k.saveData&&y.jsx("button",{onClick:()=>B(k.slotIndex),className:`px-4 py-2 bg-green-600 hover:bg-green-500 
                                       text-white rounded-lg transition-colors text-sm`,children:""}),k.saveData&&y.jsx("button",{onClick:()=>Q(k.slotIndex),className:`px-3 py-2 rounded-lg transition-colors text-sm
                            ${S===q?"bg-red-600 text-white":"bg-slate-700 hover:bg-red-600/50 text-gray-400 hover:text-white"}`,children:S===q?"?":""})]})]})},k.slotIndex)})}),y.jsx("div",{className:"p-4 border-t border-purple-500/20 bg-slate-900/50",children:y.jsx("p",{className:"text-gray-500 text-xs text-center",children:l==="save"?"":""})})]})}):null},zc="ai_novel_batch_cache",Bc="ai_novel_branch_cache",Hi="1.0.1",Eg=10080*60*1e3;class xa{constructor(){this.cache=new Map,this.branchCache=new Map,this.isPreGenerating=!1,this.loadCache()}static getInstance(){return xa.instance||(xa.instance=new xa),xa.instance}loadCache(){try{const i=localStorage.getItem(zc);if(i){const r=JSON.parse(i);this.cache=new Map(r.filter(c=>c.version===Hi&&Date.now()-c.generatedAt<Eg).map(c=>[c.scriptId,{...c,batchData:ba(c.batchData)}]))}const l=localStorage.getItem(Bc);if(l){const r=JSON.parse(l);this.branchCache=new Map(r.filter(c=>c.version===Hi&&Date.now()-c.generatedAt<Eg).map(c=>[`${c.scriptId}_${c.choiceText}`,{...c,branchData:ba(c.branchData)}]))}}catch(i){console.warn("Failed to load batch data cache:",i),this.cache.clear(),this.branchCache.clear()}}saveCache(){try{const i=Array.from(this.cache.values());localStorage.setItem(zc,JSON.stringify(i));const l=Array.from(this.branchCache.values());localStorage.setItem(Bc,JSON.stringify(l))}catch(i){console.warn("Failed to save batch data cache:",i)}}getCachedBatchData(i){const l=this.cache.get(i);return(l==null?void 0:l.batchData)||null}hasCachedBatchData(i){return this.cache.has(i)}getCachedBranchData(i,l){const r=`${i}_${l}`,c=this.branchCache.get(r);return(c==null?void 0:c.branchData)||null}hasCachedBranchData(i,l){const r=`${i}_${l}`;return this.branchCache.has(r)}cacheManualData(i,l){if(this.hasCachedBatchData(i))return;const r={scriptId:i,batchData:ba(l),generatedAt:Date.now(),version:Hi};this.cache.set(i,r),this.saveCache(),console.log(`[DialogueCache]  ${i} `)}async generateAndCacheBatchData(i){if(this.hasCachedBatchData(i.id))return this.getCachedBatchData(i.id);try{const{setCustomScript:l}=await kE(async()=>{const{setCustomScript:d}=await Promise.resolve().then(()=>KE);return{setCustomScript:d}},void 0);l(i.character.name,i.character.personality,i.setting,i.plotFramework);const r=await Xr(),c={scriptId:i.id,batchData:r,generatedAt:Date.now(),version:Hi};return this.cache.set(i.id,c),this.saveCache(),console.log(`[DialogueCache]  ${i.name} `),r}catch(l){throw console.error(`Failed to generate batch data for script ${i.id}:`,l),l}}async preGenerateFirstScriptTwoActs(i){var r;if(this.isPreGenerating){console.log("[DialogueCache] ");return}const l=i.find(c=>c.id==="preset_tsundere");if(!l){console.log("[DialogueCache] ");return}if(this.hasCachedBatchData(l.id)){const c=this.getCachedBatchData(l.id);if(c&&c.choices&&c.choices.every(f=>this.hasCachedBranchData(l.id,f.text))){console.log("[DialogueCache] ");return}}this.isPreGenerating=!0,console.log("[DialogueCache] ...");try{console.log("[DialogueCache] ");const c=await this.generateAndCacheBatchData(l);if(!c.choices||c.choices.length===0){console.warn("[DialogueCache] "),this.isPreGenerating=!1;return}console.log(`[DialogueCache] ${c.choices.length} `);for(let d=0;d<c.choices.length;d++){const f=c.choices[d],m=`${l.id}_${f.text}`;if(this.branchCache.has(m)){console.log(`[DialogueCache]  ${d+1}/${c.choices.length} : "${f.text.substring(0,15)}..."`);continue}try{console.log(`[DialogueCache]  ${d+1}/${c.choices.length}: "${f.text.substring(0,15)}..."`);const g=await qr(f.text,f.sentiment),p={scriptId:l.id,choiceText:f.text,branchData:g,generatedAt:Date.now(),version:Hi};this.branchCache.set(m,p),this.saveCache(),console.log(`[DialogueCache]  ${d+1}  ${((r=g.dialogueSequence)==null?void 0:r.length)||0} `),d<c.choices.length-1&&await new Promise(v=>setTimeout(v,1e3))}catch(g){console.error(`[DialogueCache]  ${d+1} :`,g)}}console.log("[DialogueCache] "),this.isPreGenerating=!1}catch(c){console.error("[DialogueCache] :",c),this.isPreGenerating=!1}}async preGenerateAllBatchData(i){console.log("[DialogueCache] 10..."),setTimeout(()=>{this.preGenerateFirstScriptTwoActs(i).catch(l=>{console.error("[DialogueCache] :",l)})},1e4)}async preloadScript(i,l){if(this.isPreGenerating)return console.log("[DialogueCache] "),!1;this.isPreGenerating=!0;try{l==null||l("...",10);const r=await this.generateAndCacheBatchData(i);if(l==null||l("",40),!r.choices||r.choices.length===0)return console.warn("[DialogueCache] "),this.isPreGenerating=!1,l==null||l("",100),!0;const c=r.choices.length;for(let d=0;d<c;d++){const f=r.choices[d],m=`${i.id}_${f.text}`;if(l==null||l(` ${d+1}/${c}...`,40+d/c*55),!this.branchCache.has(m))try{const g=await qr(f.text,f.sentiment),p={scriptId:i.id,choiceText:f.text,branchData:g,generatedAt:Date.now(),version:Hi};this.branchCache.set(m,p),this.saveCache(),d<c-1&&await new Promise(v=>setTimeout(v,800))}catch(g){console.error(`[DialogueCache]  ${d+1} :`,g)}}return this.isPreGenerating=!1,l==null||l("",100),console.log(`[DialogueCache]  ${i.name} `),!0}catch(r){return console.error("[DialogueCache] :",r),this.isPreGenerating=!1,l==null||l("",0),!1}}isScriptFullyCached(i){if(!this.hasCachedBatchData(i))return!1;const l=this.getCachedBatchData(i);return!(l!=null&&l.choices)||l.choices.length===0?!0:l.choices.every(r=>this.hasCachedBranchData(i,r.text))}clearCache(){this.cache.clear(),this.branchCache.clear(),localStorage.removeItem(zc),localStorage.removeItem(Bc),console.log("[DialogueCache] ")}getCacheStats(){const i=["preset_tsundere","preset_princess","preset_courtesan"],l=this.cache.size,r=i.filter(c=>this.cache.has(c)).length;return{total:3,cached:l,presetCached:r}}}const Cg={currentScene:null,history:[],affection:Mr,isLoading:!1,gameStarted:!1,turn:0,isPaused:!1,dialogueOpacity:90,prefetchedScene:null,prefetchedImage:null};function n5(){var fn,Na,_e,We;const[a,i]=C.useState(Cg),[l,r]=C.useState(!1),[c,d]=C.useState(!1),[f,m]=C.useState(null),[g,p]=C.useState(!1),[v,b]=C.useState(!1),[S,M]=C.useState(!1),[z,Y]=C.useState(!1),[B,H]=C.useState(null),[Q,X]=C.useState([]),[k,q]=C.useState(0),[ne,Z]=C.useState([]),[I,oe]=C.useState(Te.SCHOOL_ROOFTOP),[ie,we]=C.useState(pt.DAILY),[Ae,ct]=C.useState(!1),[de,K]=C.useState(null),[N,V]=C.useState(0),[$,ce]=C.useState(0),[xe,A]=C.useState(null),[L,F]=C.useState([]),[W,le]=C.useState(null),he=!0;C.useEffect(()=>{var J;(J=a.currentScene)!=null&&J.bgm&&ut.playBgm(a.currentScene.bgm)},[(fn=a.currentScene)==null?void 0:fn.bgm]),C.useEffect(()=>{(async()=>{if(!(!v||!a.currentScene)&&!(a.currentScene.speaker!==""&&a.currentScene.speaker!==(B==null?void 0:B.character.name))){M(!0);try{const P=await wv(a.currentScene.dialogue);P&&ut.playVoice(P)}catch(P){console.error("Voice playback error",P)}finally{M(!1)}}})()},[a.currentScene,v,B]);const me=C.useCallback((J,P,ee,ue)=>({narrative:J.narrative||"",speaker:J.speaker,dialogue:J.dialogue,expression:J.expression,background:J.background||ee,bgm:J.bgm||ue,choices:P,affectionChange:0,isGameOver:!1}),[]),Xe=C.useCallback(async()=>{await ut.init(),ut.playSfx("start"),i(J=>({...J,isLoading:!0})),m(null);try{const J=xa.getInstance();let P;if(J.hasCachedBatchData("preset_tsundere")?(console.log("[Game] "),P=ba(J.getCachedBatchData("preset_tsundere"))):(console.log("[Game] ..."),P=await Xr()),console.log(`[Game]  ${P.dialogueSequence.length} `),X(P.dialogueSequence),q(0),Z(P.choices),oe(P.background),we(P.bgm),P.dialogueSequence.length>0){const ee=P.dialogueSequence[0],ue=me(ee,P.choices,P.background,P.bgm);i(ge=>({...ge,currentScene:ue,history:[ue],affection:Mr,isLoading:!1,gameStarted:!0,turn:1}))}else throw new Error("")}catch(J){console.error("[Game] :",J),m(""),i(P=>({...P,isLoading:!1}))}},[he,me]),Ge=C.useCallback(async J=>{await ut.init(),ut.playSfx("start"),i(P=>({...P,isLoading:!0})),m(null);try{const P=await Tg(J);if(!P)throw new Error(`: ${J}`);console.log(`[Script] : ${P.title}, ${P.chapters.length} `);const ee=_r(P,0,J);if(ee.length===0)throw new Error("");K(P),ct(!0),V(0),ce(0),F(ee);const ue=ee[0];ue.isCG&&ue.cgImage?A(ue.cgImage):A(null),i(ge=>({...ge,currentScene:ue,history:[ue],affection:Mr,isLoading:!1,gameStarted:!0,turn:1}))}catch(P){console.error("[Script] :",P),m(`: ${P}`),i(ee=>({...ee,isLoading:!1}))}},[]),vn=C.useCallback(async J=>{var P,ee,ue,ge;if(r(!1),Ae&&de){const ke=((P=a.currentScene)==null?void 0:P.choices.findIndex(be=>be.text===J))??0,dt=$E(de,N,ke),Ke=N+1;if(Ke<de.chapters.length){const be=_r(de,Ke,de.id);V(Ke),ce(0),F(be);const Qe=be[0];Qe.isCG&&Qe.cgImage?A(Qe.cgImage):A(null),i(Et=>({...Et,currentScene:Qe,history:[...Et.history,Qe],affection:Math.min(pc,Math.max(mc,Et.affection+dt)),turn:Et.turn+1}))}else{console.log("[Script] ");const be=Ag(de,N);be?(console.log("[Script] :",be.title),le(be)):le({type:"normal_end",title:"",description:""}),i(Qe=>({...Qe,affection:Math.min(pc,Math.max(mc,Qe.affection+dt))}))}return}i(ke=>({...ke,isLoading:!0}));try{const ke=(ee=a.currentScene)==null?void 0:ee.choices.find(Qe=>Qe.text===J),dt=(ke==null?void 0:ke.sentiment)||"neutral";console.log(`[Game] : "${J}" (${dt})...`);const Ke=await qr(J,dt),be=ba(Ke);if(console.log(`[Game]  ${be.dialogueSequence.length} `),X(be.dialogueSequence),q(0),Z(be.choices),oe(be.background),we(be.bgm),be.dialogueSequence.length>0){const Qe=be.dialogueSequence[0],Et=me(Qe,be.choices,be.background,be.bgm);i(Xt=>{const ti=Math.min(pc,Math.max(mc,Xt.affection+(be.affectionChange||0)));return{...Xt,currentScene:Et,history:[...Xt.history,Et],affection:ti,isLoading:!1,turn:Xt.turn+1}})}else if(be.isGameOver){const Qe={narrative:be.narrative||"...",speaker:"",dialogue:((ge=(ue=be.dialogueSequence)==null?void 0:ue[0])==null?void 0:ge.dialogue)||"",expression:Se.NEUTRAL,background:I,bgm:pt.SAD,choices:[],affectionChange:be.affectionChange||0,isGameOver:!0};i(Et=>({...Et,currentScene:Qe,history:[...Et.history,Qe],isLoading:!1}))}else r(!0),i(Qe=>({...Qe,isLoading:!1}))}catch(ke){console.error("[Game] :",ke),m(""),i(dt=>({...dt,isLoading:!1}))}},[(Na=a.currentScene)==null?void 0:Na.choices,me]),Gn=C.useCallback(()=>{const J=ut.toggleMute();p(J)},[]),ln=C.useCallback(()=>{var P;if(a.isLoading||l||(P=a.currentScene)!=null&&P.isGameOver)return;if(Ae&&de){const ee=$+1;if(ee<L.length){const ue=L[ee];ce(ee),ue.isCG&&ue.cgImage?A(ue.cgImage):A(null);const ge=ee===L.length-1,ke=ue.choices&&ue.choices.length>0;if(ge&&ke)r(!0);else if(ge&&!ke&&N===de.chapters.length-1){const be=Ag(de,N);be&&(console.log("[Script] :",be.title),le(be))}const dt={...ue,historyChapterIndex:N,historyDialogueIndex:ee};i(Ke=>({...Ke,currentScene:ue,history:[...Ke.history,dt],turn:Ke.turn+1}))}return}const J=k+1;if(J<Q.length){q(J);const ee=Q[J];console.log(`[Game]  ${J+1}/${Q.length}: ${ee.speaker}`);const ue=me(ee,ne,I,ie);i(ge=>({...ge,currentScene:ue,history:[...ge.history,ue]}))}else console.log("[Game] "),r(!0)},[a.isLoading,l,(_e=a.currentScene)==null?void 0:_e.isGameOver,k,Q,ne,I,ie,me,Ae,de,$,L]),Pa=C.useCallback(()=>{Y(J=>!J)},[]),qt=C.useRef(ln);C.useEffect(()=>{qt.current=ln},[ln]),C.useEffect(()=>{var P,ee,ue;let J;if(z&&!c&&!a.isLoading&&!l&&!a.isPaused&&!((P=a.currentScene)!=null&&P.isGameOver)){const ge=((ue=(ee=a.currentScene)==null?void 0:ee.dialogue)==null?void 0:ue.length)||0,ke=v?250:150,dt=v?2e3:1500,Ke=Math.max(2e3,ge*ke+dt);console.log(`[AutoPlay] Starting timer for next dialogue. Delay: ${Ke}ms`),J=setTimeout(()=>{console.log("[AutoPlay] Timer triggered, calling handleNextDialogue"),!l&&!a.isPaused&&qt.current()},Ke)}else z&&console.log("[AutoPlay] Paused/Waiting conditions:",{isTyping:c,isLoading:a.isLoading,showChoices:l,isPaused:a.isPaused});return()=>{J&&clearTimeout(J)}},[z,c,a.isLoading,l,a.isPaused,(We=a.currentScene)==null?void 0:We.dialogue,a.turn,v]);const Hn=C.useCallback(()=>{b(J=>!J)},[]),Ea=C.useCallback(()=>{m(null)},[]),ts=C.useCallback(()=>{i(J=>({...J,isPaused:!J.isPaused}))},[]),Ia=C.useCallback(J=>{i(P=>({...P,dialogueOpacity:J}))},[]),kn=C.useCallback(()=>{Rv(),zv(),X([]),q(0),i(Cg),r(!1),m(null),ct(!1),K(null),V(0),ce(0),A(null),F([]),le(null)},[]),Yn=C.useCallback(async J=>{H(J),Ov(J.character.name,J.character.personality,J.setting,J.plotFramework),await ut.init(),ut.playSfx("start"),i(P=>({...P,isLoading:!0})),m(null);try{const P=xa.getInstance();let ee;if(P.hasCachedBatchData(J.id)?(console.log(`[Game] : ${J.name}`),ee=ba(P.getCachedBatchData(J.id))):(console.log(`[Game] : ${J.name}`),ee=await Xr(),setTimeout(()=>{P.cacheManualData(J.id,ee)},100)),console.log(`[Game]  ${ee.dialogueSequence.length} `),X(ee.dialogueSequence),q(0),Z(ee.choices),oe(ee.background),we(ee.bgm),ee.dialogueSequence.length>0){const ue=ee.dialogueSequence[0],ge=me(ue,ee.choices,ee.background,ee.bgm);i(ke=>({...ke,currentScene:ge,history:[ge],affection:Mr,isLoading:!1,gameStarted:!0,turn:1}))}else throw new Error("")}catch(P){console.error("[Game] :",P),m(""),i(ee=>({...ee,isLoading:!1}))}},[he,me]),qn=C.useCallback(()=>{B&&NE({scriptId:B.id,scriptName:B.name,characterName:B.character.name,endingType:Sv(a.affection),finalAffection:a.affection,turnsPlayed:a.turn})},[B,a.affection,a.turn]),Wa=C.useCallback(async J=>jv(),[]),ei=C.useCallback(async J=>{try{i(ge=>({...ge,isLoading:!0}));const P=await Tg(J.scriptId);if(!P)throw new Error("");K(P),ct(!0),V(J.chapterIndex),ce(J.dialogueIndex);const ee=_r(P,J.chapterIndex,J.scriptId);F(ee);const ue=ee[J.dialogueIndex];if(ue){const ge=ue;ge.isCG&&ge.cgImage?A(ge.cgImage):A(null),i(ke=>({...ke,currentScene:{...ue,expression:J.currentExpression,background:J.currentBackground,bgm:J.currentBgm},affection:J.affection,turn:J.turnsPlayed,gameStarted:!0,isLoading:!1}))}ut.playBgm(J.currentBgm)}catch(P){m(P instanceof Error?P.message:""),i(ee=>({...ee,isLoading:!1}))}},[]),ft=C.useCallback(()=>{var P,ee,ue,ge,ke;if(!Ae||!de)return null;const J=()=>{var dt,Ke,be;return de.id==="preset_princess"||(dt=de.title)!=null&&dt.includes("")||(Ke=de.title)!=null&&Ke.includes("")?"":de.id==="preset_tsundere"||(be=de.title)!=null&&be.includes("")?"":""};return{chapterIndex:N,dialogueIndex:$,affection:a.affection,turnsPlayed:a.turn,characterName:J(),currentExpression:((P=a.currentScene)==null?void 0:P.expression)||Se.NEUTRAL,currentBackground:((ee=a.currentScene)==null?void 0:ee.background)||Te.PALACE_GARDEN,currentBgm:((ue=a.currentScene)==null?void 0:ue.bgm)||pt.DAILY,currentDialogue:((ge=a.currentScene)==null?void 0:ge.dialogue)||((ke=a.currentScene)==null?void 0:ke.narrative)||""}},[Ae,de,N,$,a]),Xn=C.useCallback(()=>Ae&&de?de.id||"preset_princess":(B==null?void 0:B.id)||"",[Ae,de,B]),Ca=C.useCallback(()=>Ae&&de?de.title||"":(B==null?void 0:B.name)||"",[Ae,de,B]),Da=C.useCallback(J=>{if(!Ae||!de)return;const P=a.history[J];if(!P||P.historyChapterIndex===void 0||P.historyDialogueIndex===void 0){console.warn("[History] ");return}const ee=P.historyChapterIndex,ue=P.historyDialogueIndex;r(!1),V(ee),ce(ue);const ge=Xn(),ke=_r(de,ee,ge);F(ke);const dt=a.history.slice(0,J+1),Ke=ke[ue];if(Ke){const be=Ke;be.isCG&&be.cgImage?A(be.cgImage):A(null),i(Qe=>({...Qe,currentScene:Ke,history:dt,turn:J+1})),Ke.bgm&&ut.playBgm(Ke.bgm)}console.log(`[History]  ${ee+1},  ${ue+1}`)},[Ae,de,a.history,Xn]);return{gameState:a,showChoices:l,isTyping:c,setIsTyping:d,error:f,isMuted:g,isVoiceEnabled:v,isVoiceLoading:S,currentScript:B,hasApiKey:he,isAutoPlay:z,isScriptMode:Ae,currentCG:xe,currentChapterIndex:N,loadedScript:de,scriptEnding:W,handleStartGame:Xe,handleChoice:vn,handleToggleMute:Gn,handleNextDialogue:ln,toggleVoice:Hn,toggleAutoPlay:Pa,clearError:Ea,togglePause:ts,setDialogueOpacity:Ia,returnToTitle:kn,startWithScript:Yn,handleGeneratePlot:Wa,saveGameRecord:qn,handleStartScriptGame:Ge,loadFromSave:ei,getCurrentSaveState:ft,getCurrentScriptId:Xn,getCurrentScriptTitle:Ca,scriptDialogueIndex:$,jumpToHistory:Da}}const a5=(a={})=>{const{intensity:i=20,enabled:l=!0}=a,[r,c]=C.useState({x:0,y:0}),d=C.useCallback(m=>{if(!l)return;const g=window.innerWidth/2,p=window.innerHeight/2,v=(m.clientX-g)/g,b=(m.clientY-p)/p;c({x:v*i,y:b*i})},[i,l]),f=C.useCallback(()=>{c({x:0,y:0})},[]);return C.useEffect(()=>{if(!l){c({x:0,y:0});return}return window.addEventListener("mousemove",d),window.addEventListener("mouseleave",f),()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseleave",f)}},[d,f,l]),r};class i5{constructor(){this.worker=null,this.pendingRequests=new Map,this.requestId=0,this.isSupported=typeof Worker<"u"}init(){if(!this.isSupported){console.warn("Web Workers are not supported in this environment");return}if(!this.worker)try{this.worker=new Worker(new URL("/ai_novel/assets/jsonParser.worker-DME07qFG.js",import.meta.url),{type:"module"}),this.worker.onmessage=i=>{const{type:l,id:r,data:c,error:d}=i.data,f=this.pendingRequests.get(r);f&&(l==="result"?f.resolve(c):l==="error"&&f.reject(new Error(d)),this.pendingRequests.delete(r))},this.worker.onerror=i=>{console.error("Worker error:",i)}}catch(i){console.warn("Failed to initialize Worker:",i),this.isSupported=!1}}async parseJSON(i){return!this.isSupported||!this.worker||i.length<1e3?this.fallbackParse(i):new Promise((l,r)=>{const c=`parse_${++this.requestId}`;this.pendingRequests.set(c,{resolve:l,reject:r}),this.worker.postMessage({type:"parse",id:c,data:i}),setTimeout(()=>{this.pendingRequests.has(c)&&(this.pendingRequests.delete(c),l(this.fallbackParse(i)))},5e3)})}async stringifyJSON(i){return!this.isSupported||!this.worker?JSON.stringify(i,null,2):new Promise((l,r)=>{const c=`stringify_${++this.requestId}`;this.pendingRequests.set(c,{resolve:l,reject:r}),this.worker.postMessage({type:"stringify",id:c,data:i}),setTimeout(()=>{this.pendingRequests.has(c)&&(this.pendingRequests.delete(c),l(JSON.stringify(i,null,2)))},5e3)})}fallbackParse(i){let l=i;const r=l.match(/```(?:json)?\s*([\s\S]*?)```/);return r&&(l=r[1]),JSON.parse(l)}destroy(){this.worker&&(this.worker.terminate(),this.worker=null),this.pendingRequests.clear()}}const s5=new i5,l5={preset_tsundere:"",preset_princess:"",preset_courtesan:""},Vc=a=>l5[a]||"";s5.init();const r5=()=>{var kn,Yn,qn,Wa,ei,ft,Xn,Ca,Da,fn,Na;const{gameState:a,showChoices:i,isTyping:l,setIsTyping:r,error:c,isMuted:d,isVoiceEnabled:f,isVoiceLoading:m,currentScript:g,hasApiKey:p,handleChoice:v,handleToggleMute:b,handleNextDialogue:S,toggleVoice:M,clearError:z,togglePause:Y,setDialogueOpacity:B,returnToTitle:H,startWithScript:Q,handleGeneratePlot:X,saveGameRecord:k,isAutoPlay:q,toggleAutoPlay:ne,isScriptMode:Z,currentCG:I,loadedScript:oe,scriptEnding:ie,handleStartScriptGame:we,loadFromSave:Ae,getCurrentSaveState:ct,getCurrentScriptId:de,getCurrentScriptTitle:K,jumpToHistory:N}=n5(),[V,$]=C.useState(!1),[ce,xe]=C.useState(!1),[A,L]=C.useState(!1),[F,W]=C.useState(!1),[le,he]=C.useState(!1),[me,Xe]=C.useState(!1),Ge=C.useRef(!1),vn=()=>{he(!0),a.isPaused&&Y()},Gn=()=>{Xe(!0),a.isPaused&&Y()},ln=_e=>{Xe(!1),Ae(_e)},Pa=_e=>{Ae(_e)},qt=()=>{const _e=ct();if(_e&&Z){const We=de(),J=K();yv(We,0,{scriptId:We,scriptTitle:J,chapterIndex:_e.chapterIndex,dialogueIndex:_e.dialogueIndex,affection:_e.affection,turnsPlayed:_e.turnsPlayed,characterName:_e.characterName,currentExpression:_e.currentExpression,currentBackground:_e.currentBackground,currentBgm:_e.currentBgm,previewText:_e.currentDialogue.substring(0,50)+(_e.currentDialogue.length>50?"...":"")})}H()};C.useEffect(()=>{(async()=>{const We=xa.getInstance(),J=va();setTimeout(()=>{We.preGenerateAllBatchData(J).catch(P=>{console.warn(":",P)})},1e3)})()},[]);const Hn=a5({intensity:15,enabled:a.gameStarted&&!a.isPaused}),Ea=()=>{var We;switch((We=a.currentScene)==null?void 0:We.background){case Te.PARK_NIGHT:return"fireflies";case Te.SCHOOL_ROOFTOP:return"petals";case Te.STREET_SUNSET:return"leaves";default:return"none"}};C.useEffect(()=>{var _e;(_e=a.currentScene)!=null&&_e.isGameOver&&!Ge.current&&(Ge.current=!0,k()),a.gameStarted||(Ge.current=!1)},[(kn=a.currentScene)==null?void 0:kn.isGameOver,a.gameStarted,k]),C.useEffect(()=>{const _e=We=>{if(a.gameStarted&&!(We.target instanceof HTMLInputElement||We.target instanceof HTMLTextAreaElement)){if(We.key==="Escape"){We.preventDefault(),le?he(!1):me?Xe(!1):F?W(!1):Y();return}if(We.key===" "||We.code==="Space"){if(We.preventDefault(),a.isPaused||i||a.isLoading)return;S()}}};return window.addEventListener("keydown",_e),()=>window.removeEventListener("keydown",_e)},[a.gameStarted,a.isPaused,a.isLoading,i,le,me,F,Y,S]);const ts=_e=>{$(!1),_e.useAIMode===!0||!Br(_e.id)?Q(_e):we(_e.id)},Ia=_e=>{xe(!1),$(!0)};return a.gameStarted?ie&&Z?y.jsx(Dv,{ending:ie,affection:a.affection,turnsPlayed:a.turn,characterName:Vc((oe==null?void 0:oe.id)||""),scriptTitle:(oe==null?void 0:oe.title)||"",onReturnToTitle:H}):(Yn=a.currentScene)!=null&&Yn.isGameOver?y.jsx(Av,{narrative:a.currentScene.narrative,affection:a.affection,turnsPlayed:a.turn,characterName:(g==null?void 0:g.character.name)||"",onReturnToTitle:H}):y.jsxs("div",{className:"relative w-full h-screen overflow-hidden bg-black select-none",children:[y.jsx(Bg,{turn:a.turn,affection:a.affection,isMuted:d,onToggleMute:b,onPause:Y,onOpenHistory:()=>W(!0)}),y.jsx(Ng,{type:((qn=a.currentScene)==null?void 0:qn.background)||Te.SCHOOL_ROOFTOP,parallaxOffset:Hn,cgImage:I&&Z?I:void 0}),y.jsx(zg,{triggerKey:((Wa=a.currentScene)==null?void 0:Wa.background)||"init",type:"fade"}),y.jsx(Uv,{type:Ea(),intensity:.4}),y.jsx(_g,{expression:((ei=a.currentScene)==null?void 0:ei.expression)||Se.NEUTRAL,isVisible:!a.isLoading&&!(I&&Z),characterName:Z?Vc((oe==null?void 0:oe.id)||""):(g==null?void 0:g.character.name)||"",isSpeaking:Z?((ft=a.currentScene)==null?void 0:ft.speaker)===Vc((oe==null?void 0:oe.id)||""):((Xn=a.currentScene)==null?void 0:Xn.speaker)===(g==null?void 0:g.character.name),parallaxOffset:Hn}),!(I&&Z)&&y.jsx(Og,{speaker:((Ca=a.currentScene)==null?void 0:Ca.speaker)||"???",text:((Da=a.currentScene)==null?void 0:Da.dialogue)||((fn=a.currentScene)==null?void 0:fn.narrative)||"...",onNext:S,isTyping:l,setIsTyping:r,isVoiceEnabled:f,toggleVoice:M,isVoiceLoading:m,opacity:a.dialogueOpacity,isAutoPlay:q,toggleAutoPlay:ne}),I&&Z&&y.jsx("div",{className:"absolute inset-0 z-20 cursor-pointer",onClick:S,children:y.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 text-white/60 text-sm animate-pulse",children:""})}),y.jsx(Rg,{choices:((Na=a.currentScene)==null?void 0:Na.choices)||[],onChoose:v,visible:i}),y.jsx(rf,{isLoading:a.isLoading}),y.jsx(of,{error:c,onClose:z}),y.jsx(Ev,{isVisible:a.isPaused,dialogueOpacity:a.dialogueOpacity,onResume:Y,onReturnToTitle:H,onOpacityChange:B,onSave:Z?vn:void 0,onLoad:Gn,onQuickSaveAndExit:Z?qt:void 0,canSave:Z}),y.jsx(Cv,{isVisible:F,history:a.history,onClose:()=>W(!1),onJumpToHistory:N,canJump:Z}),y.jsx(Rc,{isOpen:le,onClose:()=>he(!1),mode:"save",scriptId:de(),scriptTitle:K(),currentState:ct()||void 0}),y.jsx(Rc,{isOpen:me,onClose:()=>Xe(!1),mode:"load",scriptId:de(),scriptTitle:K(),onLoad:ln})]}):y.jsxs(y.Fragment,{children:[y.jsx(vv,{hasApiKey:p,isLoading:a.isLoading,error:c,onStart:()=>Xe(!0),onErrorClose:z,onOpenScriptLibrary:()=>$(!0),onOpenSettings:()=>L(!0),onContinueGame:Pa}),y.jsx(Lv,{isVisible:V,onClose:()=>$(!1),onSelectScript:ts,onCreateNew:()=>{$(!1),xe(!0)}}),ce&&y.jsx(Zf,{onSave:Ia,onCancel:()=>{xe(!1),$(!0)},onGeneratePlot:X}),y.jsx(Gv,{isOpen:A,dialogueOpacity:a.dialogueOpacity,isMuted:d,onClose:()=>L(!1),onOpacityChange:B,onToggleMute:b}),y.jsx(Rc,{isOpen:me,onClose:()=>Xe(!1),mode:"load",showAllScripts:!0,onLoad:ln})]})};class o5 extends C.Component{constructor(i){super(i),this.handleReset=()=>{this.setState({hasError:!1,error:null}),window.location.reload()},this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,l){console.error("ErrorBoundary caught an error:",i,l)}render(){var i;return this.state.hasError?y.jsx("div",{className:"w-full h-screen bg-slate-900 flex flex-col items-center justify-center p-8",children:y.jsxs("div",{className:"max-w-md text-center",children:[y.jsx("h1",{className:"text-4xl text-red-400 font-bold mb-4",children:""}),y.jsx("p",{className:"text-slate-300 mb-2",children:""}),y.jsx("p",{className:"text-slate-500 text-sm mb-6 font-mono bg-slate-800 p-3 rounded",children:((i=this.state.error)==null?void 0:i.message)||""}),y.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 bg-pink-600 hover:bg-pink-500 text-white rounded-lg transition-colors",children:""})]})}):this.props.children}}const Hv=document.getElementById("root");if(!Hv)throw new Error("Could not find root element to mount to");const u5=f1.createRoot(Hv);u5.render(y.jsx(a1.StrictMode,{children:y.jsx(o5,{children:y.jsx(E1,{children:y.jsx(r5,{})})})}));
